/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash compat exports="amd" -d -o ./main.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/*!
 * Web Cabin Docker - Docking Layout Interface.
 *
 * Dependencies:
 *  JQuery 1.11.1
 *  JQuery-contextMenu 1.6.6
 *  font-awesome 4.2.0
 *
 * Author: Jeff Houde (lochemage@webcabin.org)
 * Web: https://docker.webcabin.org/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */

!function(){var t,e,i;!function(n){function r(t,e){return $.call(t,e)}function s(t,e){var i,n,r,s,a,o,h,l,c,_,u,f=e&&e.split("/"),p=m.map,d=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),a=t.length-1,m.nodeIdCompat&&y.test(t[a])&&(t[a]=t[a].replace(y,"")),t=f.slice(0,f.length-1).concat(t),c=0;c<t.length;c+=1)if(u=t[c],"."===u)t.splice(c,1),c-=1;else if(".."===u){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||d)&&p){for(i=t.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),f)for(_=f.length;_>0;_-=1)if(r=p[f.slice(0,_).join("/")],r&&(r=r[n])){s=r,o=c;break}if(s)break;!h&&d&&d[n]&&(h=d[n],l=c)}!s&&h&&(s=h,o=l),s&&(i.splice(0,o,s),t=i.join("/"))}return t}function a(t,e){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(n,i.concat([t,e]))}}function o(t){return function(e){return s(e,t)}}function h(t){return function(e){g[t]=e}}function l(t){if(r(v,t)){var e=v[t];delete v[t],b[t]=!0,u.apply(n,e)}if(!r(g,t)&&!r(b,t))throw new Error("No "+t);return g[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function _(t){return function(){return m&&m.config&&m.config[t]||{}}}var u,f,p,d,g={},v={},m={},b={},$=Object.prototype.hasOwnProperty,w=[].slice,y=/\.js$/;p=function(t,e){var i,n=c(t),r=n[0];return t=n[1],r&&(r=s(r,e),i=l(r)),r?t=i&&i.normalize?i.normalize(t,o(e)):s(t,e):(t=s(t,e),n=c(t),r=n[0],t=n[1],r&&(i=l(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},d={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:_(t)}}},u=function(t,e,i,s){var o,c,_,u,f,m,$=[],w=typeof i;if(s=s||t,"undefined"===w||"function"===w){for(e=!e.length&&i.length?["require","exports","module"]:e,f=0;f<e.length;f+=1)if(u=p(e[f],s),c=u.f,"require"===c)$[f]=d.require(t);else if("exports"===c)$[f]=d.exports(t),m=!0;else if("module"===c)o=$[f]=d.module(t);else if(r(g,c)||r(v,c)||r(b,c))$[f]=l(c);else{if(!u.p)throw new Error(t+" missing "+c);u.p.load(u.n,a(s,!0),h(c),{}),$[f]=g[c]}_=i?i.apply(g[t],$):void 0,t&&(o&&o.exports!==n&&o.exports!==g[t]?g[t]=o.exports:_===n&&m||(g[t]=_))}else t&&(g[t]=i)},t=e=f=function(t,e,i,r,s){if("string"==typeof t)return d[t]?d[t](e):l(p(t,e).f);if(!t.splice){if(m=t,m.deps&&f(m.deps,m.callback),!e)return;e.splice?(t=e,e=i,i=null):t=n}return e=e||function(){},"function"==typeof i&&(i=r,r=s),r?u(n,t,e,i):setTimeout(function(){u(n,t,e,i)},4),f},f.config=function(t){return f(t)},t._defined=g,i=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),r(g,t)||r(v,t)||(v[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("libs/almond",function(){}),function(t){"undefined"!=typeof i?i("dcl/mini",[],t):"undefined"!=typeof module?module.exports=t():dcl=t()}(function(){"use strict";function t(e,n){var s,l,c,_,u,f,p,d,g,v,m=[0],b=0;if(e)if(e instanceof Array){for(u={},d=e.slice(0).reverse(),g=d.length-1;g>=0;--g)if(l=d[g],l._uniqueId=l._uniqueId||a++,s=l._meta){for(p=s.bases,b=p.length-1;b>0;--b)v=p[b]._uniqueId,u[v]=(u[v]||0)+1;d[g]=p.slice(0)}else d[g]=[l];f={};t:for(;d.length;){for(g=0;g<d.length;++g)if(p=d[g],l=p[0],v=l._uniqueId,!u[v]){f[v]||(m.push(l),f[v]=1),p.shift(),p.length?--u[p[0]._uniqueId]:d.splice(g,1);continue t}t._error("cycle",n,d)}e=e[0],b=m.length-((_=e._meta)&&e===m[m.length-(b=_.bases.length)]?b:1)-1}else e._uniqueId=e._uniqueId||a++,m=m.concat((_=e._meta)?_.bases:e);for(s=e?t.delegate(e[h]):{},p=e&&(_=e._meta)?t.delegate(_.weaver):{constructor:2};b>0;--b)if(l=m[b],_=l._meta,t.mix(s,_&&_.ownProps||l[h]),_)for(v in d=_.weaver)p[v]=(+p[v]||0)|d[v];for(v in n)i(_=n[v])?p[v]=+p[v]||0:s[v]=_;return _={bases:m,ownProps:n,weaver:p,chains:{}},m[0]={_meta:_,prototype:s},r(_,s),c=s[o],c._meta=_,c[h]=s,m[0]=c,t._postprocess(c)}function e(t){this.around=t}function i(t){return t&&t.spr instanceof e}function n(t){var e=[];for(var i in t)e.push(i);return e}function r(e,i){var n=e.weaver,r=e.bases,s=e.chains;for(var a in n)i[a]=t._stub(n[a],r,a,s)}var s,a=0,o="constructor",h="prototype",l={};return(s=function(t,e){for(var i in e)t[i]=e[i]})(t,{mix:s,delegate:function(t){return Object.create(t)},allKeys:n,Super:e,superCall:function(e){return t._makeSuper(e)},_makeSuper:function(t,i){var n=function(){};return n.spr=new(i||e)(t),n},_postprocess:function(t){return t},_error:function(t){throw Error("dcl: "+t)},_instantiate:function(t,e,i){var n=t.spr.around(e);return n.ctr=t.ctr,n},_extractChain:function(t,e,n){for(var r,s,a=t.length-1,c=[],_="around"==n;r=t[a];--a)((s=r._meta)?(s=s.ownProps).hasOwnProperty(e)&&(i(s=s[e])?_?s.spr.around:s=s.spr[n]:_):_&&(s=e==o?r:r[h][e])&&s!==l[e])&&(s.ctr=r,c.push(s));return c},_stubChain:function(t){var e,i=t.length;return i?1==i?(e=t[0],function(){e.apply(this,arguments)}):function(){for(var e=0;i>e;++e)t[e].apply(this,arguments)}:0},_stubSuper:function(e,n){for(var r,s=0,a=l[n];r=e[s];++s)a=i(r)?e[s]=t._instantiate(r,a,n):r;return n!=o?a:function(){a.apply(this,arguments)}},_stubChainSuper:function(e,n,r){for(var s,a,h=0,l=0;s=e[h];++h)i(s)&&(a=h-l,e[h]=t._instantiate(s,a?1==a?e[l]:n(e.slice(l,h)):0,r),l=h);return a=h-l,a?1==a&&r!=o?e[l]:n(l?e.slice(l):e):0},_stub:function(e,i,n,r){var s=r[n]=t._extractChain(i,n,"around");return(e?t._stubChainSuper(s,t._stubChain,n):t._stubSuper(s,n))||function(){}}}),t}),function(t){"undefined"!=typeof i?i("dcl/dcl",["./mini"],t):"undefined"!=typeof module?module.exports=t(e("./mini")):dcl=t(dcl)}(function(t){"use strict";function e(){}function i(e){return t._makeSuper(e,s)}function n(t,i,n){var r=t||e,s=i||e,a=n||e,o=function(){var t,e;r.apply(this,arguments);try{t=a.apply(this,arguments)}catch(i){t=i,e=!0}if(s.call(this,arguments,t),e)throw t;return t};return o.advices={before:t,after:i,around:n},o}function r(e){return function(i,n){var r,s=i._meta;s&&(r=+s.weaver[n]||0,r&&r!=e&&t._error("set chaining",n,i,e,r),s.weaver[n]=e)}}var s=t(t.Super,{constructor:function(){this.before=this.around.before,this.after=this.around.after,this.around=this.around.around}});return t.mix(t,{Advice:s,advise:i,before:function(e){return t.advise({before:e})},after:function(e){return t.advise({after:e})},around:t.superCall,chainBefore:r(1),chainAfter:r(2),isInstanceOf:function(t,e){if(t instanceof e)return!0;var i,n=t.constructor._meta;if(n)for(n=n.bases,i=n.length-1;i>=0;--i)if(n[i]===e)return!0;return!1},_stub:function(e,i,r,s){var a=s[r]=t._extractChain(i,r,"around"),o=t._extractChain(i,r,"before").reverse(),h=t._extractChain(i,r,"after");return a=e?t._stubChainSuper(a,1==e?function(e){return t._stubChain(e.reverse())}:t._stubChain,r):t._stubSuper(a,r),o.length||h.length?n(t._stubChain(o),t._stubChain(h),a):a||function(){}}}),t}),i("wcDocker/types",[],function(){var t={};return t.DOCK={MODAL:"modal",FLOAT:"float",TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",STACKED:"stacked"},t.LAYOUT={SIMPLE:"wcLayoutSimple",TABLE:"wcLayoutTable"},t.EVENT={INIT:"panelInit",LOADED:"dockerLoaded",UPDATED:"panelUpdated",VISIBILITY_CHANGED:"panelVisibilityChanged",BEGIN_DOCK:"panelBeginDock",END_DOCK:"panelEndDock",GAIN_FOCUS:"panelGainFocus",LOST_FOCUS:"panelLostFocus",CLOSING:"panelClosing",CLOSED:"panelClosed",PERSISTENT_CLOSED:"panelPersistentClosed",PERSISTENT_OPENED:"panelPersistentOpened",BUTTON:"panelButton",ATTACHED:"panelAttached",DETACHED:"panelDetached",MOVE_STARTED:"panelMoveStarted",MOVE_ENDED:"panelMoveEnded",MOVED:"panelMoved",RESIZE_STARTED:"panelResizeStarted",RESIZE_ENDED:"panelResizeEnded",RESIZED:"panelResized",ORDER_CHANGED:"panelOrderChanged",SCROLLED:"panelScrolled",SAVE_LAYOUT:"layoutSave",RESTORE_LAYOUT:"layoutRestore",CUSTOM_TAB_CHANGED:"customTabChanged",CUSTOM_TAB_CLOSED:"customTabClosed"},t.PANEL_PLACEHOLDER="__wcDockerPlaceholderPanel",t.COLLAPSED="__wcDockerCollapsedPanel",t.ORIENTATION={VERTICAL:!1,HORIZONTAL:!0},t.TAB={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},t}),i("wcDocker/base",["dcl/dcl"],function(t){return t(null,{getOptions:function(){return this._options||this.docker()._options||{}},option:function(t,e){return this.getOptions()[t]||e},instanceOf:function(t,e){return e=e||this,!(!e||-1==e.declaredClass.indexOf(t))},docker:function(t){for(var e=t||this._parent;e&&!e.instanceOf("wcDocker");)e=e._parent;return e},__getClass:function(t){return this.getOptions()[t+"Class"]}})}),i("wcDocker/panel",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcPanel",constructor:function(t,e,i){this.$container=null,this._parent=t,this.$icon=null,this.$title=null,this.$titleText=null,this.$loading=null,this._panelObject=null,this._initialized=!1,this._collapseDirection=void 0,this._type=e,this._title=e,this._titleVisible=!0,this._options=i,this._layout=null,this._buttonList=[],this._actualPos={x:.5,y:.5},this._actualSize={x:0,y:0},this._resizeData={time:-1,timeout:!1,delta:150},this._pos={x:.5,y:.5},this._moveData={time:-1,timeout:!1,delta:150},this._size={x:-1,y:-1},this._minSize={x:100,y:100},this._maxSize={x:1/0,y:1/0},this._scroll={x:0,y:0},this._scrollable={x:!0,y:!0},this._collapsible=!0,this._overflowVisible=!1,this._moveable=!0,this._detachable=!0,this._closeable=!0,this._resizeVisible=!0,this._isVisible=!1,this._events={},this.__init()},title:function(t){return"undefined"!=typeof t&&(t===!1?(this._titleVisible=!1,this.$titleText.html(this._type)):(this._title=t,this.$titleText.html(t)),this.$icon&&this.$titleText.prepend(this.$icon),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__updateTabs()),this._title},info:function(){return this.docker().panelTypeInfo(this._type)},layout:function(){return this._layout},focus:function(t){var e=this.docker();if(e){e.__focus(this._parent,t);for(var i=0;i<this._parent._panelList.length;++i)if(this._parent._panelList[i]===this&&this._parent._curTab!==i){this._parent.panel(i);break}}},collapseDirection:function(t){this._collapseDirection=t},isVisible:function(){return this._isVisible},isFloating:function(){return this._parent&&this._parent.instanceOf("wcFrame")?this._parent._isFloating:!1},isInFocus:function(){var t=this.docker();return t&&this._parent&&this._parent.instanceOf("wcFrame")?this._parent===t._focusFrame:!1},addButton:function(t,e,i,n,r,s){this._buttonList.push({name:t,className:e,toggleClassName:s,text:i,tip:n,isTogglable:r,isToggled:!1}),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__update()},removeButton:function(t){for(var e=0;e<this._buttonList.length;++e)if(this._buttonList[e].name===t)return this._buttonList.splice(e,1),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__onTabChange(),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__update(),!0;return!1},buttonState:function(t,e){for(var i=0;i<this._buttonList.length;++i)if(this._buttonList[i].name===t)return"undefined"!=typeof e&&(this._buttonList[i].isToggled=e,this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__onTabChange()),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__update(),this._buttonList[i].isToggled;return!1},initPos:function(t,e){if("undefined"!=typeof t){var i=this.docker();i?this._pos.x=i.__stringToPercent(t,i.$container.width()):this._pos.x=t}if("undefined"!=typeof e){var i=this.docker();i?this._pos.y=i.__stringToPercent(e,i.$container.height()):this._pos.y=e}return{x:this._pos.x,y:this._pos.y}},initSize:function(t,e){if("undefined"!=typeof t){var i=this.docker();i?this._size.x=i.__stringToPixel(t,i.$container.width()):this._size.x=t}if("undefined"!=typeof e){var i=this.docker();i?this._size.y=i.__stringToPixel(e,i.$container.height()):this._size.y=e}return{x:this._size.x,y:this._size.y}},minSize:function(t,e){if("undefined"!=typeof t){var i=this.docker();i?this._minSize.x=i.__stringToPixel(t,i.$container.width()):this._minSize.x=t}if("undefined"!=typeof e){var i=this.docker();i?this._minSize.y=i.__stringToPixel(e,i.$container.height()):this._minSize.y=e}return{x:this._minSize.x,y:this._minSize.y}},maxSize:function(t,e){if("undefined"!=typeof t){var i=this.docker();i?this._maxSize.x=i.__stringToPixel(t,i.$container.width()):this._maxSize.x=t}if("undefined"!=typeof e){var i=this.docker();i?this._maxSize.y=i.__stringToPixel(e,i.$container.height()):this._maxSize.y=e}return{x:this._maxSize.x,y:this._maxSize.y}},width:function(){return this.$container?this.$container.width():0},height:function(){return this.$container?this.$container.height():0},icon:function(t){this.$icon||(this.$icon=$("<div>"),this.$titleText.prepend(this.$icon)),this.$icon.removeClass(),this.$icon.addClass("wcTabIcon "+t),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__updateTabs()},faicon:function(t){this.$icon||(this.$icon=$("<div>"),this.$titleText.prepend(this.$icon)),this.$icon.removeClass(),this.$icon.addClass("wcTabIcon fa fa-fw fa-"+t),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__updateTabs()},scrollable:function(t,e){return"undefined"!=typeof t&&(this._scrollable.x=t?!0:!1,this._scrollable.y=e?!0:!1),{x:this._scrollable.x,y:this._scrollable.y}},scroll:function(t,e,i){return this.$container?("undefined"!=typeof t&&(i?this.$container.parent().stop().animate({scrollLeft:t,scrollTop:e},i):(this.$container.parent().scrollLeft(t),this.$container.parent().scrollTop(e))),{x:this.$container.parent().scrollLeft(),y:this.$container.parent().scrollTop()}):{x:0,y:0}},collapsible:function(t){return"undefined"!=typeof t&&(this._collapsible=t?!0:!1),this._collapsible},overflowVisible:function(t){return"undefined"!=typeof t&&(this._overflowVisible=t?!0:!1),this._overflowVisible},resizeVisible:function(t){return"undefined"!=typeof t&&(this._resizeVisible=t?!0:!1),this._resizeVisible},moveable:function(t){return"undefined"!=typeof t&&(this._moveable=t?!0:!1,this.$title.toggleClass("wcNotMoveable",!this._moveable)),this._moveable},detachable:function(t){return"undefined"!=typeof t&&(this._detachable=t?!0:!1),this._detachable},closeable:function(t){return"undefined"!=typeof t&&(this._closeable=t?!0:!1,this._parent&&this._parent.__update()),this._closeable},close:function(){var t=this.docker();t&&t.__closePanel(this)},startLoading:function(t,e,i){if(!this.$loading){this.$loading=$('<div class="wcLoadingContainer"></div>'),this.$container.append(this.$loading);var n=$('<div class="wcLoadingBackground"></div>');"number"!=typeof e&&(e=.4),this.$loading.append(n);var r=$('<div class="wcLoadingIconContainer"><i class="wcLoadingIcon '+this.docker()._options.loadingClass+'"></i></div>');if(this.$loading.append(r),t){var s=$('<span class="wcLoadingLabel">'+t+"</span>");this.$loading.append(s)}"number"!=typeof i&&(i=1),this.docker().$loading&&(e=0,i=0),n.css("opacity",e),r.css("opacity",i),s&&s.css("opacity",i)}},finishLoading:function(t){if(this.$loading)if(t>0){var e=this;this.$loading.fadeOut(t,function(){e.$loading.remove(),e.$loading=null,e.docker().__testLoadFinished()})}else this.$loading.remove(),this.$loading=null,this.docker().__testLoadFinished()},on:function(t,e){return t?(this._events[t]||(this._events[t]=[]),-1!==this._events[t].indexOf(e)?!1:(this._events[t].push(e),!0)):!1},off:function(t,e){if("undefined"==typeof t)return void(this._events={});if(this._events[t])if("undefined"==typeof e)this._events[t]=[];else for(var i=0;i<this._events[t].length;++i)if(this._events[t][i]===e){this._events[t].splice(i,1);break}},trigger:function(t,e){var i=this.docker();return i?i.trigger(t,e):[]},__init:function(){var t=this._options&&this._options.layout||"wcLayoutTable";this._layout=new(this.docker().__getClass(t))(this.$container,this),this.$title=$('<div class="wcPanelTab">'),this.$titleText=$("<div>"+this._title+"</div>"),this.$title.append(this.$titleText),this._options.hasOwnProperty("title")&&this.title(this._options.title),this._options.icon&&this.icon(this._options.icon),this._options.faicon&&this.faicon(this._options.faicon)},__update:function(){var t=this.docker();if(t&&(this._layout.__update(),this.$container)){if(this._resizeVisible?this._parent.$frame.removeClass("wcHideOnResize"):this._parent.$frame.addClass("wcHideOnResize"),this._initialized)this.__trigger(e.EVENT.UPDATED);else{this._initialized=!0;var i=this;setTimeout(function(){i.__trigger(e.EVENT.INIT),t.__testLoadFinished()},0)}var n=this.$container.width(),r=this.$container.height();(this._actualSize.x!==n||this._actualSize.y!==r)&&(this._resizeData.time=new Date,this._resizeData.timeout||(this._resizeData.timeout=!0,setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta),this.__trigger(e.EVENT.RESIZE_STARTED,{width:this._actualSize.x,height:this._actualSize.y})),this._actualSize.x=n,this._actualSize.y=r,this.__trigger(e.EVENT.RESIZED,{width:this._actualSize.x,height:this._actualSize.y}));var s=this.$container.offset();(this._actualPos.x!==s.left||this._actualPos.y!==s.top)&&(this._moveData.time=new Date,this._moveData.timeout||(this._moveData.timeout=!0,setTimeout(this.__moveEnd.bind(this),this._moveData.delta),this.__trigger(e.EVENT.MOVE_STARTED,{x:this._actualPos.x,y:this._actualPos.y})),this._actualPos.x=s.left,this._actualPos.y=s.top,this.__trigger(e.EVENT.MOVED,{x:this._actualPos.x,y:this._actualPos.y}))}},__resizeEnd:function(){new Date-this._resizeData.time<this._resizeData.delta?setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta):(this._resizeData.timeout=!1,this.__trigger(e.EVENT.RESIZE_ENDED,{width:this._actualSize.x,height:this._actualSize.y}))},__moveEnd:function(){new Date-this._moveData.time<this._moveData.delta?setTimeout(this.__moveEnd.bind(this),this._moveData.delta):(this._moveData.timeout=!1,this.__trigger(e.EVENT.MOVE_ENDED,{x:this._actualPos.x,y:this._actualPos.y}))},__isVisible:function(t){this._isVisible!==t&&(this._isVisible=t,this.__trigger(e.EVENT.VISIBILITY_CHANGED,this._isVisible))},__save:function(){var t={};return t.type="wcPanel",t.panelType=this._type,t.size={x:this._size.x,y:this._size.y},t.customData={},this.__trigger(e.EVENT.SAVE_LAYOUT,t.customData),t},__restore:function(t,i){t.size&&(this._size.x=t.size.x,this._size.y=t.size.y),this.__trigger(e.EVENT.RESTORE_LAYOUT,t.customData)},__trigger:function(t,e){if(!t)return!1;var i=[];if(this._events[t])for(var n=this._events[t].slice(0),r=0;r<n.length;++r)i.push(n[r].call(this,e));return i},__rect:function(){var t=this.$container.offset(),e=this.$container.width(),i=this.$container.height();return{x:t.left,y:t.top,w:e,h:i}},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,this.$container?(this._layout.__container(this.$container),this.$loading&&this.$container.append(this.$loading)):(this._layout.__container(null),this.finishLoading()),this.$container)},__destroy:function(){this._panelObject=null,this.off(),this.__container(null),this._parent=null}});return n}),i("wcDocker/ghost",["dcl/dcl","./types"],function(t,e){var i=t(null,{declaredClass:"wcGhost",constructor:function(t,e,i){this.$ghost=null,this._rect,this._anchorMouse=!1,this._anchor=null,this._docker=i,this._outer=i.__findInner(),this._outer&&this._outer.instanceOf("wcSplitter")&&(this._inner=this._outer.right()),this.__init(t,e)},update:function(t,e){this.__move(t);for(var i=0;i<this._docker._floatingList.length;++i){var n=this._docker._floatingList[i].__rect();if(t.x>n.x&&t.y>n.y&&t.x<n.x+n.w&&t.y<n.y+n.h)return void(this._docker._floatingList[i].__checkAnchorDrop(t,!1,this,!0,void 0,!0)?this._anchor.panel=this._docker._floatingList[i].panel():e||this.anchor(t,null))}for(var i=0;i<this._docker._frameList.length;++i){var n=this._docker._frameList[i].__rect();if(t.x>n.x&&t.y>n.y&&t.x<n.x+n.w&&t.y<n.y+n.h)return void(this._docker._frameList[i].__checkAnchorDrop(t,!1,this,!0,void 0,!0)?this._anchor.panel=this._docker._frameList[i].panel():e||this.anchor(t,null))}},anchor:function(t,i){if("undefined"==typeof t)return this._anchor;if(!i||!this._anchor||i.loc!==this._anchor.loc||i.item!==this._anchor.item){var n={x:parseInt(this.$ghost.css("left")),y:parseInt(this.$ghost.css("top")),w:parseInt(this.$ghost.css("width")),h:parseInt(this.$ghost.css("height"))};if(this._anchorMouse={x:n.x-t.x,y:n.y-t.y},this._rect.x=-this._anchorMouse.x,this._rect.y=-this._anchorMouse.y,!i){if(!this._anchor)return;if(this._docker._draggingFrame&&this._docker._draggingFrame.$container){var r=this._docker._draggingFrame._panelList[0]._options.detachToWidth||this._docker._options.detachToWidth||this._rect.w,s=this._docker._draggingFrame._panelList[0]._options.detachToHeight||this._docker._options.detachToHeight||this._rect.h;this._rect.w=this._docker.__stringToPixel(r,this._docker.$container.width()),this._rect.h=this._docker.__stringToPixel(s,this._docker.$container.height())}return this._anchor=null,this.$ghost.show(),void this.$ghost.stop().animate({opacity:.3,"margin-left":this._rect.x-this._rect.w/2+"px","margin-top":this._rect.y-10+"px",width:this._rect.w+"px",height:this._rect.h+"px"},75)}this._anchor=i;var a=.8;i.self&&i.loc===e.DOCK.STACKED?(a=0,this.$ghost.hide()):this.$ghost.show(),this.$ghost.stop().animate({opacity:a,"margin-left":"2px","margin-top":"2px",left:i.x+"px",top:i.y+"px",width:i.w+"px",height:i.h+"px"},75)}},rect:function(){return{x:this.$ghost.offset().left,y:this.$ghost.offset().top,w:parseInt(this.$ghost.css("width")),h:parseInt(this.$ghost.css("height")),tabOrientation:this._anchor&&this._anchor.tab}},destroy:function(){this.__destroy()},__init:function(t,e){this.$ghost=$('<div class="wcGhost">').css("opacity",0).css("top",t.y+"px").css("left",t.x+"px").css("width",t.w+"px").css("height",t.h+"px"),this._anchorMouse={x:t.x-e.x,y:t.y-e.y},this._rect={x:-this._anchorMouse.x,y:-this._anchorMouse.y,w:t.w,h:t.h},$("body").append(this.$ghost),this.anchor(e,t)},__move:function(t){if(!this._anchor){var e=parseInt(this.$ghost.css("left")),i=parseInt(this.$ghost.css("top"));e=t.x+this._anchorMouse.x,i=t.y+this._anchorMouse.y,this.$ghost.css("left",e+"px"),this.$ghost.css("top",i+"px")}},__rect:function(){return this._rect},__destroy:function(){this.$ghost.stop().animate({opacity:0},{duration:100,complete:function(){$(this).remove()}})}});return i}),i("wcDocker/splitter",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcSplitter",constructor:function(t,e,i){this.$container=$(t),this._parent=e,this._orientation=i,this._pane=[!1,!1],this.$pane=[],this.$bar=null,this._pos=.5,this._posTarget=.5,this._pixelPos=-1,this._findBestPos=!1,this._anim=0,this._boundEvents=[],this.__init(),this.docker()._splitterList.push(this)},initLayouts:function(t,e){var i=t||"wcLayoutTable",n=new(this.docker().__getClass(i))(this.$pane[0],this);i=e||"wcLayoutTable";var r=new(this.docker().__getClass(i))(this.$pane[1],this);this.pane(0,n),this.pane(1,r)},orientation:function(t){return"undefined"==typeof t?this._orientation:void(this._orientation!=t&&(this._orientation=t,this._orientation?this.$bar.removeClass("wcWide").removeClass("wcSplitterBarH").addClass("wcTall").addClass("wcSplitterBarV"):this.$bar.removeClass("wcTall").removeClass("wcSplitterBarV").addClass("wcWide").addClass("wcSplitterBarH"),this.$pane[0].css("top","").css("left","").css("width","").css("height",""),this.$pane[1].css("top","").css("left","").css("width","").css("height",""),this.$bar.css("top","").css("left","").css("width","").css("height",""),this.__update(),this._parent&&this._parent.instanceOf("wcPanel")&&this._parent.__trigger(e.EVENT.UPDATED)))},minSize:function(){var t,e;return this._pane[0]&&"function"==typeof this._pane[0].minSize&&(t=this._pane[0].minSize()),this._pane[1]&&"function"==typeof this._pane[1].minSize&&(e=this._pane[1].minSize()),t&&e?(this._orientation?(t.x+=e.x,t.y=Math.max(t.y,e.y)):(t.y+=e.y,t.x=Math.max(t.x,e.x)),t):t?t:e?e:!1},maxSize:function(){var t,e;return this._pane[0]&&"function"==typeof this._pane[0].maxSize&&(t=this._pane[0].maxSize()),this._pane[1]&&"function"==typeof this._pane[1].maxSize&&(e=this._pane[1].maxSize()),t&&e?(this._orientation?(t.x+=e.x,t.y=Math.min(t.y,e.y)):(t.y+=e.y,t.x=Math.min(t.x,e.x)),t):t?t:e?e:!1},pos:function(t){return"undefined"!=typeof t&&(this._pos=this._posTarget=t,this.__update(),this._parent&&this._parent.instanceOf("wcPanel")&&this._parent.__trigger(e.EVENT.UPDATED)),this._posTarget},animPos:function(t,e){this._posTarget=t;var i=this;this.$bar.queue(function(t){i._anim&&clearInterval(i._anim),i._anim=setInterval(function(){i._pos>i._posTarget&&(i._pos-=(i._pos-i._posTarget)/5,i._pos<=i._posTarget+.01&&(i._pos=i._posTarget)),i._pos<i._posTarget&&(i._pos+=(i._posTarget-i._pos)/5,i._pos>=i._posTarget-.01&&(i._pos=i._posTarget)),i.__update(),i._pos==i._posTarget&&(e&&e(),t(),clearInterval(i._anim),i._anim=0)},5)}),this.$bar.dequeue()},pane:function(t,e){if(t>=0&&2>t){if("undefined"==typeof e)return this._pane[t];if(e)return this._pane[t]=e,e._parent=this,e.__container(this.$pane[t]),this._pane[0]&&this._pane[1]&&this.__update(),e;this._pane[t]&&(this._pane[t].__container(null),this._pane[t]=!1)}return!1},left:function(t){return this.pane(0,t)},right:function(t){return this.pane(1,t)},top:function(t){return this.pane(0,t)},bottom:function(t){return this.pane(1,t)},scrollable:function(t,e,i){return"undefined"!=typeof e&&this.$pane[t].toggleClass("wcScrollableX",e),"undefined"!=typeof i&&this.$pane[t].toggleClass("wcScrollableY",i),{x:this.$pane[t].hasClass("wcScrollableX"),y:this.$pane[t].hasClass("wcScrollableY")}},destroy:function(t){var e=this.docker();if(e){var i=this.docker()._splitterList.indexOf(this);i>-1&&this.docker()._splitterList.splice(i,1)}void 0===t||t?this.__destroy():this.__container(null)},__init:function(){if(this.$pane.push($('<div class="wcLayoutPane wcScrollableX wcScrollableY">')),this.$pane.push($('<div class="wcLayoutPane wcScrollableX wcScrollableY">')),this.$bar=$('<div class="wcSplitterBar">'),this._orientation?this.$bar.addClass("wcTall").addClass("wcSplitterBarV"):this.$bar.addClass("wcWide").addClass("wcSplitterBarH"),this.__container(this.$container),this._parent&&this._parent.instanceOf("wcPanel")){this._boundEvents.push({event:e.EVENT.UPDATED,handler:this.__update.bind(this)}),this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.destroy.bind(this)});for(var t=0;t<this._boundEvents.length;++t)this._parent.on(this._boundEvents[t].event,this._boundEvents[t].handler)}},__update:function(t){var i=this.$container.outerWidth(),n=this.$container.outerHeight(),r=this.__minPos(),s=this.__maxPos();if(this._findBestPos){this._findBestPos=!1;var a,o;this._pane[0]&&"function"==typeof this._pane[0].initSize&&(a=this._pane[0].initSize(),a&&(a.x<0&&(a.x=i/2),a.y<0&&(a.y=n/2))),this._pane[1]&&"function"==typeof this._pane[1].initSize&&(o=this._pane[1].initSize(),o&&(o.x<0&&(o.x=i/2),o.y<0&&(o.y=n/2),o.x=i-o.x,o.y=n-o.y));var h;a&&o?h={x:Math.min(a.x,o.x),y:Math.min(a.y,o.y)}:a?h=a:o&&(h=o),h&&(this._orientation?this._pos=h.x/i:this._pos=h.y/n)}if(this.$bar.toggleClass("wcSplitterBarStatic",this.__isStatic()),this._orientation===e.ORIENTATION.HORIZONTAL){var l=this.$bar.outerWidth()/2,c=parseInt(this.$bar.css("border-top-width"))+parseInt(this.$bar.css("border-bottom-width"));if(t){var _=this._pixelPos-(this.$container.offset().left+parseInt(this.$container.css("border-left-width")))-this.$bar.outerWidth()/2;this._pos=_/(i-this.$bar.outerWidth())}this._pos=Math.min(Math.max(this._pos,0),1);var h=(i-this.$bar.outerWidth())*this._pos+l;r&&(h=Math.max(r.x,h)),s&&(h=Math.min(s.x,h));var u=0,f=0;if(this._parent&&"wcCollapser"===this._parent.declaredClass){var p=this.docker().$container,d=this._parent.$container;u=d.offset().top-p.offset().top,f=p.offset().top+p.outerHeight()-(d.offset().top+d.outerHeight())}this.$bar.css("left",h-l),this.$bar.css("top",u),this.$bar.css("height",n-c-f),this.$pane[0].css("width",h-l),this.$pane[0].css("left","0px"),this.$pane[0].css("right",""),this.$pane[0].css("top",u),this.$pane[0].css("bottom",f),this.$pane[1].css("left",""),this.$pane[1].css("right","0px"),this.$pane[1].css("width",i-h-l-2*parseInt(this.$container.css("border-left-width"))),this.$pane[1].css("top",u),this.$pane[1].css("bottom",f),this._pixelPos=this.$bar.offset().left+l}else{var l=this.$bar.outerHeight()/2,c=parseInt(this.$bar.css("border-left-width"))+parseInt(this.$bar.css("border-right-width"));if(t){var _=this._pixelPos-(this.$container.offset().top+parseInt(this.$container.css("border-top-width")))-this.$bar.outerHeight()/2;this._pos=_/(n-this.$bar.outerHeight())}this._pos=Math.min(Math.max(this._pos,0),1);var h=(n-this.$bar.outerHeight())*this._pos+l;r&&(h=Math.max(r.y,h)),s&&(h=Math.min(s.y,h));var g=0,v=0;if(this._parent&&"wcCollapser"===this._parent.declaredClass){var p=this.docker().$container,d=this._parent.$container;g=d.offset().left-p.offset().left,v=p.offset().left+p.outerWidth()-(d.offset().left+d.outerWidth())}this.$bar.css("top",h-l),this.$bar.css("left",g),this.$bar.css("width",i-c-f),this.$pane[0].css("height",h-l),this.$pane[0].css("top","0px"),this.$pane[0].css("bottom",""),this.$pane[0].css("left",g),this.$pane[0].css("right",v),this.$pane[1].css("top",""),this.$pane[1].css("bottom","0px"),this.$pane[1].css("height",n-h-l-2*parseInt(this.$container.css("border-top-width"))),this.$pane[1].css("left",g),this.$pane[1].css("right",v),this._pixelPos=this.$bar.offset().top+l}void 0===t&&(t=!0),this._pane[0]&&this._pane[0].__update(t),this._pane[1]&&this._pane[1].__update(t)},__save:function(){if(this._pane[0]&&"wcCollapser"===this._pane[0].declaredClass)return this._pane[1].__save();if(this._pane[1]&&"wcCollapser"===this._pane[1].declaredClass)return this._pane[0].__save();var t={};return t.type="wcSplitter",t.horizontal=this._orientation,t.isDrawer=this.$bar.hasClass("wcDrawerSplitterBar"),t.pane0=this._pane[0]?this._pane[0].__save():null,t.pane1=this._pane[1]?this._pane[1].__save():null,t.pos=this._pos,t},__restore:function(t,e){this._pos=t.pos,t.isDrawer&&this.$bar.addClass("wcDrawerSplitterBar"),t.pane0&&(this._pane[0]=e.__create(t.pane0,this,this.$pane[0]),this._pane[0].__restore(t.pane0,e)),t.pane1&&(this._pane[1]=e.__create(t.pane1,this,this.$pane[1]),this._pane[1].__restore(t.pane1,e))},__findBestPos:function(){this._findBestPos=!0},__moveBar:function(t){var i=this.$container.offset();if(t.x-=i.left,t.y-=i.top,this._orientation===e.ORIENTATION.HORIZONTAL){var n=this.$container.outerWidth()-this.$bar.outerWidth();t.x+=1-parseInt(this.$container.css("border-left-width"))-this.$bar.outerWidth()/2,this.pos(t.x/n)}else{var r=this.$container.outerHeight()-this.$bar.outerHeight();t.y+=1-parseInt(this.$container.css("border-top-width"))-this.$bar.outerHeight()/2,this.pos(t.y/r)}},__minPos:function(){var t,i=this.$container.outerWidth(),n=this.$container.outerHeight();t=this._pane[0]&&"function"==typeof this._pane[0].minSize?this._pane[0].minSize():{x:50,y:50};var r;if(r=this._pane[1]&&"function"==typeof this._pane[1].maxSize?this._pane[1].maxSize():{x:i,y:n},this._orientation===e.ORIENTATION.HORIZONTAL){var s=this.$bar.outerWidth()/2;t.x+=s,i-=s}else{var s=this.$bar.outerHeight()/2;t.y+=s,n-=s}return r.x=i-Math.min(r.x,i),r.y=n-Math.min(r.y,n),t.x=Math.max(t.x,r.x),t.y=Math.max(t.y,r.y),t},__maxPos:function(){var t,i=this.$container.outerWidth(),n=this.$container.outerHeight();t=this._pane[0]&&"function"==typeof this._pane[0].maxSize?this._pane[0].maxSize():{x:i,y:n};var r;if(r=this._pane[1]&&"function"==typeof this._pane[1].minSize?this._pane[1].minSize():{x:50,y:50},this._orientation===e.ORIENTATION.HORIZONTAL){var s=this.$bar.outerWidth()/2;t.x+=s,i-=s}else{var s=this.$bar.outerHeight()/2;t.y+=s,n-=s}return r.x=i-r.x,r.y=n-r.y,t.x=Math.min(r.x,t.x),t.y=Math.min(r.y,t.y),t},__isStatic:function(){for(var t=this._orientation===e.ORIENTATION.HORIZONTAL?"x":"y",i=0;2>i;++i)if(this._pane[i]&&this._pane[i].minSize&&this._pane[i].maxSize&&this._pane[i].maxSize()[t]-this._pane[i].minSize()[t]===0)return!0;return!1},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,
this.$container?(this.$container.append(this.$pane[0]),this.$container.append(this.$pane[1]),this.$container.append(this.$bar)):(this.$pane[0].remove(),this.$pane[1].remove(),this.$bar.remove()),this.$container)},__removeChild:function(t){if(this._pane[0]===t)this._pane[0]=!1;else{if(this._pane[1]!==t)return;this._pane[1]=!1}t&&(t.__container(null),t._parent=null)},__destroy:function(){for(this._anim&&(clearInterval(this._anim),this._anim=0),this.$bar.clearQueue();this._boundEvents.length;)this._parent.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this._pane[0]&&(this._pane[0].__destroy(),this._pane[0]=null),this._pane[1]&&(this._pane[1].__destroy(),this._pane[1]=null),this.__container(null),this._parent=!1}});return n}),i("wcDocker/frame",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcFrame",LEFT_TAB_BUFFER:15,constructor:function(t,i,n){this.$container=$(t),this._parent=i,this._isFloating=n,this.$frame=null,this.$title=null,this.$titleBar=null,this.$tabBar=null,this.$tabScroll=null,this.$center=null,this.$tabLeft=null,this.$tabRight=null,this.$close=null,this.$collapse=null,this.$top=null,this.$bottom=null,this.$left=null,this.$right=null,this.$corner1=null,this.$corner2=null,this.$corner3=null,this.$corner4=null,this.$buttonBar=null,this.$shadower=null,this.$modalBlocker=null,this._titleVisible=!0,this._canScrollTabs=!1,this._tabOrientation=e.TAB.TOP,this._tabScrollPos=0,this._curTab=-1,this._panelList=[],this._buttonList=[],this._resizeData={time:-1,timeout:!1,delta:150},this._pos={x:.5,y:.5},this._size={x:400,y:400},this._lastSize={x:400,y:400},this._anchorMouse={x:0,y:0},this.__init()},pos:function(t,e,i){var n=this.$container.width(),r=this.$container.height();return"undefined"==typeof t?i?{x:this._pos.x*n,y:this._pos.y*r}:{x:this._pos.x,y:this._pos.y}:void(i?(this._pos.x=t/n,this._pos.y=e/r):(this._pos.x=t,this._pos.y=e))},initSize:function(){for(var t={x:-1,y:-1},e=0;e<this._panelList.length;++e)t.x<this._panelList[e].initSize().x&&(t.x=this._panelList[e].initSize().x),t.y<this._panelList[e].initSize().y&&(t.y=this._panelList[e].initSize().y);return t.x<0||t.y<0?!1:t},minSize:function(){for(var t={x:0,y:0},e=0;e<this._panelList.length;++e)t.x=Math.max(t.x,this._panelList[e].minSize().x),t.y=Math.max(t.y,this._panelList[e].minSize().y);return t},maxSize:function(){for(var t={x:1/0,y:1/0},e=0;e<this._panelList.length;++e)t.x=Math.min(t.x,this._panelList[e].maxSize().x),t.y=Math.min(t.y,this._panelList[e].maxSize().y);return t},tabOrientation:function(t){return void 0!==t&&this._tabOrientation!==t&&this.docker()._canOrientTabs&&(this._tabOrientation=t,this.__updateTabs(),this.__updateTabs()),this._tabOrientation},addPanel:function(t,e){var i=this._panelList.indexOf(t);-1!==i&&this._panelList.splice(i,1),"undefined"==typeof e?this._panelList.push(t):this._panelList.splice(e,0,t),-1===this._curTab&&this._panelList.length&&(this.isCollapser()||(this._curTab=0),this._size=this.initSize()),this.__updateTabs()},removePanel:function(t){for(var e=0;e<this._panelList.length;++e)if(this._panelList[e]===t){this.isCollapser()?this._curTab=-1:this._curTab>=e&&this._curTab--,this._panelList[e]._parent===this&&(this._panelList[e].__container(null),this._panelList[e]._parent=null),this._panelList.splice(e,1),t._isVisible=!1;break}return-1===this._curTab&&!this.collapse()&&this._panelList.length&&(this._curTab=0),this.__updateTabs(),this._panelList.length>0},panel:function(t,e){return"undefined"!=typeof t&&(this.isCollapser()&&t===this._curTab&&(this.collapse(),t=-1),t<this._panelList.length&&(this.$tabBar.find('> .wcTabScroller > .wcPanelTab[id="'+this._curTab+'"]').removeClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id="'+this._curTab+'"]').addClass("wcPanelTabContentHidden"),this._curTab!==t&&this.collapse(),this._curTab=t,t>-1&&(this.$tabBar.find('> .wcTabScroller > .wcPanelTab[id="'+t+'"]').addClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id="'+t+'"]').removeClass("wcPanelTabContentHidden"),this.expand()),this.__updateTabs(e))),this._curTab>-1&&this._curTab<this._panelList.length?this._panelList[this._curTab]:this.isCollapser()&&this._panelList.length?this._panelList[0]:!1},isCollapser:function(){return this._parent&&"wcDrawer"===this._parent.declaredClass},collapse:function(t){return this.isCollapser()?(this._parent.collapse(t),!0):!1},expand:function(){return this.isCollapser()?(this._parent.expand(),!0):!1},isExpanded:function(){return this.isCollapser()?this._parent.isExpanded():void 0},__init:function(){this.$frame=$('<div class="wcFrame wcWide wcTall">'),this.$title=$('<div class="wcFrameTitle">'),this.$titleBar=$('<div class="wcFrameTitleBar wcFrameTopper">'),this.$tabBar=$('<div class="wcFrameTitleBar">'),this.$tabScroll=$('<div class="wcTabScroller">'),this.$center=$('<div class="wcFrameCenter wcPanelBackground">'),this.$tabLeft=$('<div class="wcFrameButton" title="Scroll tabs to the left."><span class="fa fa-arrow-left"></span>&lt;</div>'),this.$tabRight=$('<div class="wcFrameButton" title="Scroll tabs to the right."><span class="fa fa-arrow-right"></span>&gt;</div>'),this.$close=$('<div class="wcFrameButton" title="Close the currently active panel tab"><div class="fa fa-close"></div>X</div>'),this.$collapse=$('<div class="wcFrameButton" title="Collapse the active panel"><div class="fa fa-download"></div>C</div>'),this.$buttonBar=$('<div class="wcFrameButtonBar">'),this.$tabButtonBar=$('<div class="wcFrameButtonBar">'),this.$tabBar.append(this.$tabScroll),this.$tabBar.append(this.$tabButtonBar),this.$frame.append(this.$buttonBar),this.$buttonBar.append(this.$close),this.$buttonBar.append(this.$collapse),this.$frame.append(this.$center),this._isFloating&&(this.$top=$('<div class="wcFrameEdgeH wcFrameEdge"></div>').css("top","-6px").css("left","0px").css("right","0px"),this.$bottom=$('<div class="wcFrameEdgeH wcFrameEdge"></div>').css("bottom","-6px").css("left","0px").css("right","0px"),this.$left=$('<div class="wcFrameEdgeV wcFrameEdge"></div>').css("left","-6px").css("top","0px").css("bottom","0px"),this.$right=$('<div class="wcFrameEdgeV wcFrameEdge"></div>').css("right","-6px").css("top","0px").css("bottom","0px"),this.$corner1=$('<div class="wcFrameCornerNW wcFrameEdge"></div>').css("top","-6px").css("left","-6px"),this.$corner2=$('<div class="wcFrameCornerNE wcFrameEdge"></div>').css("top","-6px").css("right","-6px"),this.$corner3=$('<div class="wcFrameCornerNW wcFrameEdge"></div>').css("bottom","-6px").css("right","-6px"),this.$corner4=$('<div class="wcFrameCornerNE wcFrameEdge"></div>').css("bottom","-6px").css("left","-6px"),this.$frame.append(this.$top),this.$frame.append(this.$bottom),this.$frame.append(this.$left),this.$frame.append(this.$right),this.$frame.append(this.$corner1),this.$frame.append(this.$corner2),this.$frame.append(this.$corner3),this.$frame.append(this.$corner4)),this.__container(this.$container),this._isFloating&&this.$frame.addClass("wcFloating"),this.$center.scroll(this.__scrolled.bind(this))},__update:function(){var t=this.$container.width(),e=this.$container.height();if(this._isFloating){var i=this._pos.x*t-this._size.x/2,n=this._pos.y*e-this._size.y/2;0>n&&(n=0),i+this._size.x/2<0&&(i=-this._size.x/2),i+this._size.x/2>t&&(i=t-this._size.x/2),n+parseInt(this.$center.css("top"))>e&&(n=e-parseInt(this.$center.css("top"))),this.$frame.css("left",i+"px"),this.$frame.css("top",n+"px"),this.$frame.css("width",this._size.x+"px"),this.$frame.css("height",this._size.y+"px")}(t!==this._lastSize.x||e!==this._lastSize.y)&&(this._lastSize.x=t,this._lastSize.y=e,this._resizeData.time=new Date,this._resizeData.timeout||(this._resizeData.timeout=!0,setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta))),this.__onTabChange()},__resizeEnd:function(){this.__updateTabs(),new Date-this._resizeData.time<this._resizeData.delta?setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta):this._resizeData.timeout=!1},__trigger:function(t,e){for(var i=0;i<this._panelList.length;++i)this._panelList[i].__trigger(t,e)},__save:function(){var t={};t.type="wcFrame",t.floating=this._isFloating,t.isFocus=this.$frame.hasClass("wcFloatingFocus"),t.tabOrientation=this._tabOrientation,t.pos={x:this._pos.x,y:this._pos.y},t.size={x:this._size.x,y:this._size.y},t.tab=this._curTab,t.panels=[];for(var e=0;e<this._panelList.length;++e)t.panels.push(this._panelList[e].__save());return t},__restore:function(t,i){this._isFloating=t.floating,this._tabOrientation=t.tabOrientation||e.TAB.TOP,this._pos.x=t.pos.x,this._pos.y=t.pos.y,this._size.x=t.size.x,this._size.y=t.size.y,this._curTab=t.tab;for(var n=0;n<t.panels.length;++n){var r=i.__create(t.panels[n],this,this.$center);r.__restore(t.panels[n],i),this._panelList.push(r)}this.__update(),t.isFocus&&this.$frame.addClass("wcFloatingFocus")},__updateTabs:function(t){this.$tabScroll.empty();var i=function(t){switch(this._tabOrientation){case e.TAB.BOTTOM:return t.offset().left;case e.TAB.TOP:return t.offset().left;case e.TAB.LEFT:return t.offset().top;case e.TAB.RIGHT:return t.offset().top}}.bind(this),n=[],r=[],s=0,a=i(this.$tabScroll),o=this._panelList.length>1||this._isFloating||this.isCollapser();this.isCollapser()?this.$tabBar.addClass("wcNotMoveable"):(this.$titleBar.removeClass("wcNotMoveable"),this.$tabBar.removeClass("wcNotMoveable")),this.$center.children(".wcPanelTabContent").each(function(){$(this).addClass("wcPanelTabContentHidden wcPanelTabUnused")}),this._titleVisible=!0,this.$title.html("");for(var h=0;h<this._panelList.length;++h){var l=this._panelList[h],c=null;o&&(c=l.$title,l.$title.attr("id",h),this.$tabScroll.append(l.$title)),l.moveable()||(this.$titleBar.addClass("wcNotMoveable"),this.$tabBar.addClass("wcNotMoveable")),l._titleVisible||(this._titleVisible=!1);var _=this.$center.children('.wcPanelTabContent[id="'+h+'"]');_.length||(_=$('<div class="wcPanelTabContent wcPanelTabContentHidden" id="'+h+'">'),this.$center.append(_)),l.__container(_),l._parent=this;var u=this._curTab===h;if(l.isVisible()!==u&&n.push({panel:l,isVisible:u}),_.removeClass("wcPanelTabUnused"),u&&(c&&c.addClass("wcPanelTabActive"),_.removeClass("wcPanelTabContentHidden"),this.$title.html(l.title()),l.$icon)){var f=l.$icon.clone();this.$title.prepend(f)}c&&(s=i(c)-a,r.push(s),s+=c.outerWidth())}var p=this.$titleBar,d=0;if(this._titleVisible){switch(this.$frame.parent()||this.$center.css("top",""),this._tabOrientation){case e.TAB.TOP:this.$frame.prepend(this.$tabBar),this.$titleBar.remove(),this.$tabBar.addClass("wcTabTop").removeClass("wcTabLeft wcTabRight wcTabBottom"),o?this.$title.remove():this.$tabBar.prepend(this.$title),p=this.$tabBar,this.$center.css("left",0).css("right",0).css("bottom",0),d=this.$center.width();break;case e.TAB.BOTTOM:if(this.$frame.prepend(this.$titleBar),this.$titleBar.append(this.$title),o){var g=this.$titleBar.height();this.$frame.append(this.$tabBar),this.$tabBar.addClass("wcTabBottom").removeClass("wcTabTop wcTabLeft wcTabRight"),this.$center.css("left",0).css("right",0).css("bottom",g)}else this.$tabBar.remove();d=this.$center.width();break;case e.TAB.LEFT:if(this.$frame.prepend(this.$titleBar),this.$titleBar.append(this.$title),o){var g=this.$titleBar.height();this.$frame.append(this.$tabBar),this.$tabBar.addClass("wcTabLeft").removeClass("wcTabTop wcTabRight wcTabBottom"),this.$center.css("left",g).css("right",0).css("bottom",0)}else this.$tabBar.remove();d=this.$center.height();break;case e.TAB.RIGHT:if(this.$frame.prepend(this.$titleBar),this.$titleBar.append(this.$title),o){var g=this.$titleBar.height();this.$frame.append(this.$tabBar),this.$tabBar.addClass("wcTabRight").removeClass("wcTabTop wcTabLeft wcTabBottom"),this.$center.css("left",0).css("right",g).css("bottom",0)}else this.$tabBar.remove();d=this.$center.height()}o||this.$center.css("left",0).css("right",0).css("bottom",0)}else this.$titleBar.remove(),this.$tabBar.remove(),this.$center.css("top",0).css("left",0).css("right",0).css("bottom",0);if(this.$center.children(".wcPanelTabUnused").each(function(){$(this).remove()}),this._titleVisible){var v=this.__onTabChange();if(t)for(var h=0;h<r.length;++h)if(h===this._curTab){var m=r[h],b=s;h+1<r.length&&(b=r[h+1]);var w=-parseInt(this.$tabScroll.css("left")),y=d-v;w>m?(this._tabScrollPos=m-this.LEFT_TAB_BUFFER,this._tabScrollPos<0&&(this._tabScrollPos=0)):b-w>y&&(this._tabScrollPos=b-y+this.LEFT_TAB_BUFFER);break}if(this._canScrollTabs=!1,s>d-v){this._canScrollTabs=this._titleVisible,this._canScrollTabs&&(this.$tabButtonBar.append(this.$tabRight),this.$tabButtonBar.append(this.$tabLeft),v+=this.$tabRight.outerWidth(),v+=this.$tabLeft.outerWidth());var T=s-(d-v)/2;if(this._tabScrollPos>T)for(var C=this.$tabScroll.children(),h=0;h<C.length;++h){var c=$(C[h]);if(s=i(c)-a,s+c.outerWidth()>T){this._tabScrollPos=s-this.LEFT_TAB_BUFFER,this._tabScrollPos<0&&(this._tabScrollPos=0);break}}}else this._tabScrollPos=0,this.$tabLeft.remove(),this.$tabRight.remove();this.$tabScroll.stop().animate({left:-this._tabScrollPos+"px"},"fast");for(var h=0;h<n.length;++h)n[h].panel.__isVisible(n[h].isVisible)}},__onTabChange:function(){var t=0,i=0,n=this.panel();for(this.$tabLeft.remove(),this.$tabRight.remove(),this.$close.hide(),this.$collapse.hide();this._buttonList.length;)this._buttonList.pop().remove();if(n){var r=n.scrollable();if(this.$center.toggleClass("wcScrollableX",r.x),this.$center.toggleClass("wcScrollableY",r.y),this.$frame.toggleClass("wcOverflowVisible",n.overflowVisible()),this.$center.toggleClass("wcOverflowVisible",n.overflowVisible()),!this.isCollapser()||this.isExpanded()){n.closeable()&&(this.$close.show(),t+=this.$close.outerWidth());var s=this.docker();if(s.isCollapseEnabled()&&n.moveable()&&n.collapsible()&&!this._isFloating&&!n._isPlaceholder)if(this.isCollapser()){var a=this.$collapse.children("div");switch(a[0].className="fa fa-sign-out",this._parent._position){case e.DOCK.LEFT:a.addClass("wcCollapseLeft");break;case e.DOCK.RIGHT:a.addClass("wcCollapseRight");break;case e.DOCK.BOTTOM:a.addClass("wcCollapseBottom")}a.addClass("wcCollapsed"),this.$collapse.show(),this.$collapse.attr("title","Dock this collapsed panel back into the main layout."),t+=this.$collapse.outerWidth()}else{var o=e.DOCK.BOTTOM;if(n._collapseDirection===e.DOCK.LEFT||n._collapseDirection===e.DOCK.RIGHT||n._collapseDirection===e.DOCK.BOTTOM)o=n._collapseDirection;else{var h=s.$container;!$.isEmptyObject(s._collapser)&&s._collapser.hasOwnProperty(e.DOCK.RIGHT)&&(h=s._collapser[e.DOCK.RIGHT]._parent.$pane[0]);var l=h.offset(),c=this.$container.offset();c.right=(c.left+this.$container.width()-l.left)/h.width(),c.bottom=(c.top+this.$container.height()-l.top)/h.height(),c.top=(c.top-l.top)/h.height(),c.left=(c.left-l.left)/h.width(),"function"==typeof n._collapseDirection?o=n._collapseDirection(c):c.top>.5&&c.bottom>.95?o=e.DOCK.BOTTOM:c.left<=.05?o=e.DOCK.LEFT:c.right>=.95?o=e.DOCK.RIGHT:c.bottom>.95&&(o=e.DOCK.BOTTOM)}var _="",u="";switch(o){case e.DOCK.LEFT:_="left side.",u="wcCollapseLeft";break;case e.DOCK.RIGHT:_="right side.",u="wcCollapseRight";break;case e.DOCK.BOTTOM:_="bottom.",u="wcCollapseBottom"}if(_){var a=this.$collapse.children("div");a[0].className="fa fa-sign-in",a.addClass(u),a.addClass("wcCollapsible"),this.$collapse.show(),this.$collapse.attr("title","Collapse this panel into the "+_),t+=this.$collapse.outerWidth()}}for(var f=0;f<n._buttonList.length;++f){var p=n._buttonList[f],d=$(document.createElement("div")),g=p.className,v="wcFrameButton";if(p.isTogglable&&(v+=" wcFrameButtonToggler",p.isToggled&&(v+=" wcFrameButtonToggled",g=p.toggleClassName||g)),d.attr("class",v),d.attr("title",p.tip),d.data("name",p.name),d.text(p.text),g){var m=document.createElement("div");m.className=g,d.prepend($(m))}this._buttonList.push(d),this.$buttonBar.append(d),t+=d.outerWidth()}}if(this._canScrollTabs&&(this.$tabButtonBar.append(this.$tabRight),this.$tabButtonBar.append(this.$tabLeft),i+=this.$tabRight.outerWidth()+this.$tabLeft.outerWidth()),this._titleVisible)switch(this.$buttonBar[0].style.right="",this._tabOrientation){case e.TAB.RIGHT:this.$buttonBar[0].style.right=this.$tabBar.height();break;case e.TAB.LEFT:this.$buttonBar[0].style.width=this.$center.height()+this.$tabBar.height();break;case e.TAB.BOTTOM:this.$buttonBar[0].style.width=this.$center.width()}n.__update(),this.$center.scrollLeft(n._scroll.x),this.$center.scrollTop(n._scroll.y)}return this.$buttonBar.css("min-width",t).css("width",t),this.$tabButtonBar.css("min-width",i).css("width",i),this._tabOrientation===e.TAB.TOP?(this.$tabButtonBar.css("right",t),t+i):(this.$tabButtonBar.css("right",0),i)},__scrolled:function(){var t=this.panel();t._scroll.x=this.$center.scrollLeft(),t._scroll.y=this.$center.scrollTop(),t.__trigger(e.EVENT.SCROLLED)},__focus:function(t){if(t){var e=$('<div class="wcFrameFlasher">');this.$frame.append(e),e.animate({opacity:1},100).animate({opacity:0},100).animate({opacity:.6},50).animate({opacity:0},50).queue(function(t){e.remove(),t()})}},__move:function(t){var e=this.$container.width(),i=this.$container.height();this._pos.x=(t.x+this._anchorMouse.x)/e,this._pos.y=(t.y+this._anchorMouse.y)/i},__anchorMove:function(t){var e=this.$container.width(),i=this.$container.height();this._anchorMouse.x=this._pos.x*e-t.x,this._anchorMouse.y=this._pos.y*i-t.y},__tabMove:function(t,e){if(t>=0&&t<this._panelList.length&&e>=0&&e<this._panelList.length){var i=this._panelList.splice(t,1);return this._panelList.splice(e,0,i[0]),this._curTab===t&&(this._curTab=e),this.__updateTabs(),this.$tabBar.find('> .wcTabScroller > .wcPanelTab[id="'+e+'"]')[0]}return!1},__checkAnchorDrop:function(t,e,i,n,r,s){var a=this.panel();return a&&a.moveable()?a.layout().__checkAnchorDrop(t,e&&this._tabOrientation,i,!this._isFloating&&!this.isCollapser()&&n,this.$frame,a.moveable()&&a.title(),r,this.isCollapser()?this._tabOrientation:void 0,s):!1},__resize:function(t,e){var i=this.$container.width(),n=this.$container.height(),r=this.$container.offset();e.x-=r.left,e.y-=r.top;for(var s=this.minSize(),a=this.maxSize(),o={x:this._pos.x*i-this._size.x/2,y:this._pos.y*n-this._size.y/2},h=0;h<t.length;++h){switch(t[h]){case"top":this._size.y+=o.y-e.y-2,o.y=e.y+2,this._size.y<s.y&&(o.y+=this._size.y-s.y,this._size.y=s.y),this._size.y>a.y&&(o.y+=this._size.y-a.y,this._size.y=a.y);break;case"bottom":this._size.y=e.y-4-o.y,this._size.y<s.y&&(this._size.y=s.y),this._size.y>a.y&&(this._size.y=a.y);break;case"left":this._size.x+=o.x-e.x-2,o.x=e.x+2,this._size.x<s.x&&(o.x+=this._size.x-s.x,this._size.x=s.x),this._size.x>a.x&&(o.x+=this._size.x-a.x,this._size.x=a.x);break;case"right":this._size.x=e.x-4-o.x,this._size.x<s.x&&(this._size.x=s.x),this._size.x>a.x&&(this._size.x=a.x)}this._pos.x=(o.x+this._size.x/2)/i,this._pos.y=(o.y+this._size.y/2)/n}},__shadow:function(t){if(t)this.$shadower||(this.$shadower=$('<div class="wcFrameShadower">'),this.$frame.append(this.$shadower),this.$shadower.animate({opacity:.5},300));else if(this.$shadower){var e=this;this.$shadower.animate({opacity:0},300).queue(function(t){e.$shadower.remove(),e.$shadower=null,t()})}},__rect:function(){if(this.isCollapser())return this._parent.__rect();var t=this.$frame.offset(),e=this.$frame.width(),i=this.$frame.height();return{x:t.left,y:t.top,w:e,h:i}},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,this.$container?this.$container.append(this.$frame):this.$frame.remove(),this.$container)},__destroy:function(){this._curTab=-1;for(var t=0;t<this._panelList.length;++t)this._panelList[t].__destroy();for(;this._panelList.length;)this._panelList.pop();this.$modalBlocker&&(this.$modalBlocker.remove(),this.$modalBlocker=null),this.__container(null),this._parent=null}});return n}),i("wcDocker/drawer",["dcl/dcl","./types","./frame","./base"],function(t,e,i,n){var r=t(n,{declaredClass:"wcDrawer",constructor:function(t,i,n){this.$container=$(t),this.$frame=null,this._position=n,this._parent=i,this._frame=null,this._closeSize=0,this._expanded=!1,this._sliding=!1,this._orientation=this._position===e.DOCK.LEFT||this._position===e.DOCK.RIGHT?e.ORIENTATION.HORIZONTAL:e.ORIENTATION.VERTICAL,this.__init()},collapse:function(t){if(this._expanded){var i=this._frame.panel();if(i){var n=this._parent.pos();this._position!==e.DOCK.LEFT&&(n=1-n);var r;this._position===e.DOCK.BOTTOM?(r=this.docker().$container.height(),i._size.y=n*r):(r=this.docker().$container.width(),i._size.x=n*r)}if(this._expanded=!1,t)switch(this._position){case e.DOCK.TOP:case e.DOCK.LEFT:this._parent.pos(0);break;case e.DOCK.RIGHT:case e.DOCK.BOTTOM:this._parent.pos(1)}else{this._sliding=!0;var s=this,a=function(){s._sliding=!1,s._parent.__update()};switch(this._position){case e.DOCK.TOP:case e.DOCK.LEFT:this._parent.animPos(0,a);break;case e.DOCK.RIGHT:case e.DOCK.BOTTOM:this._parent.animPos(1,a)}}}},expand:function(){if(!this._expanded){this._expanded=!0,this._sliding=!0;var t=this._frame.panel();if(t){var i,n;this._position===e.DOCK.BOTTOM?(i=t._size.y,n=this.docker().$container.height()):(i=t._size.x,n=this.docker().$container.width()),this._position!==e.DOCK.LEFT&&(i=n-i),i/=n;var r=this;this._parent.animPos(i,function(){r._sliding=!1,r._parent.__update()})}}},isExpanded:function(){return this._expanded},minSize:function(){return this._expanded?this._root&&"function"==typeof this._root.minSize?this._root.minSize():{x:100,y:100}:(this.__adjustCollapsedSize(),{x:this._closeSize,y:this._closeSize})},maxSize:function(){var t=this._orientation===e.ORIENTATION.HORIZONTAL?!0:!1;return this._expanded||this._sliding?this._root&&"function"==typeof this._root.maxSize?{x:t?this._root.maxSize().x:1/0,y:t?1/0:this._root.maxSize().y}:{x:1/0,y:1/0}:(this.__adjustCollapsedSize(),{x:t?this._closeSize:1/0,y:t?1/0:this._closeSize})},__init:function(){this.$frame=$('<div class="wcCollapserFrame">'),this.__container(this.$container),this._frame=new(this.docker().__getClass("wcFrame"))(this.$frame,this,!1),this._frame.tabOrientation(this._position)},__update:function(t){this.__adjustCollapsedSize(),this._frame.__update()},__adjustCollapsedSize:function(){this._frame._panelList.length?(this._closeSize=this._frame.$tabBar.outerHeight(),this._parent.$bar.removeClass("wcSplitterHidden")):(this._closeSize=0,this._parent.$bar.addClass("wcSplitterHidden"))},__rect:function(){var t=this.$frame.offset(),i=this.$frame.width(),n=this.$frame.height(),r=this._frame.panel();return r&&(this._position===e.DOCK.BOTTOM?(n=r._size.y,i/=3):(i=r._size.x,n/=3)),{x:t.left,y:t.top,w:i,h:n}},__save:function(){var t={};return t.closeSize=this._closeSize,t.frame=this._frame.__save(),t},__restore:function(t,e){this._closeSize=t.closeSize,this._frame.__restore(t.frame,e),this.__adjustCollapsedSize()},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,this.$container?this.$container.append(this.$frame):this.$frame.remove(),this.$container)},__destroy:function(){this._frame&&(this._frame.__destroy(),this._frame=null),this.__container(null),this._parent=null}});return r}),i("wcDocker/collapser",["dcl/dcl","./types","./splitter","./drawer","./base"],function(t,e,i,n,r){var s=t(r,{declaredClass:"wcCollapser",constructor:function(t,i,n){this.$container=$(t),this.$frame=null,this._position=n,this._parent=i,this._splitter=null,this._drawer=null,this._size=0,this._orientation=this._position===e.DOCK.LEFT||this._position===e.DOCK.RIGHT?e.ORIENTATION.HORIZONTAL:e.ORIENTATION.VERTICAL,this.__init()},collapse:function(t){this._drawer.collapse()},expand:function(){this._drawer.expand()},isExpanded:function(){return this._drawer.isExpanded()},minSize:function(){return{x:this._size,y:this._size}},maxSize:function(){var t=this._orientation===e.ORIENTATION.HORIZONTAL?!0:!1;return{x:t?this._size:1/0,y:t?1/0:this._size}},__init:function(){this.$frame=$('<div class="wcCollapserFrame">'),this.__container(this.$container);var t=this.docker();switch(this._splitter=new(this.docker().__getClass("wcSplitter"))(t.$container,this,this._orientation),this._drawer=new(this.docker().__getClass("wcDrawer"))(t.$transition,this._splitter,this._position),this._position){case e.DOCK.LEFT:this._splitter.pane(0,this._drawer),this._splitter.$pane[1].remove(),this._splitter.$pane[0].addClass("wcDrawer"),this._splitter.pos(0);break;case e.DOCK.RIGHT:case e.DOCK.BOTTOM:this._splitter.pane(1,this._drawer),this._splitter.$pane[0].remove(),this._splitter.$pane[1].addClass("wcDrawer"),this._splitter.pos(1)}this._parent.$bar.addClass("wcSplitterHidden")},__update:function(t){this._splitter.__update(),this.__adjustSize()},__adjustSize:function(){this._drawer._frame._panelList.length?this._size=this._drawer._frame.$tabBar.outerHeight():this._size=0},__rect:function(){return this._drawer.__rect()},__save:function(){var t={};return t.size=this._size,t.drawer=this._drawer.__save(),t},__restore:function(t,e){this._size=t.size,this._drawer.__restore(t.drawer,e),this.__adjustSize()},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,this.$container?this.$container.append(this.$frame):this.$frame.remove(),this.$container)},__destroy:function(){this._splitter&&(this._splitter.__destroy(),this._splitter=null,this._frame=null),this.__container(null),this._parent=null}});return s}),i("wcDocker/layout",["dcl/dcl","./types"],function(t,e){var i=t(null,{declaredClass:"wcLayout",constructor:function(t,e){this.$container=$(t),this._parent=e,this.$elem=null,this.__init()},addItem:function(t){},clear:function(){},scene:function(){return this.$elem},__init:function(){},__update:function(){},__checkAnchorDrop:function(t,i,n,r,s,a,o,h,l){function c(t,e,i){return"number"==typeof t||"string"==typeof t&&-1!==t.indexOf("px",t.length-2)?(t=parseInt(t),{x:t,y:t}):"string"==typeof t&&-1!==t.indexOf("%",t.length-1)?(t=parseInt(t)/100,{x:e*t,y:i*t}):{x:0,y:0}}var _=this._parent.docker(),u=s.outerWidth(),f=s.outerHeight(),p=s.offset(),d=s.find(".wcFrameTitleBar").height();a||(d=0);var g=c(_._options.edgeAnchorSize,_.$container.outerWidth(),_.$container.outerHeight()),v=c(_._options.panelAnchorSize,u,f);if(a){if((!h||h===e.TAB.TOP)&&t.y>=p.top&&t.y<=p.top+d&&t.x>=p.left&&t.x<=p.left+u)return n.anchor(t,{x:p.left-2,y:p.top-2,w:u,h:d-2,loc:e.DOCK.STACKED,tab:e.TAB.TOP,item:this,self:i===e.TAB.TOP||o&&i}),!0;if(_._canOrientTabs){if((!h||h===e.TAB.BOTTOM)&&t.y>=p.top+f-d&&t.y<=p.top+f&&t.x>=p.left&&t.x<=p.left+u)return n.anchor(t,{x:p.left-2,y:p.top+f-d-2,w:u,h:d,loc:e.DOCK.STACKED,tab:e.TAB.BOTTOM,item:this,self:i===e.TAB.BOTTOM}),!0;if((!h||h===e.TAB.LEFT)&&t.y>=p.top&&t.y<=p.top+f&&t.x>=p.left&&t.x<=p.left+d)return n.anchor(t,{x:p.left-2,y:p.top-2,w:d-2,h:f,loc:e.DOCK.STACKED,tab:e.TAB.LEFT,item:this,self:i===e.TAB.LEFT}),!0;if((!h||h===e.TAB.RIGHT)&&t.y>=p.top&&t.y<=p.top+f&&t.x>=p.left+u-d&&t.x<=p.left+u)return n.anchor(t,{x:p.left+u-d-2,y:p.top-2,w:d,h:f,loc:e.DOCK.STACKED,tab:e.TAB.RIGHT,item:this,self:i===e.TAB.RIGHT}),!0}}if(l&&n._outer&&n._inner){var m=n._outer.$container.outerWidth(),b=n._outer.$container.outerHeight(),$=n._outer.$container.offset();if(t.y>=$.top&&t.y<=$.top+b&&t.x>=$.left+d&&t.x<=$.left+d+g.x)return n.anchor(t,{x:$.left-2,y:$.top-2,w:m/3,h:b,loc:e.DOCK.LEFT,item:n._inner,self:!1}),!0;if(t.y>=$.top&&t.y<=$.top+b&&t.x>=$.left+m-g.x-d&&t.x<=$.left+m-d)return n.anchor(t,{x:$.left+m-m/3-2,y:$.top-2,w:m/3,h:b,loc:e.DOCK.RIGHT,item:n._inner,self:!1}),!0;if(t.y>=$.top+d&&t.y<=$.top+d+g.y&&t.x>=$.left&&t.x<=$.left+m)return n.anchor(t,{x:$.left-2,y:$.top-2,w:m,h:b/3,loc:e.DOCK.TOP,item:n._inner,self:!1}),!0;if(t.y>=$.top+b-d-g.y&&t.y<=$.top+b-d&&t.x>=$.left&&t.x<=$.left+m)return n.anchor(t,{x:$.left-2,y:$.top+b-b/3-2,w:m,h:b/3,loc:e.DOCK.BOTTOM,item:n._inner,self:!1}),!0}if(!r)return!1;if(this._parent&&this._parent.instanceOf("wcPanel")&&this._parent._isPlaceholder)return n.anchor(t,{x:p.left-2,y:p.top-2,w:u,h:f,loc:e.DOCK.TOP,item:this,self:!1}),!0;if(f>u){if(t.y>=p.top&&t.y<=p.top+d+v.y&&t.x>=p.left&&t.x<=p.left+u)return n.anchor(t,{x:p.left-2,y:p.top-2,w:u,h:.5*f,loc:e.DOCK.TOP,item:this,self:!1}),!0;if(t.y>=p.top+f-v.y-d&&t.y<=p.top+f&&t.x>=p.left&&t.x<=p.left+u)return n.anchor(t,{x:p.left-2,y:p.top+(f-.5*f)-2,w:u,h:.5*f,loc:e.DOCK.BOTTOM,item:this,self:!1}),!0}if(t.y>=p.top&&t.y<=p.top+f){if(t.x>=p.left&&t.x<=p.left+v.x+d)return n.anchor(t,{x:p.left-2,y:p.top-2,w:.5*u,h:f,loc:e.DOCK.LEFT,item:this,self:!1}),!0;if(t.x>=p.left+u-v.x-d&&t.x<=p.left+u)return n.anchor(t,{x:p.left+.5*u-2,y:p.top-2,w:.5*u,h:f,loc:e.DOCK.RIGHT,item:this,self:!1}),!0}if(u>=f){if(t.y>=p.top&&t.y<=p.top+v.y+d&&t.x>=p.left&&t.x<=p.left+u)return n.anchor(t,{x:p.left-2,y:p.top-2,w:u,h:.5*f,loc:e.DOCK.TOP,item:this,self:!1}),!0;if(t.y>=p.top+f-v.y-d&&t.y<=p.top+f&&t.x>=p.left&&t.x<=p.left+u)return n.anchor(t,{x:p.left-2,y:p.top+(f-.5*f)-2,w:u,h:.5*f,loc:e.DOCK.BOTTOM,item:this,self:!1}),!0}return!1},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,this.$container?this.$container.append(this.$elem):this.$elem.remove(),this.$container)},__destroy:function(){this.__container(null),this._parent=null,this.clear(),this.$elem.remove(),this.$elem=null}});return i}),i("wcDocker/layoutsimple",["dcl/dcl","./types","./layout"],function(t,e,i){var n=t(i,{declaredClass:"wcLayoutSimple",addItem:function(t){this.$elem.append(t)},clear:function(){this.$elem.remove(),this.$elem=null,this.__init()},__init:function(){this.$elem=$('<div class="wcLayout wcWide wcTall"></div>'),this.__container(this.$container)},__update:function(){}});return n}),i("wcDocker/layouttable",["dcl/dcl","./types","./layout"],function(t,e,i){var n=t(i,{declaredClass:"wcLayoutTable",addItem:function(t,e,i,n,r){return("undefined"==typeof e||0>e)&&(e=0),("undefined"==typeof i||0>i)&&(i=0),("undefined"==typeof n||0>=n)&&(n=1),("undefined"==typeof r||0>=r)&&(r=1),this.__resizeGrid(e+n-1,i+r-1),(n>1||r>1)&&!this.__mergeGrid(e,i,n,r)?!1:(this._grid[i][e].$el.append($(t)),this.item(e,i))},item:function(t,e){if(e>=this._grid.length)return!1;if(t>=this._grid[e].length)return!1;var i=this,n={$:i._grid[e][t].$el,css:function(r,s){if(i._grid[e][t].$el){if(void 0===s)return i._grid[e][t].$el.css(r);i._grid[e][t].$el.css(r,s)}return n},stretch:function(r,s){return i.itemStretch(t,e,r,s),n}};return n},itemStretch:function(t,e,i,n){var r=this._batchProcess;this._batchProcess=!0,this.__resizeGrid(t,e);var s=this._grid[e][t];return s.x<0||s.y<0?!1:(void 0!==i&&(s.sx=i),void 0!==n&&(s.sy=n),this._batchProcess=r,r||this.__resizeGrid(0,0),!0)},clear:function(){var t=this.showGrid(),e=this.gridSpacing(),i=this.gridAlternate();this.$elem.remove(),this.__init(),this.showGrid(t),this.gridSpacing(e),this.gridAlternate(i),this._grid=[]},startBatch:function(){this._batchProcess=!0},finishBatch:function(){this._batchProcess=!1,this.__resizeGrid(0,0)},showGrid:function(t){return"undefined"!=typeof t&&this.$elem.toggleClass("wcLayoutGrid",t),this.$elem.hasClass("wcLayoutGrid")},gridSpacing:function(t){return"undefined"!=typeof t&&this.$elem.css("border-spacing",t+"px"),parseInt(this.$elem.css("border-spacing"))},gridAlternate:function(t){return"undefined"!=typeof t&&this.$elem.toggleClass("wcLayoutGridAlternate",t),this.$elem.hasClass("wcLayoutGridAlternate")},__init:function(){this.$elem=$('<table class="wcLayout wcWide wcTall"></table>'),this.$elem.append($("<tbody></tbody>")),this._grid=[],this.__container(this.$container)},__update:function(){},__resizeGrid:function(t,e){for(var i=0;e>=i;++i){if(this._grid.length<=i){var n=[];n.$row=$("<tr>"),this._grid.push(n)}for(var r=0;t>=r;++r)this._grid[i].length<=r&&this._grid[i].push({$el:$("<td>"),x:0,y:0,sx:"",sy:""})}if(!this._batchProcess){var s=this.$elem.find("tbody");$(".wcDockerTransition").append(s);for(var a=$("<tbody>"),i=0;i<this._grid.length;++i)for(var o=null,r=0;r<this._grid[i].length;++r){var h=this._grid[i][r];h.$el&&(o||(o=this._grid[i].$row,a.append(o)),h.$el.css("width",h.sx),h.$el.css("height",h.sy),o.append(h.$el))}this.$elem.append(a),s.remove()}},__mergeGrid:function(t,e,i,n){
for(var r=0;n>r;++r)for(var s=0;i>s;++s){var a=this._grid[e+r][t+s];if(!a.$el||0!==a.x||0!==a.y)return!1}var a=this._grid[e][t];i>1&&(a.$el.attr("colspan",""+i),a.x=i-1),n>1&&(a.$el.attr("rowspan",""+n),a.y=n-1);for(var r=0;n>r;++r)for(var s=0;i>s;++s)if(0!==r||0!==s){var a=this._grid[e+r][t+s];a.$el.remove(),a.$el=null,a.x=-s,a.y=-r}return!0}});return n}),i("wcDocker/tabframe",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcTabFrame",LEFT_TAB_BUFFER:15,constructor:function(t,i){this.$container=$(t),this._parent=i,this.$frame=null,this.$tabBar=null,this.$tabScroll=null,this.$center=null,this.$tabLeft=null,this.$tabRight=null,this.$close=null,this._tabOrientation=e.TAB.TOP,this._canScrollTabs=!1,this._tabScrollPos=0,this._curTab=-1,this._layoutList=[],this._moveable=!0,this._boundEvents=[],this.__init()},update:function(){var t=this.$center.scrollTop();this.__updateTabs(),this.$center.scrollTop(t)},destroy:function(){this.__destroy()},tabCount:function(){return this._layoutList.length},tabOrientation:function(t){return void 0!==t&&this._tabOrientation!==t&&this.docker()._canOrientTabs&&(this._tabOrientation=t,this.__updateTabs(),this.__updateTabs()),this._tabOrientation},addTab:function(t,e,i){var n=i||"wcLayoutTable",r=new(this.docker().__getClass(n))(".wcDockerTransition",this._parent);return r.name=t,r._scrollable={x:!0,y:!0},r._scroll={x:0,y:0},r._closeable=!1,r._overflowVisible=!1,"undefined"==typeof e||-1>=e?this._layoutList.push(r):this._layoutList.splice(e,0,r),-1===this._curTab&&this._layoutList.length&&(this._curTab=0),this.__updateTabs(),r},removeTab:function(t){if(t>-1&&t<this._layoutList.length){var i=this._layoutList[t].name;return this._layoutList[t].__destroy(),this._layoutList.splice(t,1),this._curTab>=t&&(this._curTab--,this._curTab<0&&(this._curTab=0)),this.__updateTabs(),this._parent.__trigger(e.EVENT.CUSTOM_TAB_CLOSED,{obj:this,name:i,index:t}),!0}return!1},tab:function(t,i){if("undefined"!=typeof t&&t>-1&&t<this._layoutList.length){this.$tabBar.find('> .wcTabScroller > .wcPanelTab[id="'+this._curTab+'"]').removeClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id="'+this._curTab+'"]').addClass("wcPanelTabContentHidden"),this._curTab=t,this.$tabBar.find('> .wcTabScroller > .wcPanelTab[id="'+t+'"]').addClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id="'+t+'"]').removeClass("wcPanelTabContentHidden"),this.__updateTabs(i);var n=this._layoutList[this._curTab].name;this._parent.__trigger(e.EVENT.CUSTOM_TAB_CHANGED,{obj:this,name:n,index:t})}return this._curTab},layout:function(t){return t>-1&&t<this._layoutList.length?this._layoutList[t]:!1},moveTab:function(t,e){if(t>=0&&t<this._layoutList.length&&e>=0&&e<this._layoutList.length){var i=this._layoutList.splice(t,1);return this._layoutList.splice(e,0,i[0]),this._curTab===t&&(this._curTab=e),this.__updateTabs(),this.$tabBar.find('> .wcTabScroller > .wcPanelTab[id="'+e+'"]')[0]}return!1},moveable:function(t){return"undefined"!=typeof t&&(this._moveable=t),this._moveable},closeable:function(t,e){if(t>-1&&t<this._layoutList.length){var i=this._layoutList[t];return"undefined"!=typeof e&&(i._closeable=e),i._closeable}return!1},scrollable:function(t,e,i){if(t>-1&&t<this._layoutList.length){var n=this._layoutList[t],r=!1;return"undefined"!=typeof e&&(n._scrollable.x=e,r=!0),"undefined"!=typeof i&&(n._scrollable.y=i,r=!0),r&&this.__onTabChange(),{x:n._scrollable.x,y:n._scrollable.y}}return!1},overflowVisible:function(t,e){if(t>-1&&t<this._layoutList.length){var i=this._layoutList[t];return"undefined"!=typeof overflow&&(i._overflowVisible=overflow,this.__onTabChange()),i._overflowVisible}return!1},fitContents:function(t,e,i){if(t>-1&&t<this._layoutList.length){var n=this._layoutList[t];n.hasOwnProperty("_fitContents")||(n._fitContents={x:!1,y:!1});var r=!1;return"undefined"!=typeof e&&(n._fitContents.x=e,r=!0),"undefined"!=typeof i&&(n._fitContents.y=i,r=!0),r&&this.__onTabChange(),{x:n._fitContents.x,y:n._fitContents.y}}return!1},icon:function(t,e){if(t>-1&&t<this._layoutList.length){var i=this._layoutList[t];i.$icon||(i.$icon=$("<div>")),i.$icon.removeClass(),i.$icon.addClass("wcTabIcon "+e)}},faicon:function(t,e){if(t>-1&&t<this._layoutList.length){var i=this._layoutList[t];i.$icon||(i.$icon=$("<div>")),i.$icon.removeClass(),i.$icon.addClass("fa fa-fw fa-"+e)}},__init:function(){this.$frame=$('<div class="wcCustomTab wcWide wcTall">'),this.$tabBar=$('<div class="wcFrameTitleBar wcCustomTabTitle wcWide">'),this.$tabScroll=$('<div class="wcTabScroller">'),this.$center=$('<div class="wcFrameCenter wcPanelBackground">'),this.$tabLeft=$('<div class="wcFrameButton" title="Scroll tabs to the left."><span class="fa fa-arrow-left"></span>&lt;</div>'),this.$tabRight=$('<div class="wcFrameButton" title="Scroll tabs to the right."><span class="fa fa-arrow-right"></span>&gt;</div>'),this.$close=$('<div class="wcFrameButton" title="Close the currently active panel tab"><span class="fa fa-close"></span>X</div>'),this.$buttonBar=$('<div class="wcFrameButtonBar">'),this.$tabBar.append(this.$tabScroll),this.$tabBar.append(this.$buttonBar),this.$buttonBar.append(this.$close),this.$frame.append(this.$center),this.$frame.append(this.$tabBar),this.__container(this.$container),this._boundEvents.push({event:e.EVENT.UPDATED,handler:this.update.bind(this)}),this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.destroy.bind(this)});for(var t=0;t<this._boundEvents.length;++t)this._parent.on(this._boundEvents[t].event,this._boundEvents[t].handler);var i=this.docker();i&&i._tabList.push(this)},__updateTabs:function(t){this.$tabScroll.empty();var i=function(t){switch(this._tabOrientation){case e.TAB.BOTTOM:return t.offset().left;case e.TAB.TOP:return t.offset().left;case e.TAB.LEFT:return t.offset().top;case e.TAB.RIGHT:return t.offset().top}}.bind(this),n=[],r=0,s=i(this.$tabScroll);this.$center.children(".wcPanelTabContent").each(function(){$(this).addClass("wcPanelTabContentHidden wcPanelTabUnused")});for(var a=0;a<this._layoutList.length;++a){var o=$('<div id="'+a+'" class="wcPanelTab"><div>'+this._layoutList[a].name+"</div></div>");this._moveable&&o.addClass("wcCustomTabMoveable"),this.$tabScroll.append(o),this._layoutList[a].$icon&&o.find("div").prepend(this._layoutList[a].$icon);var h=this.$center.children('.wcPanelTabContent[id="'+a+'"]');h.length||(h=$('<div class="wcPanelTabContent wcPanelTabContentHidden" id="'+a+'">'),this.$center.append(h)),this._layoutList[a].__container(h),this._layoutList[a]._parent=this;var l=this._curTab===a;h.removeClass("wcPanelTabUnused"),l&&(o.addClass("wcPanelTabActive"),h.removeClass("wcPanelTabContentHidden")),r=i(o)-s,n.push(r),r+=o.outerWidth()}var c=0,_=this.$tabBar.height();switch(this._tabOrientation){case e.TAB.TOP:this.$tabBar.addClass("wcTabTop").removeClass("wcTabLeft wcTabRight wcTabBottom"),this.$center.css("top",_).css("left",0).css("right",0).css("bottom",0),c=this.$center.width();break;case e.TAB.BOTTOM:this.$tabBar.addClass("wcTabBottom").removeClass("wcTabTop wcTabLeft wcTabRight"),this.$center.css("top",0).css("left",0).css("right",0).css("bottom",_),c=this.$center.width();break;case e.TAB.LEFT:this.$tabBar.addClass("wcTabLeft").removeClass("wcTabTop wcTabRight wcTabBottom"),this.$center.css("top",0).css("left",_).css("right",0).css("bottom",0),c=this.$center.height();break;case e.TAB.RIGHT:this.$tabBar.addClass("wcTabRight").removeClass("wcTabTop wcTabLeft wcTabBottom"),this.$center.css("top",0).css("left",0).css("right",_).css("bottom",0),c=this.$center.height()}this.$center.children(".wcPanelTabUnused").each(function(){$(this).remove()});var u=this.__onTabChange();if(t)for(var a=0;a<n.length;++a)if(a===this._curTab){var f=n[a],p=r;a+1<n.length&&(p=n[a+1]);var d=-parseInt(this.$tabScroll.css("left")),g=c-u;d>f?(this._tabScrollPos=f-this.LEFT_TAB_BUFFER,this._tabScrollPos<0&&(this._tabScrollPos=0)):p-d>g&&(this._tabScrollPos=p-g+this.LEFT_TAB_BUFFER);break}if(this._canScrollTabs=!1,r>c-u){this._canScrollTabs=!0,this.$buttonBar.append(this.$tabRight),this.$buttonBar.append(this.$tabLeft),u+=this.$tabRight.outerWidth(),u+=this.$tabLeft.outerWidth();var v=r-(c-u)/2;if(this._tabScrollPos>v)for(var m=this.$tabScroll.children(),a=0;a<m.length;++a){var o=$(m[a]);if(r=i(o)-s,r+o.outerWidth()>v){this._tabScrollPos=r-this.LEFT_TAB_BUFFER,this._tabScrollPos<0&&(this._tabScrollPos=0);break}}}else this._tabScrollPos=0,this.$tabLeft.remove(),this.$tabRight.remove();this.$tabScroll.stop().animate({left:-this._tabScrollPos+"px"},"fast")},__onTabChange:function(){var t=0,i=this.layout(this._curTab);if(i){this.$center.toggleClass("wcScrollableX",i._scrollable.x),this.$center.toggleClass("wcScrollableY",i._scrollable.y),this.$center.toggleClass("wcOverflowVisible",i._overflowVisible),this.$tabLeft.remove(),this.$tabRight.remove(),i._closeable?(this.$close.show(),t+=this.$close.outerWidth()):this.$close.hide(),this._canScrollTabs&&(this.$tabBar.append(this.$tabRight),this.$tabBar.append(this.$tabLeft),t+=this.$tabRight.outerWidth()+this.$tabLeft.outerWidth());var n=this.fitContents(this._curTab);if(n.x){var r=i.scene().outerWidth();(this._tabOrientation===e.TAB.LEFT||this._tabOrientation===e.TAB.RIGHT)&&(r+=this.$tabScroll.height()),this.$container.css("width",r)}else this.$container.css("width","");if(n.y){var s=i.scene().outerHeight();(this._tabOrientation===e.TAB.TOP||this._tabOrientation===e.TAB.BOTTOM)&&(s+=this.$tabScroll.height()),this.$container.css("height",s)}else this.$container.css("height","");switch(this._tabOrientation){case e.TAB.RIGHT:case e.TAB.LEFT:this.$tabBar.css("width",this.$center.height()||"100%");break;case e.TAB.TOP:case e.TAB.BOTTOM:this.$tabBar.css("width",this.$center.width()||"100%")}this.$center.scrollLeft(i._scroll.x),this.$center.scrollTop(i._scroll.y)}return this.$buttonBar.css("min-width",t).css("width",t),t},__scrolled:function(){var t=this.layout(this._curTab);t._scroll.x=this.$center.scrollLeft(),t._scroll.y=this.$center.scrollTop()},__container:function(t){return"undefined"==typeof t?this.$container:(this.$container=t,this.$container?this.$container.append(this.$frame):this.$frame.remove(),this.$container)},__destroy:function(){var t=this.docker();if(t){var e=t._tabList.indexOf(this);e>-1&&t._tabList.splice(e,1)}for(;this._boundEvents.length;)this._parent.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this._curTab=-1;for(var i=0;i<this._layoutList.length;++i)this._layoutList[i].__destroy();for(;this._layoutList.length;)this._layoutList.pop();this.__container(null),this._parent=null}});return n}),function(){function t(t,e){if(t!==e){var i=null===t,n=t===T,r=t===t,s=null===e,a=e===T,o=e===e;if(t>e&&!s||!r||i&&!a&&o||n&&o)return 1;if(e>t&&!i||!o||s&&!n&&r||a&&r)return-1}return 0}function e(t,e,i){for(var n=t.length,r=i?n:-1;i?r--:++r<n;)if(e(t[r],r,t))return r;return-1}function n(t,e,i){if(e!==e)return p(t,i);for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function r(t){return"function"==typeof t||!1}function s(t){return null==t?"":t+""}function a(t,e){for(var i=-1,n=t.length;++i<n&&e.indexOf(t.charAt(i))>-1;);return i}function o(t,e){for(var i=t.length;i--&&e.indexOf(t.charAt(i))>-1;);return i}function h(e,i){return t(e.criteria,i.criteria)||e.index-i.index}function l(e,i,n){for(var r=-1,s=e.criteria,a=i.criteria,o=s.length,h=n.length;++r<o;){var l=t(s[r],a[r]);if(l){if(r>=h)return l;var c=n[r];return l*("asc"===c||c===!0?1:-1)}}return e.index-i.index}function c(t){return Kt[t]}function _(t){return Gt[t]}function u(t,e,i){return e?t=Ut[t]:i&&(t=Zt[t]),"\\"+t}function f(t){return"\\"+Zt[t]}function p(t,e,i){for(var n=t.length,r=e+(i?0:-1);i?r--:++r<n;){var s=t[r];if(s!==s)return r}return-1}function d(t){return!!t&&"object"==typeof t}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function v(t,e){for(var i=-1,n=t.length,r=-1,s=[];++i<n;)t[i]===e&&(t[i]=H,s[++r]=i);return s}function m(t,e){for(var i,n=-1,r=t.length,s=-1,a=[];++n<r;){var o=t[n],h=e?e(o,n,t):o;n&&i===h||(i=h,a[++s]=o)}return a}function b(t){for(var e=-1,i=t.length;++e<i&&g(t.charCodeAt(e)););return e}function $(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function w(t){return jt[t]}function y(i){function g(t){if(d(t)&&!Io(t)&&!(t instanceof et)){if(t instanceof Q)return t;if(na.call(t,"__chain__")&&na.call(t,"__wrapped__"))return dn(t)}return new Q(t)}function q(){}function Q(t,e,i){this.__wrapped__=t,this.__actions__=i||[],this.__chain__=!!e}function et(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Da,this.__views__=[]}function Kt(){var t=new et(this.__wrapped__);return t.__actions__=re(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=re(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=re(this.__views__),t}function Gt(){if(this.__filtered__){var t=new et(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function jt(){var t=this.__wrapped__.value(),e=this.__dir__,i=Io(t),n=0>e,r=i?t.length:0,s=Ui(0,r,this.__views__),a=s.start,o=s.end,h=o-a,l=n?o:a-1,c=this.__iteratees__,_=c.length,u=0,f=Ea(h,this.__takeCount__);if(!i||N>r||r==h&&f==h)return ri(t,this.__actions__);var p=[];t:for(;h--&&f>u;){l+=e;for(var d=-1,g=t[l];++d<_;){var v=c[d],m=v.iteratee,b=v.type,$=m(g);if(b==M)g=$;else if(!$){if(b==R)continue t;break t}}p[u++]=g}return p}function Wt(){this.__data__={}}function Ut(t){return this.has(t)&&delete this.__data__[t]}function Zt(t){return"__proto__"==t?T:this.__data__[t]}function qt(t){return"__proto__"!=t&&na.call(this.__data__,t)}function Yt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Xt(t){var e=t?t.length:0;for(this.data={hash:ba(null),set:new fa};e--;)this.push(t[e])}function Jt(t,e){var i=t.data,n="string"==typeof e||Ar(e)?i.set.has(e):i.hash[e];return n?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Ar(t)?e.set.add(t):e.hash[t]=!0}function ne(t,e){for(var i=-1,n=t.length,r=-1,s=e.length,a=Hs(n+s);++i<n;)a[i]=t[i];for(;++r<s;)a[i++]=e[r];return a}function re(t,e){var i=-1,n=t.length;for(e||(e=Hs(n));++i<n;)e[i]=t[i];return e}function se(t,e){for(var i=-1,n=t.length;++i<n&&e(t[i],i,t)!==!1;);return t}function ae(t,e){for(var i=t.length;i--&&e(t[i],i,t)!==!1;);return t}function oe(t,e){for(var i=-1,n=t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function he(t,e,i,n){for(var r=-1,s=t.length,a=n,o=a;++r<s;){var h=t[r],l=+e(h);i(l,a)&&(a=l,o=h)}return o}function le(t,e){for(var i=-1,n=t.length,r=-1,s=[];++i<n;){var a=t[i];e(a,i,t)&&(s[++r]=a)}return s}function ce(t,e){for(var i=-1,n=t.length,r=Hs(n);++i<n;)r[i]=e(t[i],i,t);return r}function _e(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function ue(t,e,i,n){var r=-1,s=t.length;for(n&&s&&(i=t[++r]);++r<s;)i=e(i,t[r],r,t);return i}function fe(t,e,i,n){var r=t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function pe(t,e){for(var i=-1,n=t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function de(t,e){for(var i=t.length,n=0;i--;)n+=+e(t[i])||0;return n}function ge(t,e){return t===T?e:t}function ve(t,e,i,n){return t!==T&&na.call(n,i)?t:e}function me(t,e,i){for(var n=-1,r=Wo(e),s=r.length;++n<s;){var a=r[n],o=t[a],h=i(o,e[a],a,t,e);(h===h?h===o:o!==o)&&(o!==T||a in t)||(t[a]=h)}return t}function be(t,e){return null==e?t:we(e,Wo(e),t)}function $e(t,e){for(var i=-1,n=null==t,r=!n&&Ji(t),s=r?t.length:0,a=e.length,o=Hs(a);++i<a;){var h=e[i];r?o[i]=Qi(h,s)?t[h]:T:o[i]=n?T:t[h]}return o}function we(t,e,i){i||(i={});for(var n=-1,r=e.length;++n<r;){var s=e[n];i[s]=t[s]}return i}function ye(t,e,i){var n=typeof t;return"function"==n?e===T?t:oi(t,e,i):null==t?Ls:"object"==n?Ve(t):e===T?Is(t):He(t,e)}function Te(t,e,i,n,r,s,a){var o;if(i&&(o=r?i(t,n,r):i(t)),o!==T)return o;if(!Ar(t))return t;var h=Io(t);if(h){if(o=Zi(t),!e)return re(t,o)}else{var l=sa.call(t),c=l==Z;if(l!=X&&l!=K&&(!c||r))return Ht[l]?Yi(t,l,e):r?t:{};if(ee(t))return r?t:{};if(o=qi(c?{}:t),!e)return be(o,t)}s||(s=[]),a||(a=[]);for(var _=s.length;_--;)if(s[_]==t)return a[_];return s.push(t),a.push(o),(h?se:Be)(t,function(n,r){o[r]=Te(n,e,i,r,t,s,a)}),o}function Ce(t,e,i){if("function"!=typeof t)throw new Xs(V);return pa(function(){t.apply(T,i)},e)}function Ee(t,e){var i=t?t.length:0,r=[];if(!i)return r;var s=-1,a=Gi(),o=a===n,h=o&&e.length>=N?gi(e):null,l=e.length;h&&(a=Jt,o=!1,e=h);t:for(;++s<i;){var c=t[s];if(o&&c===c){for(var _=l;_--;)if(e[_]===c)continue t;r.push(c)}else a(e,c,0)<0&&r.push(c)}return r}function xe(t,e){var i=!0;return Va(t,function(t,n,r){return i=!!e(t,n,r)}),i}function Oe(t,e,i,n){var r=n,s=r;return Va(t,function(t,a,o){var h=+e(t,a,o);(i(h,r)||h===n&&h===s)&&(r=h,s=t)}),s}function Fe(t,e,i,n){var r=t.length;for(i=null==i?0:+i||0,0>i&&(i=-i>r?0:r+i),n=n===T||n>r?r:+n||0,0>n&&(n+=r),r=i>n?0:n>>>0,i>>>=0;r>i;)t[i++]=e;return t}function Le(t,e){var i=[];return Va(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}function De(t,e,i,n){var r;return i(t,function(t,i,s){return e(t,i,s)?(r=n?i:t,!1):void 0}),r}function Se(t,e,i,n){n||(n=[]);for(var r=-1,s=t.length;++r<s;){var a=t[r];d(a)&&Ji(a)&&(i||Io(a)||Or(a))?e?Se(a,e,i,n):_e(n,a):i||(n[n.length]=a)}return n}function Pe(t,e){return Ka(t,e,is)}function Be(t,e){return Ka(t,e,Wo)}function ke(t,e){return Ga(t,e,Wo)}function Ie(t,e){for(var i=-1,n=e.length,r=-1,s=[];++i<n;){var a=e[i];Ir(t[a])&&(s[++r]=a)}return s}function Ae(t,e,i){if(null!=t){t=fn(t),i!==T&&i in t&&(e=[i]);for(var n=0,r=e.length;null!=t&&r>n;)t=fn(t)[e[n++]];return n&&n==r?t:T}}function ze(t,e,i,n,r,s){return t===e?!0:null==t||null==e||!Ar(t)&&!d(e)?t!==t&&e!==e:Ne(t,e,ze,i,n,r,s)}function Ne(t,e,i,n,r,s,a){var o=Io(t),h=Io(e),l=G,c=G;o||(l=sa.call(t),l==K?l=X:l!=X&&(o=jr(t))),h||(c=sa.call(e),c==K?c=X:c!=X&&(h=jr(e)));var _=l==X&&!ee(t),u=c==X&&!ee(e),f=l==c;if(f&&!o&&!_)return Mi(t,e,l);if(!r){var p=_&&na.call(t,"__wrapped__"),d=u&&na.call(e,"__wrapped__");if(p||d)return i(p?t.value():t,d?e.value():e,n,r,s,a)}if(!f)return!1;s||(s=[]),a||(a=[]);for(var g=s.length;g--;)if(s[g]==t)return a[g]==e;s.push(t),a.push(e);var v=(o?Ri:Vi)(t,e,i,n,r,s,a);return s.pop(),a.pop(),v}function Re(t,e,i){var n=e.length,r=n,s=!i;if(null==t)return!r;for(t=fn(t);n--;){var a=e[n];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<r;){a=e[n];var o=a[0],h=t[o],l=a[1];if(s&&a[2]){if(h===T&&!(o in t))return!1}else{var c=i?i(h,l,o):T;if(!(c===T?ze(l,h,i,!0):c))return!1}}return!0}function Me(t,e){var i=-1,n=Ji(t)?Hs(t.length):[];return Va(t,function(t,r,s){n[++i]=e(t,r,s)}),n}function Ve(t){var e=ji(t);if(1==e.length&&e[0][2]){var i=e[0][0],n=e[0][1];return function(t){return null==t?!1:(t=fn(t),t[i]===n&&(n!==T||i in t))}}return function(t){return Re(t,e)}}function He(t,e){var i=Io(t),n=en(t)&&sn(e),r=t+"";return t=pn(t),function(s){if(null==s)return!1;var a=r;if(s=fn(s),(i||!n)&&!(a in s)){if(s=1==t.length?s:Ae(s,Ye(t,0,-1)),null==s)return!1;a=Fn(t),s=fn(s)}return s[a]===e?e!==T||a in s:ze(e,s[a],T,!0)}}function Ke(t,e,i,n,r){if(!Ar(t))return t;var s=Ji(e)&&(Io(e)||jr(e)),a=s?T:Wo(e);return se(a||e,function(o,h){if(a&&(h=o,o=e[h]),d(o))n||(n=[]),r||(r=[]),Ge(t,e,h,Ke,i,n,r);else{var l=t[h],c=i?i(l,o,h,t,e):T,_=c===T;_&&(c=o),c===T&&(!s||h in t)||!_&&(c===c?c===l:l!==l)||(t[h]=c)}}),t}function Ge(t,e,i,n,r,s,a){for(var o=s.length,h=e[i];o--;)if(s[o]==h)return void(t[i]=a[o]);var l=t[i],c=r?r(l,h,i,t,e):T,_=c===T;_&&(c=h,Ji(h)&&(Io(h)||jr(h))?c=Io(l)?l:Ji(l)?re(l):[]:Hr(h)||Or(h)?c=Or(l)?Yr(l):Hr(l)?l:{}:_=!1),s.push(h),a.push(c),_?t[i]=n(c,h,r,s,a):(c===c?c!==l:l===l)&&(t[i]=c)}function je(t){return function(e){return null==e?T:fn(e)[t]}}function We(t){var e=t+"";return t=pn(t),function(i){return Ae(i,t,e)}}function Ue(t,e){for(var i=t?e.length:0;i--;){var n=e[i];if(n!=r&&Qi(n)){var r=n;da.call(t,n,1)}}return t}function Ze(t,e){return t+$a(Fa()*(e-t+1))}function qe(t,e,i,n,r){return r(t,function(t,r,s){i=n?(n=!1,t):e(i,t,r,s)}),i}function Ye(t,e,i){var n=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),i=i===T||i>r?r:+i||0,0>i&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var s=Hs(r);++n<r;)s[n]=t[n+e];return s}function Xe(t,e){var i;return Va(t,function(t,n,r){return i=e(t,n,r),!i}),!!i}function Je(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function Qe(t,e,i){var n=Hi(),r=-1;e=ce(e,function(t){return n(t)});var s=Me(t,function(t){var i=ce(e,function(e){return e(t)});return{criteria:i,index:++r,value:t}});return Je(s,function(t,e){return l(t,e,i)})}function ti(t,e){var i=0;return Va(t,function(t,n,r){i+=+e(t,n,r)||0}),i}function ei(t,e){var i=-1,r=Gi(),s=t.length,a=r===n,o=a&&s>=N,h=o?gi():null,l=[];h?(r=Jt,a=!1):(o=!1,h=e?[]:l);t:for(;++i<s;){var c=t[i],_=e?e(c,i,t):c;if(a&&c===c){for(var u=h.length;u--;)if(h[u]===_)continue t;e&&h.push(_),l.push(c)}else r(h,_,0)<0&&((e||o)&&h.push(_),l.push(c))}return l}function ii(t,e){for(var i=-1,n=e.length,r=Hs(n);++i<n;)r[i]=t[e[i]];return r}function ni(t,e,i,n){for(var r=t.length,s=n?r:-1;(n?s--:++s<r)&&e(t[s],s,t););return i?Ye(t,n?0:s,n?s+1:r):Ye(t,n?s+1:0,n?r:s)}function ri(t,e){var i=t;i instanceof et&&(i=i.value());for(var n=-1,r=e.length;++n<r;){var s=e[n];i=s.func.apply(s.thisArg,_e([i],s.args))}return i}function si(t,e,i){var n=0,r=t?t.length:n;if("number"==typeof e&&e===e&&Ba>=r){for(;r>n;){var s=n+r>>>1,a=t[s];(i?e>=a:e>a)&&null!==a?n=s+1:r=s}return r}return ai(t,e,Ls,i)}function ai(t,e,i,n){e=i(e);for(var r=0,s=t?t.length:0,a=e!==e,o=null===e,h=e===T;s>r;){var l=$a((r+s)/2),c=i(t[l]),_=c!==T,u=c===c;if(a)var f=u||n;else f=o?u&&_&&(n||null!=c):h?u&&(n||_):null==c?!1:n?e>=c:e>c;f?r=l+1:s=l}return Ea(s,Pa)}function oi(t,e,i){if("function"!=typeof t)return Ls;if(e===T)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)};case 5:return function(i,n,r,s,a){return t.call(e,i,n,r,s,a)}}return function(){return t.apply(e,arguments)}}function hi(t){var e=new ha(t.byteLength),i=new ga(e);return i.set(new ga(t)),e}function li(t,e,i){for(var n=i.length,r=-1,s=Ca(t.length-n,0),a=-1,o=e.length,h=Hs(o+s);++a<o;)h[a]=e[a];for(;++r<n;)h[i[r]]=t[r];for(;s--;)h[a++]=t[r++];return h}function ci(t,e,i){for(var n=-1,r=i.length,s=-1,a=Ca(t.length-r,0),o=-1,h=e.length,l=Hs(a+h);++s<a;)l[s]=t[s];for(var c=s;++o<h;)l[c+o]=e[o];for(;++n<r;)l[c+i[n]]=t[s++];return l}function _i(t,e){return function(i,n,r){var s=e?e():{};if(n=Hi(n,r,3),Io(i))for(var a=-1,o=i.length;++a<o;){var h=i[a];t(s,h,n(h,a,i),i)}else Va(i,function(e,i,r){t(s,e,n(e,i,r),r)});return s}}function ui(t){return br(function(e,i){var n=-1,r=null==e?0:i.length,s=r>2?i[r-2]:T,a=r>2?i[2]:T,o=r>1?i[r-1]:T;for("function"==typeof s?(s=oi(s,o,5),r-=2):(s="function"==typeof o?o:T,r-=s?1:0),a&&tn(i[0],i[1],a)&&(s=3>r?T:s,r=1);++n<r;){var h=i[n];h&&t(e,h,s)}return e})}function fi(t,e){return function(i,n){var r=i?Ua(i):0;if(!rn(r))return t(i,n);for(var s=e?r:-1,a=fn(i);(e?s--:++s<r)&&n(a[s],s,a)!==!1;);return i}}function pi(t){return function(e,i,n){for(var r=fn(e),s=n(e),a=s.length,o=t?a:-1;t?o--:++o<a;){var h=s[o];if(i(r[h],h,r)===!1)break}return e}}function di(t,e){function i(){var r=this&&this!==te&&this instanceof i?n:t;return r.apply(e,arguments)}var n=mi(t);return i}function gi(t){return ba&&fa?new Xt(t):null}function vi(t){return function(e){for(var i=-1,n=xs(us(e)),r=n.length,s="";++i<r;)s=t(s,n[i],i);return s}}function mi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Ma(t.prototype),n=t.apply(i,e);return Ar(n)?n:i}}function bi(t){function e(i,n,r){r&&tn(i,n,r)&&(n=T);var s=Ni(i,t,T,T,T,T,T,n);return s.placeholder=e.placeholder,s}return e}function $i(t,e){return br(function(i){var n=i[0];return null==n?n:(i.push(e),t.apply(T,i))})}function wi(t,e){return function(i,n,r){if(r&&tn(i,n,r)&&(n=T),n=Hi(n,r,3),1==n.length){i=Io(i)?i:un(i);var s=he(i,n,t,e);if(!i.length||s!==e)return s}return Oe(i,n,t,e)}}function yi(t,i){return function(n,r,s){if(r=Hi(r,s,3),Io(n)){var a=e(n,r,i);return a>-1?n[a]:T}return De(n,r,t)}}function Ti(t){return function(i,n,r){return i&&i.length?(n=Hi(n,r,3),e(i,n,t)):-1}}function Ci(t){return function(e,i,n){return i=Hi(i,n,3),De(e,i,t,!0)}}function Ei(t){return function(){for(var e,i=arguments.length,n=t?i:-1,r=0,s=Hs(i);t?n--:++n<i;){var a=s[r++]=arguments[n];if("function"!=typeof a)throw new Xs(V);!e&&Q.prototype.thru&&"wrapper"==Ki(a)&&(e=new Q([],!0))}for(n=e?-1:i;++n<i;){a=s[n];var o=Ki(a),h="wrapper"==o?Wa(a):T;e=h&&nn(h[0])&&h[1]==(P|F|D|B)&&!h[4].length&&1==h[9]?e[Ki(h[0])].apply(e,h[3]):1==a.length&&nn(a)?e[o]():e.thru(a)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Io(n)&&n.length>=N)return e.plant(n).value();for(var r=0,a=i?s[r].apply(this,t):n;++r<i;)a=s[r].call(this,a);return a}}}function xi(t,e){return function(i,n,r){return"function"==typeof n&&r===T&&Io(i)?t(i,n):e(i,oi(n,r,3))}}function Oi(t){return function(e,i,n){return("function"!=typeof i||n!==T)&&(i=oi(i,n,3)),t(e,i,is)}}function Fi(t){return function(e,i,n){return("function"!=typeof i||n!==T)&&(i=oi(i,n,3)),t(e,i)}}function Li(t){return function(e,i,n){var r={};return i=Hi(i,n,3),Be(e,function(e,n,s){var a=i(e,n,s);n=t?a:n,e=t?e:a,r[n]=e}),r}}function Di(t){return function(e,i,n){return e=s(e),(t?e:"")+ki(e,i,n)+(t?"":e)}}function Si(t){var e=br(function(i,n){var r=v(n,e.placeholder);return Ni(i,t,T,n,r)});return e}function Pi(t,e){return function(i,n,r,s){var a=arguments.length<3;return"function"==typeof n&&s===T&&Io(i)?t(i,n,r,a):qe(i,Hi(n,s,4),r,a,e)}}function Bi(t,e,i,n,r,s,a,o,h,l){function c(){for(var b=arguments.length,$=b,w=Hs(b);$--;)w[$]=arguments[$];if(n&&(w=li(w,n,r)),s&&(w=ci(w,s,a)),p||g){var y=c.placeholder,C=v(w,y);if(b-=C.length,l>b){var O=o?re(o):T,F=Ca(l-b,0),L=p?C:T,P=p?T:C,B=p?w:T,k=p?T:w;e|=p?D:S,e&=~(p?S:D),d||(e&=~(E|x));var I=[t,e,i,B,L,k,P,O,h,F],A=Bi.apply(T,I);return nn(t)&&Za(A,I),A.placeholder=y,A}}var z=u?i:this,N=f?z[t]:t;return o&&(w=cn(w,o)),_&&h<w.length&&(w.length=h),this&&this!==te&&this instanceof c&&(N=m||mi(t)),N.apply(z,w)}var _=e&P,u=e&E,f=e&x,p=e&F,d=e&O,g=e&L,m=f?T:mi(t);return c}function ki(t,e,i){var n=t.length;if(e=+e,n>=e||!ya(e))return"";var r=e-n;return i=null==i?" ":i+"",ms(i,ma(r/i.length)).slice(0,r)}function Ii(t,e,i,n){function r(){for(var e=-1,o=arguments.length,h=-1,l=n.length,c=Hs(l+o);++h<l;)c[h]=n[h];for(;o--;)c[h++]=arguments[++e];var _=this&&this!==te&&this instanceof r?a:t;return _.apply(s?i:this,c)}var s=e&E,a=mi(t);return r}function Ai(t){var e=Ws[t];return function(t,i){return i=i===T?0:+i||0,i?(i=_a(10,i),e(t*i)/i):e(t)}}function zi(t){return function(e,i,n,r){var s=Hi(n);return null==n&&s===ye?si(e,i,t):ai(e,i,s(n,r,1),t)}}function Ni(t,e,i,n,r,s,a,o){var h=e&x;if(!h&&"function"!=typeof t)throw new Xs(V);var l=n?n.length:0;if(l||(e&=~(D|S),n=r=T),l-=r?r.length:0,e&S){var c=n,_=r;n=r=T}var u=h?T:Wa(t),f=[t,e,i,n,r,c,_,s,a,o];if(u&&(an(f,u),e=f[1],o=f[9]),f[9]=null==o?h?0:t.length:Ca(o-l,0)||0,e==E)var p=di(f[0],f[2]);else p=e!=D&&e!=(E|D)||f[4].length?Bi.apply(T,f):Ii.apply(T,f);var d=u?ja:Za;return d(p,f)}function Ri(t,e,i,n,r,s,a){var o=-1,h=t.length,l=e.length;if(h!=l&&!(r&&l>h))return!1;for(;++o<h;){var c=t[o],_=e[o],u=n?n(r?_:c,r?c:_,o):T;if(u!==T){if(u)continue;return!1}if(r){if(!pe(e,function(t){return c===t||i(c,t,n,r,s,a)}))return!1}else if(c!==_&&!i(c,_,n,r,s,a))return!1}return!0}function Mi(t,e,i){switch(i){case j:case W:return+t==+e;case U:return t.name==e.name&&t.message==e.message;case Y:return t!=+t?e!=+e:t==+e;case J:case tt:return t==e+""}return!1}function Vi(t,e,i,n,r,s,a){var o=Wo(t),h=o.length,l=Wo(e),c=l.length;if(h!=c&&!r)return!1;for(var _=h;_--;){var u=o[_];if(!(r?u in e:na.call(e,u)))return!1}for(var f=r;++_<h;){u=o[_];var p=t[u],d=e[u],g=n?n(r?d:p,r?p:d,u):T;if(!(g===T?i(p,d,n,r,s,a):g))return!1;f||(f="constructor"==u)}if(!f){var v=t.constructor,m=e.constructor;if(v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m))return!1}return!0}function Hi(t,e,i){var n=g.callback||Os;return n=n===Os?ye:n,i?n(t,e,i):n}function Ki(t){for(var e=t.name+"",i=Aa[e],n=i?i.length:0;n--;){var r=i[n],s=r.func;if(null==s||s==t)return r.name}return e}function Gi(t,e,i){var r=g.indexOf||xn;return r=r===xn?n:r,t?r(t,e,i):r}function ji(t){for(var e=ns(t),i=e.length;i--;)e[i][2]=sn(e[i][1]);return e}function Wi(t,e){var i=null==t?T:t[e];return Rr(i)?i:T}function Ui(t,e,i){for(var n=-1,r=i.length;++n<r;){var s=i[n],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ea(e,t+a);break;case"takeRight":t=Ca(t,e-a)}}return{start:t,end:e}}function Zi(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&na.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function qi(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Zs),new e}function Yi(t,e,i){var n=t.constructor;switch(e){case it:return hi(t);case j:case W:return new n(+t);case nt:case rt:case st:case at:case ot:case ht:case lt:case ct:case _t:n instanceof n&&(n=za[e]);var r=t.buffer;return new n(i?hi(r):r,t.byteOffset,t.length);case Y:case tt:return new n(t);case J:var s=new n(t.source,Dt.exec(t));s.lastIndex=t.lastIndex}return s}function Xi(t,e,i){null==t||en(e,t)||(e=pn(e),t=1==e.length?t:Ae(t,Ye(e,0,-1)),e=Fn(e));var n=null==t?t:t[e];return null==n?T:n.apply(t,i)}function Ji(t){return null!=t&&rn(Ua(t))}function Qi(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?ka:e,t>-1&&t%1==0&&e>t}function tn(t,e,i){if(!Ar(i))return!1;var n=typeof e;if("number"==n?Ji(i)&&Qi(e,i.length):"string"==n&&e in i){var r=i[e];return t===t?t===r:r!==r}return!1}function en(t,e){var i=typeof t;if("string"==i&&Tt.test(t)||"number"==i)return!0;if(Io(t))return!1;var n=!yt.test(t);return n||null!=e&&t in fn(e)}function nn(t){var e=Ki(t),i=g[e];if("function"!=typeof i||!(e in et.prototype))return!1;if(t===i)return!0;var n=Wa(i);return!!n&&t===n[0]}function rn(t){return"number"==typeof t&&t>-1&&t%1==0&&ka>=t}function sn(t){return t===t&&!Ar(t)}function an(t,e){var i=t[1],n=e[1],r=i|n,s=P>r,a=n==P&&i==F||n==P&&i==B&&t[7].length<=e[8]||n==(P|B)&&i==F;if(!s&&!a)return t;n&E&&(t[2]=e[2],r|=i&E?0:O);var o=e[3];if(o){var h=t[3];t[3]=h?li(h,o,e[4]):re(o),t[4]=h?v(t[3],H):re(e[4])}return o=e[5],o&&(h=t[5],t[5]=h?ci(h,o,e[6]):re(o),t[6]=h?v(t[5],H):re(e[6])),o=e[7],o&&(t[7]=re(o)),n&P&&(t[8]=null==t[8]?e[8]:Ea(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function on(t,e){return t===T?e:Ao(t,e,on)}function hn(t,e){t=fn(t);for(var i=-1,n=e.length,r={};++i<n;){var s=e[i];s in t&&(r[s]=t[s])}return r}function ln(t,e){var i={};return Pe(t,function(t,n,r){e(t,n,r)&&(i[n]=t)}),i}function cn(t,e){for(var i=t.length,n=Ea(e.length,i),r=re(t);n--;){var s=e[n];t[n]=Qi(s,i)?r[s]:T}return t}function _n(t){for(var e=is(t),i=e.length,n=i&&t.length,r=!!n&&rn(n)&&(Io(t)||Or(t)||Gr(t)),s=-1,a=[];++s<i;){var o=e[s];(r&&Qi(o,n)||na.call(t,o))&&a.push(o)}return a}function un(t){return null==t?[]:Ji(t)?g.support.unindexedChars&&Gr(t)?t.split(""):Ar(t)?t:Zs(t):os(t)}function fn(t){if(g.support.unindexedChars&&Gr(t)){for(var e=-1,i=t.length,n=Zs(t);++e<i;)n[e]=t.charAt(e);return n}return Ar(t)?t:Zs(t)}function pn(t){if(Io(t))return t;var e=[];return s(t).replace(Ct,function(t,i,n,r){e.push(n?r.replace(Ft,"$1"):i||t)}),e}function dn(t){return t instanceof et?t.clone():new Q(t.__wrapped__,t.__chain__,re(t.__actions__))}function gn(t,e,i){e=(i?tn(t,e,i):null==e)?1:Ca($a(e)||1,1);for(var n=0,r=t?t.length:0,s=-1,a=Hs(ma(r/e));r>n;)a[++s]=Ye(t,n,n+=e);return a}function vn(t){for(var e=-1,i=t?t.length:0,n=-1,r=[];++e<i;){
var s=t[e];s&&(r[++n]=s)}return r}function mn(t,e,i){var n=t?t.length:0;return n?((i?tn(t,e,i):null==e)&&(e=1),Ye(t,0>e?0:e)):[]}function bn(t,e,i){var n=t?t.length:0;return n?((i?tn(t,e,i):null==e)&&(e=1),e=n-(+e||0),Ye(t,0,0>e?0:e)):[]}function $n(t,e,i){return t&&t.length?ni(t,Hi(e,i,3),!0,!0):[]}function wn(t,e,i){return t&&t.length?ni(t,Hi(e,i,3),!0):[]}function yn(t,e,i,n){var r=t?t.length:0;return r?(i&&"number"!=typeof i&&tn(t,e,i)&&(i=0,n=r),Fe(t,e,i,n)):[]}function Tn(t){return t?t[0]:T}function Cn(t,e,i){var n=t?t.length:0;return i&&tn(t,e,i)&&(e=!1),n?Se(t,e):[]}function En(t){var e=t?t.length:0;return e?Se(t,!0):[]}function xn(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?Ca(r+i,0):i;else if(i){var s=si(t,e);return r>s&&(e===e?e===t[s]:t[s]!==t[s])?s:-1}return n(t,e,i||0)}function On(t){return bn(t,1)}function Fn(t){var e=t?t.length:0;return e?t[e-1]:T}function Ln(t,e,i){var n=t?t.length:0;if(!n)return-1;var r=n;if("number"==typeof i)r=(0>i?Ca(n+i,0):Ea(i||0,n-1))+1;else if(i){r=si(t,e,!0)-1;var s=t[r];return(e===e?e===s:s!==s)?r:-1}if(e!==e)return p(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Dn(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var i=0,n=Gi(),r=t.length;++i<r;)for(var s=0,a=t[i];(s=n(e,a,s))>-1;)da.call(e,s,1);return e}function Sn(t,e,i){var n=[];if(!t||!t.length)return n;var r=-1,s=[],a=t.length;for(e=Hi(e,i,3);++r<a;){var o=t[r];e(o,r,t)&&(n.push(o),s.push(r))}return Ue(t,s),n}function Pn(t){return mn(t,1)}function Bn(t,e,i){var n=t?t.length:0;return n?(i&&"number"!=typeof i&&tn(t,e,i)&&(e=0,i=n),Ye(t,e,i)):[]}function kn(t,e,i){var n=t?t.length:0;return n?((i?tn(t,e,i):null==e)&&(e=1),Ye(t,0,0>e?0:e)):[]}function In(t,e,i){var n=t?t.length:0;return n?((i?tn(t,e,i):null==e)&&(e=1),e=n-(+e||0),Ye(t,0>e?0:e)):[]}function An(t,e,i){return t&&t.length?ni(t,Hi(e,i,3),!1,!0):[]}function zn(t,e,i){return t&&t.length?ni(t,Hi(e,i,3)):[]}function Nn(t,e,i,r){var s=t?t.length:0;if(!s)return[];null!=e&&"boolean"!=typeof e&&(r=i,i=tn(t,e,r)?T:e,e=!1);var a=Hi();return(null!=i||a!==ye)&&(i=a(i,r,3)),e&&Gi()===n?m(t,i):ei(t,i)}function Rn(t){if(!t||!t.length)return[];var e=-1,i=0;t=le(t,function(t){return Ji(t)?(i=Ca(t.length,i),!0):void 0});for(var n=Hs(i);++e<i;)n[e]=ce(t,je(e));return n}function Mn(t,e,i){var n=t?t.length:0;if(!n)return[];var r=Rn(t);return null==e?r:(e=oi(e,i,4),ce(r,function(t){return ue(t,e,T,!0)}))}function Vn(){for(var t=-1,e=arguments.length;++t<e;){var i=arguments[t];if(Ji(i))var n=n?_e(Ee(n,i),Ee(i,n)):i}return n?ei(n):[]}function Hn(t,e){var i=-1,n=t?t.length:0,r={};for(!n||e||Io(t[0])||(e=[]);++i<n;){var s=t[i];e?r[s]=e[i]:s&&(r[s[0]]=s[1])}return r}function Kn(t){var e=g(t);return e.__chain__=!0,e}function Gn(t,e,i){return e.call(i,t),t}function jn(t,e,i){return e.call(i,t)}function Wn(){return Kn(this)}function Un(){return new Q(this.value(),this.__chain__)}function Zn(t){for(var e,i=this;i instanceof q;){var n=dn(i);e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e}function qn(){var t=this.__wrapped__,e=function(t){return t.reverse()};if(t instanceof et){var i=t;return this.__actions__.length&&(i=new et(this)),i=i.reverse(),i.__actions__.push({func:jn,args:[e],thisArg:T}),new Q(i,this.__chain__)}return this.thru(e)}function Yn(){return this.value()+""}function Xn(){return ri(this.__wrapped__,this.__actions__)}function Jn(t,e,i){var n=Io(t)?oe:xe;return i&&tn(t,e,i)&&(e=T),("function"!=typeof e||i!==T)&&(e=Hi(e,i,3)),n(t,e)}function Qn(t,e,i){var n=Io(t)?le:Le;return e=Hi(e,i,3),n(t,e)}function tr(t,e){return lo(t,Ve(e))}function er(t,e,i,n){var r=t?Ua(t):0;return rn(r)||(t=os(t),r=t.length),i="number"!=typeof i||n&&tn(e,i,n)?0:0>i?Ca(r+i,0):i||0,"string"==typeof t||!Io(t)&&Gr(t)?r>=i&&t.indexOf(e,i)>-1:!!r&&Gi(t,e,i)>-1}function ir(t,e,i){var n=Io(t)?ce:Me;return e=Hi(e,i,3),n(t,e)}function nr(t,e){return ir(t,Is(e))}function rr(t,e,i){var n=Io(t)?le:Le;return e=Hi(e,i,3),n(t,function(t,i,n){return!e(t,i,n)})}function sr(t,e,i){if(i?tn(t,e,i):null==e){t=un(t);var n=t.length;return n>0?t[Ze(0,n-1)]:T}var r=-1,s=qr(t),n=s.length,a=n-1;for(e=Ea(0>e?0:+e||0,n);++r<e;){var o=Ze(r,a),h=s[o];s[o]=s[r],s[r]=h}return s.length=e,s}function ar(t){return sr(t,Da)}function or(t){var e=t?Ua(t):0;return rn(e)?e:Wo(t).length}function hr(t,e,i){var n=Io(t)?pe:Xe;return i&&tn(t,e,i)&&(e=T),("function"!=typeof e||i!==T)&&(e=Hi(e,i,3)),n(t,e)}function lr(t,e,i){if(null==t)return[];i&&tn(t,e,i)&&(e=T);var n=-1;e=Hi(e,i,3);var r=Me(t,function(t,i,r){return{criteria:e(t,i,r),index:++n,value:t}});return Je(r,h)}function cr(t,e,i,n){return null==t?[]:(n&&tn(e,i,n)&&(i=T),Io(e)||(e=null==e?[]:[e]),Io(i)||(i=null==i?[]:[i]),Qe(t,e,i))}function _r(t,e){return Qn(t,Ve(e))}function ur(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Xs(V);var i=t;t=e,e=i}return t=ya(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function fr(t,e,i){return i&&tn(t,e,i)&&(e=T),e=t&&null==e?t.length:Ca(+e||0,0),Ni(t,P,T,T,T,T,e)}function pr(t,e){var i;if("function"!=typeof e){if("function"!=typeof t)throw new Xs(V);var n=t;t=e,e=n}return function(){return--t>0&&(i=e.apply(this,arguments)),1>=t&&(e=T),i}}function dr(t,e,i){function n(){f&&la(f),l&&la(l),d=0,l=f=p=T}function r(e,i){i&&la(i),l=f=p=T,e&&(d=wo(),c=t.apply(u,h),f||l||(h=u=T))}function s(){var t=e-(wo()-_);0>=t||t>e?r(p,l):f=pa(s,t)}function a(){r(v,f)}function o(){if(h=arguments,_=wo(),u=this,p=v&&(f||!m),g===!1)var i=m&&!f;else{l||m||(d=_);var n=g-(_-d),r=0>=n||n>g;r?(l&&(l=la(l)),d=_,c=t.apply(u,h)):l||(l=pa(a,n))}return r&&f?f=la(f):f||e===g||(f=pa(s,e)),i&&(r=!0,c=t.apply(u,h)),!r||f||l||(h=u=T),c}var h,l,c,_,u,f,p,d=0,g=!1,v=!0;if("function"!=typeof t)throw new Xs(V);if(e=0>e?0:+e||0,i===!0){var m=!0;v=!1}else Ar(i)&&(m=!!i.leading,g="maxWait"in i&&Ca(+i.maxWait||0,e),v="trailing"in i?!!i.trailing:v);return o.cancel=n,o}function gr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Xs(V);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var a=t.apply(this,n);return i.cache=s.set(r,a),a};return i.cache=new gr.Cache,i}function vr(t){if("function"!=typeof t)throw new Xs(V);return function(){return!t.apply(this,arguments)}}function mr(t){return pr(2,t)}function br(t,e){if("function"!=typeof t)throw new Xs(V);return e=Ca(e===T?t.length-1:+e||0,0),function(){for(var i=arguments,n=-1,r=Ca(i.length-e,0),s=Hs(r);++n<r;)s[n]=i[e+n];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var a=Hs(e+1);for(n=-1;++n<e;)a[n]=i[n];return a[e]=s,t.apply(this,a)}}function $r(t){if("function"!=typeof t)throw new Xs(V);return function(e){return t.apply(this,e)}}function wr(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new Xs(V);return i===!1?n=!1:Ar(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),dr(t,e,{leading:n,maxWait:+e,trailing:r})}function yr(t,e){return e=null==e?Ls:e,Ni(e,D,T,[t],[])}function Tr(t,e,i,n){return e&&"boolean"!=typeof e&&tn(t,e,i)?e=!1:"function"==typeof e&&(n=i,i=e,e=!1),"function"==typeof i?Te(t,e,oi(i,n,3)):Te(t,e)}function Cr(t,e,i){return"function"==typeof e?Te(t,!0,oi(e,i,3)):Te(t,!0)}function Er(t,e){return t>e}function xr(t,e){return t>=e}function Or(t){return d(t)&&Ji(t)&&na.call(t,"callee")&&!ua.call(t,"callee")}function Fr(t){return t===!0||t===!1||d(t)&&sa.call(t)==j}function Lr(t){return d(t)&&sa.call(t)==W}function Dr(t){return!!t&&1===t.nodeType&&d(t)&&!Hr(t)}function Sr(t){return null==t?!0:Ji(t)&&(Io(t)||Gr(t)||Or(t)||d(t)&&Ir(t.splice))?!t.length:!Wo(t).length}function Pr(t,e,i,n){i="function"==typeof i?oi(i,n,3):T;var r=i?i(t,e):T;return r===T?ze(t,e,i):!!r}function Br(t){return d(t)&&"string"==typeof t.message&&sa.call(t)==U}function kr(t){return"number"==typeof t&&ya(t)}function Ir(t){return Ar(t)&&sa.call(t)==Z}function Ar(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function zr(t,e,i,n){return i="function"==typeof i?oi(i,n,3):T,Re(t,ji(e),i)}function Nr(t){return Vr(t)&&t!=+t}function Rr(t){return null==t?!1:Ir(t)?oa.test(ia.call(t)):d(t)&&(ee(t)?oa:Pt).test(t)}function Mr(t){return null===t}function Vr(t){return"number"==typeof t||d(t)&&sa.call(t)==Y}function Hr(t){var e;if(!d(t)||sa.call(t)!=X||ee(t)||Or(t)||!na.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var i;return g.support.ownLast?(Pe(t,function(t,e,n){return i=na.call(n,e),!1}),i!==!1):(Pe(t,function(t,e){i=e}),i===T||na.call(t,i))}function Kr(t){return Ar(t)&&sa.call(t)==J}function Gr(t){return"string"==typeof t||d(t)&&sa.call(t)==tt}function jr(t){return d(t)&&rn(t.length)&&!!Vt[sa.call(t)]}function Wr(t){return t===T}function Ur(t,e){return e>t}function Zr(t,e){return e>=t}function qr(t){var e=t?Ua(t):0;return rn(e)?e?g.support.unindexedChars&&Gr(t)?t.split(""):re(t):[]:os(t)}function Yr(t){return we(t,is(t))}function Xr(t,e,i){var n=Ma(t);return i&&tn(t,e,i)&&(e=T),e?be(n,e):n}function Jr(t){return Ie(t,is(t))}function Qr(t,e,i){var n=null==t?T:Ae(t,pn(e),e+"");return n===T?i:n}function ts(t,e){if(null==t)return!1;var i=na.call(t,e);if(!i&&!en(e)){if(e=pn(e),t=1==e.length?t:Ae(t,Ye(e,0,-1)),null==t)return!1;e=Fn(e),i=na.call(t,e)}return i||rn(t.length)&&Qi(e,t.length)&&(Io(t)||Or(t)||Gr(t))}function es(t,e,i){i&&tn(t,e,i)&&(e=T);for(var n=-1,r=Wo(t),s=r.length,a={};++n<s;){var o=r[n],h=t[o];e?na.call(a,h)?a[h].push(o):a[h]=[o]:a[h]=o}return a}function is(t){if(null==t)return[];Ar(t)||(t=Zs(t));var e=t.length,i=g.support;e=e&&rn(e)&&(Io(t)||Or(t)||Gr(t))&&e||0;for(var n=t.constructor,r=-1,s=Ir(n)&&n.prototype||ta,a=s===t,o=Hs(e),h=e>0,l=i.enumErrorProps&&(t===Qs||t instanceof Gs),c=i.enumPrototypes&&Ir(t);++r<e;)o[r]=r+"";for(var _ in t)c&&"prototype"==_||l&&("message"==_||"name"==_)||h&&Qi(_,e)||"constructor"==_&&(a||!na.call(t,_))||o.push(_);if(i.nonEnumShadows&&t!==ta){var u=t===ea?tt:t===Qs?U:sa.call(t),f=Na[u]||Na[X];for(u==X&&(s=ta),e=Rt.length;e--;){_=Rt[e];var p=f[_];a&&p||(p?!na.call(t,_):t[_]===s[_])||o.push(_)}}return o}function ns(t){t=fn(t);for(var e=-1,i=Wo(t),n=i.length,r=Hs(n);++e<n;){var s=i[e];r[e]=[s,t[s]]}return r}function rs(t,e,i){var n=null==t?T:fn(t)[e];return n===T&&(null==t||en(e,t)||(e=pn(e),t=1==e.length?t:Ae(t,Ye(e,0,-1)),n=null==t?T:fn(t)[Fn(e)]),n=n===T?i:n),Ir(n)?n.call(t):n}function ss(t,e,i){if(null==t)return t;var n=e+"";e=null!=t[n]||en(e,t)?[n]:pn(e);for(var r=-1,s=e.length,a=s-1,o=t;null!=o&&++r<s;){var h=e[r];Ar(o)&&(r==a?o[h]=i:null==o[h]&&(o[h]=Qi(e[r+1])?[]:{})),o=o[h]}return t}function as(t,e,i,n){var r=Io(t)||jr(t);if(e=Hi(e,n,4),null==i)if(r||Ar(t)){var s=t.constructor;i=r?Io(t)?new s:[]:Ma(Ir(s)?s.prototype:T)}else i={};return(r?se:Be)(t,function(t,n,r){return e(i,t,n,r)}),i}function os(t){return ii(t,Wo(t))}function hs(t){return ii(t,is(t))}function ls(t,e,i){return e=+e||0,i===T?(i=e,e=0):i=+i||0,t>=Ea(e,i)&&t<Ca(e,i)}function cs(t,e,i){i&&tn(t,e,i)&&(e=i=T);var n=null==t,r=null==e;if(null==i&&(r&&"boolean"==typeof t?(i=t,t=1):"boolean"==typeof e&&(i=e,r=!0)),n&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,i||t%1||e%1){var s=Fa();return Ea(t+s*(e-t+ca("1e-"+((s+"").length-1))),e)}return Ze(t,e)}function _s(t){return t=s(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function us(t){return t=s(t),t&&t.replace(kt,c).replace(Ot,"")}function fs(t,e,i){t=s(t),e+="";var n=t.length;return i=i===T?n:Ea(0>i?0:+i||0,n),i-=e.length,i>=0&&t.indexOf(e,i)==i}function ps(t){return t=s(t),t&&mt.test(t)?t.replace(gt,_):t}function ds(t){return t=s(t),t&&xt.test(t)?t.replace(Et,u):t||"(?:)"}function gs(t,e,i){t=s(t),e=+e;var n=t.length;if(n>=e||!ya(e))return t;var r=(e-n)/2,a=$a(r),o=ma(r);return i=ki("",o,i),i.slice(0,a)+t+i}function vs(t,e,i){return(i?tn(t,e,i):null==e)?e=0:e&&(e=+e),t=ws(t),Oa(t,e||(St.test(t)?16:10))}function ms(t,e){var i="";if(t=s(t),e=+e,1>e||!t||!ya(e))return i;do e%2&&(i+=t),e=$a(e/2),t+=t;while(e);return i}function bs(t,e,i){return t=s(t),i=null==i?0:Ea(0>i?0:+i||0,t.length),t.lastIndexOf(e,i)==i}function $s(t,e,i){var n=g.templateSettings;i&&tn(t,e,i)&&(e=i=T),t=s(t),e=me(be({},i||e),n,ve);var r,a,o=me(be({},e.imports),n.imports,ve),h=Wo(o),l=ii(o,h),c=0,_=e.interpolate||It,u="__p += '",p=qs((e.escape||It).source+"|"+_.source+"|"+(_===wt?Lt:It).source+"|"+(e.evaluate||It).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Mt+"]")+"\n";t.replace(p,function(e,i,n,s,o,h){return n||(n=s),u+=t.slice(c,h).replace(At,f),i&&(r=!0,u+="' +\n__e("+i+") +\n'"),o&&(a=!0,u+="';\n"+o+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=h+e.length,e}),u+="';\n";var v=e.variable;v||(u="with (obj) {\n"+u+"\n}\n"),u=(a?u.replace(ut,""):u).replace(ft,"$1").replace(pt,"$1;"),u="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var m=nh(function(){return js(h,d+"return "+u).apply(T,l)});if(m.source=u,Br(m))throw m;return m}function ws(t,e,i){var n=t;return(t=s(t))?(i?tn(n,e,i):null==e)?t.slice(b(t),$(t)+1):(e+="",t.slice(a(t,e),o(t,e)+1)):t}function ys(t,e,i){var n=t;return t=s(t),t?(i?tn(n,e,i):null==e)?t.slice(b(t)):t.slice(a(t,e+"")):t}function Ts(t,e,i){var n=t;return t=s(t),t?(i?tn(n,e,i):null==e)?t.slice(0,$(t)+1):t.slice(0,o(t,e+"")+1):t}function Cs(t,e,i){i&&tn(t,e,i)&&(e=T);var n=k,r=I;if(null!=e)if(Ar(e)){var a="separator"in e?e.separator:a;n="length"in e?+e.length||0:n,r="omission"in e?s(e.omission):r}else n=+e||0;if(t=s(t),n>=t.length)return t;var o=n-r.length;if(1>o)return r;var h=t.slice(0,o);if(null==a)return h+r;if(Kr(a)){if(t.slice(o).search(a)){var l,c,_=t.slice(0,o);for(a.global||(a=qs(a.source,(Dt.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(_);)c=l.index;h=h.slice(0,null==c?o:c)}}else if(t.indexOf(a,o)!=o){var u=h.lastIndexOf(a);u>-1&&(h=h.slice(0,u))}return h+r}function Es(t){return t=s(t),t&&vt.test(t)?t.replace(dt,w):t}function xs(t,e,i){return i&&tn(t,e,i)&&(e=T),t=s(t),t.match(e||zt)||[]}function Os(t,e,i){return i&&tn(t,e,i)&&(e=T),d(t)?Ds(t):ye(t,e)}function Fs(t){return function(){return t}}function Ls(t){return t}function Ds(t){return Ve(Te(t,!0))}function Ss(t,e){return He(t,Te(e,!0))}function Ps(t,e,i){if(null==i){var n=Ar(e),r=n?Wo(e):T,s=r&&r.length?Ie(e,r):T;(s?s.length:n)||(s=!1,i=e,e=t,t=this)}s||(s=Ie(e,Wo(e)));var a=!0,o=-1,h=Ir(t),l=s.length;i===!1?a=!1:Ar(i)&&"chain"in i&&(a=i.chain);for(;++o<l;){var c=s[o],_=e[c];t[c]=_,h&&(t.prototype[c]=function(e){return function(){var i=this.__chain__;if(a||i){var n=t(this.__wrapped__),r=n.__actions__=re(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),n.__chain__=i,n}return e.apply(t,_e([this.value()],arguments))}}(_))}return t}function Bs(){return te._=aa,this}function ks(){}function Is(t){return en(t)?je(t):We(t)}function As(t){return function(e){return Ae(t,pn(e),e+"")}}function zs(t,e,i){i&&tn(t,e,i)&&(e=i=T),t=+t||0,i=null==i?1:+i||0,null==e?(e=t,t=0):e=+e||0;for(var n=-1,r=Ca(ma((e-t)/(i||1)),0),s=Hs(r);++n<r;)s[n]=t,t+=i;return s}function Ns(t,e,i){if(t=$a(t),1>t||!ya(t))return[];var n=-1,r=Hs(Ea(t,Sa));for(e=oi(e,i,1);++n<t;)Sa>n?r[n]=e(n):e(n);return r}function Rs(t){var e=++ra;return s(t)+e}function Ms(t,e){return(+t||0)+(+e||0)}function Vs(t,e,i){return i&&tn(t,e,i)&&(e=T),e=Hi(e,i,3),1==e.length?de(Io(t)?t:un(t),e):ti(t,e)}i=i?ie.defaults(te.Object(),i,ie.pick(te,Nt)):te;var Hs=i.Array,Ks=i.Date,Gs=i.Error,js=i.Function,Ws=i.Math,Us=i.Number,Zs=i.Object,qs=i.RegExp,Ys=i.String,Xs=i.TypeError,Js=Hs.prototype,Qs=Gs.prototype,ta=Zs.prototype,ea=Ys.prototype,ia=js.prototype.toString,na=ta.hasOwnProperty,ra=0,sa=ta.toString,aa=te._,oa=qs("^"+ia.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ha=i.ArrayBuffer,la=i.clearTimeout,ca=i.parseFloat,_a=Ws.pow,ua=ta.propertyIsEnumerable,fa=Wi(i,"Set"),pa=i.setTimeout,da=Js.splice,ga=i.Uint8Array,va=Wi(i,"WeakMap"),ma=Ws.ceil,ba=Wi(Zs,"create"),$a=Ws.floor,wa=Wi(Hs,"isArray"),ya=i.isFinite,Ta=Wi(Zs,"keys"),Ca=Ws.max,Ea=Ws.min,xa=Wi(Ks,"now"),Oa=i.parseInt,Fa=Ws.random,La=Us.NEGATIVE_INFINITY,Da=Us.POSITIVE_INFINITY,Sa=4294967295,Pa=Sa-1,Ba=Sa>>>1,ka=9007199254740991,Ia=va&&new va,Aa={},za={};za[nt]=i.Float32Array,za[rt]=i.Float64Array,za[st]=i.Int8Array,za[at]=i.Int16Array,za[ot]=i.Int32Array,za[ht]=ga,za[lt]=i.Uint8ClampedArray,za[ct]=i.Uint16Array,za[_t]=i.Uint32Array;var Na={};Na[G]=Na[W]=Na[Y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Na[j]=Na[tt]={constructor:!0,toString:!0,valueOf:!0},Na[U]=Na[Z]=Na[J]={constructor:!0,toString:!0},Na[X]={constructor:!0},se(Rt,function(t){for(var e in Na)if(na.call(Na,e)){var i=Na[e];i[t]=na.call(i,t)}});var Ra=g.support={};!function(t){var e=function(){this.x=t},i={0:t,length:t},n=[];e.prototype={valueOf:t,y:t};for(var r in new e)n.push(r);Ra.enumErrorProps=ua.call(Qs,"message")||ua.call(Qs,"name"),Ra.enumPrototypes=ua.call(e,"prototype"),Ra.nonEnumShadows=!/valueOf/.test(n),Ra.ownLast="x"!=n[0],Ra.spliceObjects=(da.call(i,0,1),!i[0]),Ra.unindexedChars="x"[0]+Zs("x")[0]!="xx"}(1,0),g.templateSettings={escape:bt,evaluate:$t,interpolate:wt,variable:"",imports:{_:g}};var Ma=function(){function t(){}return function(e){if(Ar(e)){t.prototype=e;var i=new t;t.prototype=T}return i||{}}}(),Va=fi(Be),Ha=fi(ke,!0),Ka=pi(),Ga=pi(!0),ja=Ia?function(t,e){return Ia.set(t,e),t}:Ls,Wa=Ia?function(t){return Ia.get(t)}:ks,Ua=je("length"),Za=function(){var t=0,e=0;return function(i,n){var r=wo(),s=z-(r-e);if(e=r,s>0){if(++t>=A)return i}else t=0;return ja(i,n)}}(),qa=br(function(t,e){return d(t)&&Ji(t)?Ee(t,Se(e,!1,!0)):[]}),Ya=Ti(),Xa=Ti(!0),Ja=br(function(t){for(var e=t.length,i=e,r=Hs(_),s=Gi(),a=s===n,o=[];i--;){var h=t[i]=Ji(h=t[i])?h:[];r[i]=a&&h.length>=120?gi(i&&h):null}var l=t[0],c=-1,_=l?l.length:0,u=r[0];t:for(;++c<_;)if(h=l[c],(u?Jt(u,h):s(o,h,0))<0){for(var i=e;--i;){var f=r[i];if((f?Jt(f,h):s(t[i],h,0))<0)continue t}u&&u.push(h),o.push(h)}return o}),Qa=br(function(e,i){i=Se(i);var n=$e(e,i);return Ue(e,i.sort(t)),n}),to=zi(),eo=zi(!0),io=br(function(t){return ei(Se(t,!1,!0))}),no=br(function(t,e){return Ji(t)?Ee(t,e):[]}),ro=br(Rn),so=br(function(t){var e=t.length,i=e>2?t[e-2]:T,n=e>1?t[e-1]:T;return e>2&&"function"==typeof i?e-=2:(i=e>1&&"function"==typeof n?(--e,n):T,n=T),t.length=e,Mn(t,i,n)}),ao=br(function(t){return t=Se(t),this.thru(function(e){return ne(Io(e)?e:[fn(e)],t)})}),oo=br(function(t,e){return Ji(t)&&(t=un(t)),$e(t,Se(e))}),ho=_i(function(t,e,i){na.call(t,i)?++t[i]:t[i]=1}),lo=yi(Va),co=yi(Ha,!0),_o=xi(se,Va),uo=xi(ae,Ha),fo=_i(function(t,e,i){na.call(t,i)?t[i].push(e):t[i]=[e]}),po=_i(function(t,e,i){t[i]=e}),go=br(function(t,e,i){var n=-1,r="function"==typeof e,s=en(e),a=Ji(t)?Hs(t.length):[];return Va(t,function(t){var o=r?e:s&&null!=t?t[e]:T;a[++n]=o?o.apply(t,i):Xi(t,e,i)}),a}),vo=_i(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]}),mo=Pi(ue,Va),bo=Pi(fe,Ha),$o=br(function(t,e){if(null==t)return[];var i=e[2];return i&&tn(e[0],e[1],i)&&(e.length=1),Qe(t,Se(e),[])}),wo=xa||function(){return(new Ks).getTime()},yo=br(function(t,e,i){var n=E;if(i.length){var r=v(i,yo.placeholder);n|=D}return Ni(t,n,e,i,r)}),To=br(function(t,e){e=e.length?Se(e):Jr(t);for(var i=-1,n=e.length;++i<n;){var r=e[i];t[r]=Ni(t[r],E,t)}return t}),Co=br(function(t,e,i){var n=E|x;if(i.length){var r=v(i,Co.placeholder);n|=D}return Ni(e,n,t,i,r)}),Eo=bi(F),xo=bi(L),Oo=br(function(t,e){return Ce(t,1,e)}),Fo=br(function(t,e,i){return Ce(t,e,i)}),Lo=Ei(),Do=Ei(!0),So=br(function(t,e){if(e=Se(e),"function"!=typeof t||!oe(e,r))throw new Xs(V);var i=e.length;return br(function(n){for(var r=Ea(n.length,i);r--;)n[r]=e[r](n[r]);return t.apply(this,n)})}),Po=Si(D),Bo=Si(S),ko=br(function(t,e){return Ni(t,B,T,T,T,Se(e))}),Io=wa||function(t){return d(t)&&rn(t.length)&&sa.call(t)==G},Ao=ui(Ke),zo=ui(function(t,e,i){return i?me(t,e,i):be(t,e)}),No=$i(zo,ge),Ro=$i(Ao,on),Mo=Ci(Be),Vo=Ci(ke),Ho=Oi(Ka),Ko=Oi(Ga),Go=Fi(Be),jo=Fi(ke),Wo=Ta?function(t){var e=null==t?T:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?g.support.enumPrototypes:Ji(t))?_n(t):Ar(t)?Ta(t):[]}:_n,Uo=Li(!0),Zo=Li(),qo=br(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ce(Se(e),Ys);return hn(t,Ee(is(t),e))}var i=oi(e[0],e[1],3);return ln(t,function(t,e,n){return!i(t,e,n)})}),Yo=br(function(t,e){return null==t?{}:"function"==typeof e[0]?ln(t,oi(e[0],e[1],3)):hn(t,Se(e))}),Xo=vi(function(t,e,i){return e=e.toLowerCase(),t+(i?e.charAt(0).toUpperCase()+e.slice(1):e)}),Jo=vi(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),Qo=Di(),th=Di(!0),eh=vi(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}),ih=vi(function(t,e,i){return t+(i?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),nh=br(function(t,e){try{return t.apply(T,e)}catch(i){return Br(i)?i:new Gs(i)}}),rh=br(function(t,e){return function(i){return Xi(i,t,e)}}),sh=br(function(t,e){return function(i){return Xi(t,i,e)}}),ah=Ai("ceil"),oh=Ai("floor"),hh=wi(Er,La),lh=wi(Ur,Da),ch=Ai("round");return g.prototype=q.prototype,Q.prototype=Ma(q.prototype),Q.prototype.constructor=Q,et.prototype=Ma(q.prototype),et.prototype.constructor=et,Wt.prototype["delete"]=Ut,Wt.prototype.get=Zt,Wt.prototype.has=qt,Wt.prototype.set=Yt,Xt.prototype.push=Qt,gr.Cache=Wt,g.after=ur,g.ary=fr,g.assign=zo,g.at=oo,g.before=pr,g.bind=yo,g.bindAll=To,g.bindKey=Co,g.callback=Os,g.chain=Kn,g.chunk=gn,g.compact=vn,g.constant=Fs,g.countBy=ho,g.create=Xr,g.curry=Eo,g.curryRight=xo,g.debounce=dr,g.defaults=No,g.defaultsDeep=Ro,g.defer=Oo,g.delay=Fo,g.difference=qa,g.drop=mn,g.dropRight=bn,g.dropRightWhile=$n,g.dropWhile=wn,g.fill=yn,g.filter=Qn,g.flatten=Cn,g.flattenDeep=En,g.flow=Lo,g.flowRight=Do,g.forEach=_o,g.forEachRight=uo,g.forIn=Ho,g.forInRight=Ko,g.forOwn=Go,g.forOwnRight=jo,g.functions=Jr,g.groupBy=fo,g.indexBy=po,g.initial=On,g.intersection=Ja,g.invert=es,g.invoke=go,g.keys=Wo,g.keysIn=is,g.map=ir,g.mapKeys=Uo,g.mapValues=Zo,g.matches=Ds,g.matchesProperty=Ss,g.memoize=gr,g.merge=Ao,g.method=rh,g.methodOf=sh,g.mixin=Ps,g.modArgs=So,g.negate=vr,g.omit=qo,g.once=mr,g.pairs=ns,g.partial=Po,g.partialRight=Bo,g.partition=vo,g.pick=Yo,g.pluck=nr,g.property=Is,g.propertyOf=As,g.pull=Dn,g.pullAt=Qa,g.range=zs,g.rearg=ko,g.reject=rr,g.remove=Sn,g.rest=Pn,g.restParam=br,g.set=ss,g.shuffle=ar,g.slice=Bn,g.sortBy=lr,g.sortByAll=$o,g.sortByOrder=cr,g.spread=$r,g.take=kn,g.takeRight=In,g.takeRightWhile=An,g.takeWhile=zn,g.tap=Gn,g.throttle=wr,g.thru=jn,g.times=Ns,g.toArray=qr,g.toPlainObject=Yr,g.transform=as,g.union=io,g.uniq=Nn,g.unzip=Rn,g.unzipWith=Mn,g.values=os,g.valuesIn=hs,g.where=_r,g.without=no,g.wrap=yr,g.xor=Vn,g.zip=ro,g.zipObject=Hn,g.zipWith=so,g.backflow=Do,g.collect=ir,g.compose=Do,g.each=_o,g.eachRight=uo,g.extend=zo,g.iteratee=Os,g.methods=Jr,g.object=Hn,g.select=Qn,g.tail=Pn,g.unique=Nn,Ps(g,g),g.add=Ms,g.attempt=nh,g.camelCase=Xo,g.capitalize=_s,g.ceil=ah,g.clone=Tr,g.cloneDeep=Cr,g.deburr=us,g.endsWith=fs,g.escape=ps,g.escapeRegExp=ds,g.every=Jn,g.find=lo,g.findIndex=Ya,g.findKey=Mo,g.findLast=co,g.findLastIndex=Xa,g.findLastKey=Vo,g.findWhere=tr,g.first=Tn,g.floor=oh,g.get=Qr,g.gt=Er,g.gte=xr,g.has=ts,g.identity=Ls,g.includes=er,g.indexOf=xn,g.inRange=ls,g.isArguments=Or,g.isArray=Io,g.isBoolean=Fr,g.isDate=Lr,g.isElement=Dr,g.isEmpty=Sr,g.isEqual=Pr,g.isError=Br,g.isFinite=kr,g.isFunction=Ir,g.isMatch=zr,g.isNaN=Nr,g.isNative=Rr,g.isNull=Mr,g.isNumber=Vr,g.isObject=Ar,g.isPlainObject=Hr,g.isRegExp=Kr,g.isString=Gr,g.isTypedArray=jr,g.isUndefined=Wr,g.kebabCase=Jo,g.last=Fn,g.lastIndexOf=Ln,g.lt=Ur,g.lte=Zr,g.max=hh,g.min=lh,g.noConflict=Bs,g.noop=ks,g.now=wo,g.pad=gs,g.padLeft=Qo,g.padRight=th,g.parseInt=vs,g.random=cs,g.reduce=mo,g.reduceRight=bo,g.repeat=ms,g.result=rs,g.round=ch,g.runInContext=y,g.size=or,g.snakeCase=eh,g.some=hr,g.sortedIndex=to,g.sortedLastIndex=eo,g.startCase=ih,g.startsWith=bs,g.sum=Vs,g.template=$s,g.trim=ws,g.trimLeft=ys,g.trimRight=Ts,g.trunc=Cs,g.unescape=Es,g.uniqueId=Rs,g.words=xs,g.all=Jn,g.any=hr,g.contains=er,g.eq=Pr,g.detect=lo,g.foldl=mo,g.foldr=bo,g.head=Tn,g.include=er,g.inject=mo,Ps(g,function(){var t={};return Be(g,function(e,i){g.prototype[i]||(t[i]=e)}),t}(),!1),g.sample=sr,g.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return sr(e,t)}):sr(this.value())},g.VERSION=C,se(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){g[t].placeholder=g}),se(["drop","take"],function(t,e){et.prototype[t]=function(i){var n=this.__filtered__;if(n&&!e)return new et(this);i=null==i?1:Ca($a(i)||0,0);var r=this.clone();return n?r.__takeCount__=Ea(r.__takeCount__,i):r.__views__.push({size:i,type:t+(r.__dir__<0?"Right":"")}),r},et.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),se(["filter","map","takeWhile"],function(t,e){var i=e+1,n=i!=M;et.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Hi(t,e,1),type:i}),r.__filtered__=r.__filtered__||n,r}}),se(["first","last"],function(t,e){var i="take"+(e?"Right":"");et.prototype[t]=function(){return this[i](1).value()[0]}}),se(["initial","rest"],function(t,e){var i="drop"+(e?"":"Right");et.prototype[t]=function(){return this.__filtered__?new et(this):this[i](1)}}),se(["pluck","where"],function(t,e){var i=e?"filter":"map",n=e?Ve:Is;et.prototype[t]=function(t){return this[i](n(t))}}),et.prototype.compact=function(){return this.filter(Ls)},et.prototype.reject=function(t,e){return t=Hi(t,e,1),this.filter(function(e){return!t(e)})},et.prototype.slice=function(t,e){t=null==t?0:+t||0;var i=this;return i.__filtered__&&(t>0||0>e)?new et(i):(0>t?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==T&&(e=+e||0,i=0>e?i.dropRight(-e):i.take(e-t)),i)},et.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},et.prototype.toArray=function(){return this.take(Da)},Be(et.prototype,function(t,e){var i=/^(?:filter|map|reject)|While$/.test(e),n=/^(?:first|last)$/.test(e),r=g[n?"take"+("last"==e?"Right":""):e];r&&(g.prototype[e]=function(){var e=n?[1]:arguments,s=this.__chain__,a=this.__wrapped__,o=!!this.__actions__.length,h=a instanceof et,l=e[0],c=h||Io(a);c&&i&&"function"==typeof l&&1!=l.length&&(h=c=!1);var _=function(t){return n&&s?r(t,1)[0]:r.apply(T,_e([t],e))},u={func:jn,args:[_],thisArg:T},f=h&&!o;if(n&&!s)return f?(a=a.clone(),a.__actions__.push(u),t.call(a)):r.call(T,this.value())[0];if(!n&&c){a=f?a:new et(this);var p=t.apply(a,e);return p.__actions__.push(u),new Q(p,s)}return this.thru(_)})}),se(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?ea:Js)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=!Ra.spliceObjects&&/^(?:pop|shift|splice)$/.test(t),r=/^(?:join|pop|replace|shift)$/.test(t),s=n?function(){var t=e.apply(this,arguments);return 0===this.length&&delete this[0],t}:e;g.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?s.apply(this.value(),t):this[i](function(e){return s.apply(e,t)})}}),Be(et.prototype,function(t,e){var i=g[e];if(i){var n=i.name+"",r=Aa[n]||(Aa[n]=[]);r.push({name:e,func:i})}}),Aa[Bi(T,x).name]=[{name:"wrapper",func:T}],et.prototype.clone=Kt,et.prototype.reverse=Gt,et.prototype.value=jt,g.prototype.chain=Wn,g.prototype.commit=Un,g.prototype.concat=ao,g.prototype.plant=Zn,g.prototype.reverse=qn,g.prototype.toString=Yn,g.prototype.run=g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Xn,g.prototype.collect=g.prototype.map,g.prototype.head=g.prototype.first,g.prototype.select=g.prototype.filter,g.prototype.tail=g.prototype.rest,g}var T,C="3.10.1",E=1,x=2,O=4,F=8,L=16,D=32,S=64,P=128,B=256,k=30,I="...",A=150,z=16,N=200,R=1,M=2,V="Expected a function",H="__lodash_placeholder__",K="[object Arguments]",G="[object Array]",j="[object Boolean]",W="[object Date]",U="[object Error]",Z="[object Function]",q="[object Map]",Y="[object Number]",X="[object Object]",J="[object RegExp]",Q="[object Set]",tt="[object String]",et="[object WeakMap]",it="[object ArrayBuffer]",nt="[object Float32Array]",rt="[object Float64Array]",st="[object Int8Array]",at="[object Int16Array]",ot="[object Int32Array]",ht="[object Uint8Array]",lt="[object Uint8ClampedArray]",ct="[object Uint16Array]",_t="[object Uint32Array]",ut=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39|#96);/g,gt=/[&<>"'`]/g,vt=RegExp(dt.source),mt=RegExp(gt.source),bt=/<%-([\s\S]+?)%>/g,$t=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Et=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,xt=RegExp(Et.source),Ot=/[\u0300-\u036f\ufe20-\ufe23]/g,Ft=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,St=/^0[xX]/,Pt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,kt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,It=/($^)/,At=/['\n\r\u2028\u2029\\]/g,zt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Nt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Rt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Mt=-1,Vt={};Vt[nt]=Vt[rt]=Vt[st]=Vt[at]=Vt[ot]=Vt[ht]=Vt[lt]=Vt[ct]=Vt[_t]=!0,Vt[K]=Vt[G]=Vt[it]=Vt[j]=Vt[W]=Vt[U]=Vt[Z]=Vt[q]=Vt[Y]=Vt[X]=Vt[J]=Vt[Q]=Vt[tt]=Vt[et]=!1;var Ht={};Ht[K]=Ht[G]=Ht[it]=Ht[j]=Ht[W]=Ht[nt]=Ht[rt]=Ht[st]=Ht[at]=Ht[ot]=Ht[Y]=Ht[X]=Ht[J]=Ht[tt]=Ht[ht]=Ht[lt]=Ht[ct]=Ht[_t]=!0,Ht[U]=Ht[Z]=Ht[q]=Ht[Q]=Ht[et]=!1;var Kt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},jt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Wt={"function":!0,object:!0},Ut={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qt=Wt[typeof exports]&&exports&&!exports.nodeType&&exports,Yt=Wt[typeof module]&&module&&!module.nodeType&&module,Xt=qt&&Yt&&"object"==typeof global&&global&&global.Object&&global,Jt=Wt[typeof self]&&self&&self.Object&&self,Qt=Wt[typeof window]&&window&&window.Object&&window,te=Xt||Qt!==(this&&this.window)&&Qt||Jt||this,ee=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),ie=y();"function"==typeof i&&"object"==typeof i.amd&&i.amd&&i("lodash/main",[],function(){return ie})}.call(this),i("lodash",["lodash/main"],function(t){return t}),i("wcDocker/docker",["dcl/dcl","./types","./panel","./ghost","./splitter","./frame","./collapser","./layoutsimple","./layouttable","./tabframe","./drawer","./base","lodash"],function(t,e,i,n,r,s,a,o,h,l,c,_,u){var f={wcPanel:i,wcGhost:n,wcSplitter:r,wcFrame:s,wcCollapser:a,wcLayoutSimple:o,wcLayoutTable:h,wcDrawer:c,wcTabFrame:l},p=t(_,{declaredClass:"wcDocker",constructor:function(t,e){
this.$outer=$(t),this.$container=$('<div class="wcDocker">'),this.$transition=$('<div class="wcDockerTransition">'),this.$loading=null,this.$outer.append(this.$container),this.$container.append(this.$transition),this._canOrientTabs=!0,this._events={},this._root=null,this._frameList=[],this._floatingList=[],this._modalList=[],this._persistentList=[],this._focusFrame=null,this._placeholderPanel=null,this._contextTimer=0,this._dirty=!1,this._dirtyDontMove=!1,this._splitterList=[],this._tabList=[],this._collapser={},this._dockPanelTypeList=[],this._creatingPanel=!1,this._draggingSplitter=null,this._draggingFrame=null,this._draggingFrameSizer=null,this._draggingFrameTab=null,this._draggingFrameTopper=!1,this._draggingCustomTabFrame=null,this._ghost=null,this._menuTimer=0,this._mouseOrigin={x:0,y:0},this._resizeData={time:-1,timeout:!1,delta:150};var i={themePath:"Themes",theme:"default",loadingClass:"fa fa-spinner fa-pulse",allowContextMenu:!0,hideOnResize:!1,allowCollapse:!0,responseRate:10,moveStartDelay:300,edgeAnchorSize:50,panelAnchorSize:"15%",detachToWidth:"50%",detachToHeight:"50%"};this._options={};for(var n in f)i[n+"Class"]=f[n];for(var n in i)this._options[n]=i[n];for(var n in e)this._options[n]=e[n];this.__init()},themePath:function(t){return void 0!==t&&(this._options.themePath=t),this._options.themePath},theme:function(t){if(void 0!==t){var e=$("#wcTheme"),i=(new Date).getTime(),n=t.indexOf(".css");n>-1&&(t=t.substring(0,n));var r=$('<link id="wcTheme" rel="stylesheet" type="text/css" href="'+this._options.themePath+"/"+t+".css?v="+i+'"/>');this._options.theme=t;var s=this;r[0].onload=function(){e.remove(),s.__update()},$("head").append(r)}return this._options.theme},isCollapseEnabled:function(){return this._canOrientTabs&&this._options.allowCollapse},registerPanelType:function(t,e,i){var n=e;"function"==typeof n&&(n={onCreate:e},console.log("WARNING: Passing in the creation function directly to wcDocker.registerPanelType parameter 2 is now deprecated and will be removed in the next version!  Please use the preferred options object instead.")),"undefined"!=typeof i&&(n.isPrivate=i,console.log("WARNING: Passing in the isPrivate flag to wcDocker.registerPanelType parameter 3 is now deprecated and will be removed in the next version!  Please use the preferred options object instead.")),$.isEmptyObject(n)&&(n=null);for(var r=0;r<this._dockPanelTypeList.length;++r)if(this._dockPanelTypeList[r].name===t)return!1;this._dockPanelTypeList.push({name:t,options:n});var s=$("menu").find("menu");return s.append($('<menuitem label="'+t+'">')),!0},panelTypes:function(t){for(var e=[],i=0;i<this._dockPanelTypeList.length;++i)(t||!this._dockPanelTypeList[i].options.isPrivate)&&e.push(this._dockPanelTypeList[i].name);return e},panelTypeInfo:function(t){for(var e=0;e<this._dockPanelTypeList.length;++e)if(this._dockPanelTypeList[e].name==t)return this._dockPanelTypeList[e].options;return!1},addPanel:function(t,i,n,r){function s(t){i===e.DOCK.STACKED?this.__addPanelGrouped(t,n,r):this.__addPanelAlone(t,i,n,r),this._placeholderPanel&&t.moveable()&&i!==e.DOCK.FLOAT&&i!==e.DOCK.MODAL&&this.removePanel(this._placeholderPanel)&&(this._placeholderPanel=null),this.__forceUpdate()}for(var a=0;a<this._persistentList.length;++a)if(this._persistentList[a]._type===t){var o=this._persistentList.splice(a,1)[0];return s.call(this,o),o.__trigger(e.EVENT.PERSISTENT_OPENED),o}for(var h=0;h<this._dockPanelTypeList.length;++h)if(this._dockPanelTypeList[h].name===t){var l=this._dockPanelTypeList[h],o=new(this.__getClass("wcPanel"))(this,t,l.options);o.__container(this.$transition);var c=l.options&&l.options.options||{};return o._panelObject=new l.options.onCreate(o,c),s.call(this,o),o}return!1},removePanel:function(t,i){if(!t)return!1;var n=this.__isLastPanel(t),r=t._parent;if(r&&r.instanceOf("wcFrame")){for(var s=t.__trigger(e.EVENT.CLOSING),a=0;a<s.length;++a)if(!s[a])return!1;if(i?(t.__container(this.$transition),t._parent=null):t.__trigger(e.EVENT.CLOSED),!r.removePanel(t)&&!r.isCollapser()){if(n)return this.__addPlaceholder(r,this._options.placeholderHtml),i?t.__trigger(e.EVENT.PERSISTENT_CLOSED):t.__destroy(),!0;var o=this._floatingList.indexOf(r);-1!==o&&this._floatingList.splice(o,1),o=this._frameList.indexOf(r),-1!==o&&this._frameList.splice(o,1),o=this._modalList.indexOf(r),-1!==o&&this._modalList.splice(o,1),this._modalList.length?this.__focus(this._modalList[this._modalList.length-1]):this._floatingList.length&&this.__focus(this._floatingList[this._floatingList.length-1]);var h=r._parent;if(h&&h.instanceOf("wcSplitter")){h.__removeChild(r);var l;h.pane(0)?(l=h.pane(0),h._pane[0]=null):(l=h.pane(1),h._pane[1]=null),l.__container(this.$transition),l._parent=null,o=this._splitterList.indexOf(h),-1!==o&&this._splitterList.splice(o,1);var c=h._parent;parentContainer=h.__container(),h.__destroy(),c&&c.instanceOf("wcSplitter")?(c.__removeChild(h),c.pane(0)?c.pane(1,l):c.pane(0,l)):c===this&&(this._root=l,l._parent=this,l.__container(parentContainer)),this.__update()}else r===this._root&&(this._root=null);this._focusFrame===r&&(this._focusFrame=null),r.__destroy()}return i?t.__trigger(e.EVENT.PERSISTENT_CLOSED):t.__destroy(),!0}return!1},movePanel:function(t,i,n,r){var s=this.__isLastPanel(t),a=t.$container;t._parent&&t._parent.instanceOf("wcFrame")&&(a=t._parent.$frame);var o=a.offset(),h=a.width(),l=a.height(),c=t._parent,_=!1;if(c&&c.instanceOf("wcFrame")){_=c._isFloating;for(var u=0;u<c._panelList.length;++u)if(c._panelList[u]===t){c.isCollapser()?c._curTab=-1:c._curTab>=u&&c._curTab--,t.__container(this.$transition),t._parent=null,c._panelList.splice(u,1);break}if(!c.isCollapser()&&-1===c._curTab&&c._panelList.length&&(c._curTab=0),c.__updateTabs(),c.collapse(),!c.isCollapser()&&0===c._panelList.length)if(s)this.__addPlaceholder(c,this._options.placeholderHtml);else{var f=this._floatingList.indexOf(c);-1!==f&&this._floatingList.splice(f,1),f=this._frameList.indexOf(c),-1!==f&&this._frameList.splice(f,1);var p=c._parent;if(p&&p.instanceOf("wcSplitter")){p.__removeChild(c);var d;p.pane(0)?(d=p.pane(0),p._pane[0]=null):(d=p.pane(1),p._pane[1]=null),n===p&&(n._shift=d),d.__container(this.$transition),d._parent=null,f=this._splitterList.indexOf(p),-1!==f&&this._splitterList.splice(f,1);var g=p._parent;parentContainer=p.__container(),p.__destroy(),g&&g.instanceOf("wcSplitter")?(g.__removeChild(p),g.pane(0)?g.pane(1,d):g.pane(0,d)):g===this&&(this._root=d,d._parent=this,d.__container(parentContainer)),this.__update()}this._focusFrame===c&&(this._focusFrame=null),c.__destroy()}}t.initSize(h,l),i===e.DOCK.STACKED?this.__addPanelGrouped(t,n,r):this.__addPanelAlone(t,i,n,r),n==this._placeholderPanel&&(this.removePanel(this._placeholderPanel),this._placeholderPanel=null);var v=t._parent;return v&&v.instanceOf("wcFrame")&&1===v._panelList.length&&v.pos(o.left+h/2+20,o.top+l/2+20,!0),this.__update(!0),v&&v.instanceOf("wcFrame")&&_!==v._isFloating&&(v._isFloating?t.__trigger(e.EVENT.DETACHED):t.__trigger(e.EVENT.ATTACHED)),t.__trigger(e.EVENT.MOVED),t},findPanels:function(t){for(var e=[],i=0;i<this._frameList.length;++i)for(var n=this._frameList[i],r=0;r<n._panelList.length;++r){var s=n._panelList[r];t&&s._type!==t||e.push(s)}return e},startLoading:function(t,e,i){if(!this.$loading){this.$loading=$('<div class="wcLoadingContainer"></div>'),this.$outer.append(this.$loading);var n=$('<div class="wcLoadingBackground"></div>');"number"!=typeof e&&(e=.4),n.css("opacity",e),this.$loading.append(n);var r=$('<div class="wcLoadingIconContainer"><i class="wcLoadingIcon '+this._options.loadingClass+'"></i></div>');if(this.$loading.append(r),t){var s=$('<span class="wcLoadingLabel">'+t+"</span>");this.$loading.append(s)}"number"!=typeof i&&(i=1),r.css("opacity",i),s&&s.css("opacity",i)}},finishLoading:function(t){if(this.$loading)if(t>0){var e=this;this.$loading.fadeOut(t,function(){e.$loading.remove(),e.$loading=null})}else this.$loading.remove(),this.$loading=null},on:function(t,e){return t?(this._events[t]||(this._events[t]=[]),-1!==this._events[t].indexOf(e)?!1:(this._events[t].push(e),!0)):!1},off:function(t,e){if("undefined"==typeof t)this._events={};else if(this._events[t])if("undefined"==typeof e)this._events[t]=[];else for(var i=0;i<this._events[t].length;++i)if(this._events[t][i]===e){this._events[t].splice(i,1);break}},trigger:function(t,e){if(!t)return!1;for(var i=[],n=0;n<this._frameList.length;++n)for(var r=this._frameList[n],s=0;s<r._panelList.length;++s){var a=r._panelList[s];i=i.concat(a.__trigger(t,e))}return i.concat(this.__trigger(t,e))},basicMenu:function(t,e,i){console.log("WARNING: wcDocker.basicMenu is deprecated, please use wcDocker.menu instead."),this.menu(t,e,i)},menu:function(t,i,n){var r=this;$.contextMenu({selector:t,build:function(t,s){for(var a,o=r.__mouse(s),h=0;h<r._frameList.length;++h){var l=t.hasClass("wcFrame")&&t||t.parents(".wcFrame");if(r._frameList[h].$frame[0]===l[0]){a=r._frameList[h];break}}var c=!1;$(s.target).hasClass("wcTabScroller")&&(c=!0);for(var _={},h=0;h<r._dockPanelTypeList.length;++h){var u=r._dockPanelTypeList[h];if(!u.options.isPrivate){if(u.options.limit>0&&r.findPanels(u.name).length>=u.options.limit)continue;var f=null,p=null,d=u.name;u.options&&(u.options.faicon&&(p=u.options.faicon),u.options.icon&&(f=u.options.icon),u.options.title&&(d=u.options.title)),_[u.name]={name:d,icon:f,faicon:p,className:"wcMenuCreatePanel"}}}var g=0,v={},m=i;"function"==typeof i&&(m=i(t,s));for(var h=0;h<m.length;++h)if($.isEmptyObject(m[h]))v["sep"+g++]="---------";else{var b=m[h].callback;b&&!function(t,e){t.callback=function(t,i){var n=null,s=i.$trigger.parents(".wcFrame").first();if(s.length)for(var a=0;a<r._frameList.length;++a)s[0]===r._frameList[a].$frame[0]&&(n=r._frameList[a].panel());e(t,i,n)}}(m[h],b),v[m[h].name]=m[h]}var w={},y="";if(r.isCollapseEnabled()){var T=a.$collapse.children("div");y=T.hasClass("wcCollapseLeft")?" wcCollapseLeft":T.hasClass("wcCollapseRight")?" wcCollapseRight":" wcCollapseBottom",w[e.DOCK.LEFT]={name:e.DOCK.LEFT,faicon:"sign-in wcCollapseLeft wcCollapsible"},w[e.DOCK.RIGHT]={name:e.DOCK.RIGHT,faicon:"sign-in wcCollapseRight wcCollapsible"},w[e.DOCK.BOTTOM]={name:e.DOCK.BOTTOM,faicon:"sign-in wcCollapseBottom wcCollapsible"}}var C=v;if(n&&($.isEmptyObject(v)||(C["sep"+g++]="---------"),c?(C["Close Panel"]={name:"Remove Panel",faicon:"close",disabled:!a.panel().closeable()},r.isCollapseEnabled()&&(a.isCollapser()?C["Attach Panel"]={name:"Dock Panel",faicon:"sign-out"+y+" wcCollapsed",disabled:!a.panel().moveable()}:C.fold1={name:"Collapse Panel",faicon:"sign-in"+y+" wcCollapsible",items:w,disabled:!a.panel().moveable()}),!a._isFloating&&a.panel().detachable()&&(C["Detach Panel"]={name:"Detach Panel",faicon:"level-up",disabled:!a.panel().moveable()||!a.panel().detachable()||a.panel()._isPlaceholder}),C["sep"+g++]="---------",C.fold2={name:"Add Panel",faicon:"columns",items:_,disabled:!(a.panel()._titleVisible&&(!a._isFloating||-1===r._modalList.indexOf(a))),className:"wcMenuCreatePanel"}):(a&&(C["Close Panel"]={name:"Remove Panel",faicon:"close",disabled:!a.panel().closeable()},r.isCollapseEnabled()&&(a.isCollapser()?C["Attach Panel"]={name:"Dock Panel",faicon:"sign-out"+y+" wcCollapsed",disabled:!a.panel().moveable()}:C.fold1={name:"Collapse Panel",faicon:"sign-in"+y+" wcCollapsible",items:w,disabled:!a.panel().moveable()}),!a._isFloating&&a.panel().detachable()&&(C["Detach Panel"]={name:"Detach Panel",faicon:"level-up",disabled:!a.panel().moveable()||!a.panel().detachable()||a.panel()._isPlaceholder}),C["sep"+g++]="---------"),C.fold2={name:"Add Panel",faicon:"columns",items:_,disabled:!(!a||!a._isFloating&&a.panel().moveable()),className:"wcMenuCreatePanel"}),a&&!a._isFloating&&a.panel().moveable())){var E=a.__rect();r._ghost=new(r.__getClass("wcGhost"))(E,o,r),a.__checkAnchorDrop(o,!1,r._ghost,!0,!1,!1),r._ghost.$ghost.hide()}return{callback:function(t,i){if("Close Panel"===t)setTimeout(function(){a.panel().close()},10);else if("Detach Panel"===t)r.movePanel(a.panel(),e.DOCK.FLOAT,!1);else if("Attach Panel"===t){var n=a.$collapse.children("div"),s=e.DOCK.BOTTOM;n.hasClass("wcCollapseLeft")?s=e.DOCK.LEFT:n.hasClass("wcCollapseRight")&&(s=e.DOCK.RIGHT);var o={};switch(s){case e.DOCK.LEFT:o.w=a.$frame.width();break;case e.DOCK.RIGHT:o.w=a.$frame.width();break;case e.DOCK.BOTTOM:o.h=a.$frame.height()}var h=r._collapser[e.DOCK.LEFT]._parent.right();a.collapse(!0),r.movePanel(a.panel(),s,h,o)}else if(t===e.DOCK.LEFT)r.movePanel(a.panel(),e.DOCK.LEFT,e.COLLAPSED);else if(t===e.DOCK.RIGHT)r.movePanel(a.panel(),e.DOCK.RIGHT,e.COLLAPSED);else if(t===e.DOCK.BOTTOM)r.movePanel(a.panel(),e.DOCK.BOTTOM,e.COLLAPSED);else if(r._ghost&&a){var l=r._ghost.anchor(),h=a.panel();l.item&&(h=l.item._parent);var c=r.addPanel(t,l.loc,h,r._ghost.rect());c.focus()}},events:{show:function(t){!function(e){for(var i={},n=t.$menu.find(".context-menu-item"),r=0;r<n.length;++r){var s=$(n[r]),a=s.find("span");a.length&&(i[a[0].innerHTML]=s)}!function o(t){for(var e in t){var n=t[e],r=i[n.name];if(r){var s=$('<div class="wcMenuIcon">');if(r.prepend(s),n.icon&&s.addClass(n.icon),n.faicon&&s.addClass("fa fa-menu fa-"+n.faicon+" fa-lg fa-fw"),r.hasClass("context-menu-submenu")){var a=$('<div class="wcMenuSubMenu fa fa-caret-right fa-lg">');r.append(a)}}n.items&&o(n.items)}}(e)}(C)},hide:function(t){r._ghost&&(r._ghost.destroy(),r._ghost=!1)}},animation:{duration:250,show:"fadeIn",hide:"fadeOut"},reposition:!1,autoHide:!0,zIndex:200,items:C}}})},bypassMenu:function(){this._menuTimer&&clearTimeout(this._menuTimer);for(var t in $.contextMenu.menus){var e=$.contextMenu.menus[t].selector;$(e).contextMenu(!1)}var i=this;this._menuTimer=setTimeout(function(){for(var t in $.contextMenu.menus){var e=$.contextMenu.menus[t].selector;$(e).contextMenu(!0)}i._menuTimer=null},0)},save:function(){var t={};t.floating=[];for(var i=0;i<this._floatingList.length;++i)t.floating.push(this._floatingList[i].__save());return t.root=this._root.__save(),$.isEmptyObject(this._collapser)||(t.collapsers={left:this._collapser[e.DOCK.LEFT].__save(),right:this._collapser[e.DOCK.RIGHT].__save(),bottom:this._collapser[e.DOCK.BOTTOM].__save()}),JSON.stringify(t,function(t,e){return e==1/0?"Infinity":e})},restore:function(t){var i=JSON.parse(t,function(t,e){return"Infinity"===e?1/0:e});this.clear(),this._root=this.__create(i.root,this,this.$container),this._root.__restore(i.root,this);for(var n=0;n<i.floating.length;++n){var r=this.__create(i.floating[n],this,this.$container);r.__restore(i.floating[n],this)}if(this.__forceUpdate(!1),!$.isEmptyObject(i.collapsers)&&this.isCollapseEnabled()){this.__initCollapsers(),this._collapser[e.DOCK.LEFT].__restore(i.collapsers.left,this),this._collapser[e.DOCK.RIGHT].__restore(i.collapsers.right,this),this._collapser[e.DOCK.BOTTOM].__restore(i.collapsers.bottom,this);var s=this;setTimeout(function(){s.__forceUpdate()})}},clear:function(){this._root=null,this.trigger(e.EVENT.CLOSED);for(var t=0;t<this._splitterList.length;++t)this._splitterList[t].__destroy();for(var t=0;t<this._frameList.length;++t)this._frameList[t].__destroy();for($.isEmptyObject(this._collapser)||(this._collapser[e.DOCK.LEFT].__destroy(),this._collapser[e.DOCK.RIGHT].__destroy(),this._collapser[e.DOCK.BOTTOM].__destroy(),this._collapser={});this._frameList.length;)this._frameList.pop();for(;this._floatingList.length;)this._floatingList.pop();for(;this._splitterList.length;)this._splitterList.pop();this.off()},__init:function(){function t(t){var e=y.__mouse(t);y._mouseOrigin.x=e.x,y._mouseOrigin.y=e.y}function i(t){var i=y.__mouse(t);if(3===i.which)return!0;if($("body").removeClass("wcDisableSelection"),y._draggingFrame)for(var n=0;n<y._frameList.length;++n)y._frameList[n].__shadow(!1);if(y._ghost&&(y._draggingFrame||y._creatingPanel)){var r=y._ghost.anchor();if(y._draggingFrame)if(r){if(!r.self&&void 0!==r.loc)if(r.tab&&r.item._parent._parent==y._draggingFrame)y._draggingFrame.tabOrientation(r.tab);else{var s=0;y._draggingFrameTab?s=parseInt($(y._draggingFrameTab).attr("id")):y._draggingFrame.panel(0);var a;if(r.item&&(a=r.item._parent),y._draggingFrame._panelList.indexOf(a)>-1){if(1===y._draggingFrame._panelList.length)return;for(var n=0;n<y._draggingFrame._panelList.length;++n)if(a!==y._draggingFrame._panelList[n]){a=y._draggingFrame._panelList[n],s--;break}}var o=null;if(o=y._draggingFrameTab?y._draggingFrame.panel(parseInt($(y._draggingFrameTab).attr("id"))):y._draggingFrame.panel(),a=y.movePanel(o,r.loc,a,y._ghost.rect()),a._parent.panel(a._parent._panelList.length-1,!0),y._draggingFrameTab){var h=a._parent;h&&h.instanceOf("wcFrame")&&(s+=h._panelList.length)}else{var l=y._ghost.rect();l.tabOrientation||(l.tabOrientation=y._draggingFrame.tabOrientation());var c=y._draggingFrame._panelList.length;if(c>1||y._draggingFrame.panel()!==y._placeholderPanel)for(var n=0;c>n;++n)y.movePanel(y._draggingFrame.panel(),e.DOCK.STACKED,a,l)}var h=a._parent;h&&h.instanceOf("wcFrame")&&h.panel(s),y.__focus(h)}}else{y._draggingFrameTab||y._draggingFrame.panel(0);var a=y._draggingFrame.panel(parseInt($(y._draggingFrameTab).attr("id")));if(y.movePanel(a,e.DOCK.FLOAT,null,y._ghost.__rect()),!y._draggingFrameTab){var c=y._draggingFrame._panelList.length;if(c>1||y._draggingFrame.panel()!==y._placeholderPanel)for(var n=0;c>n;++n)y.movePanel(y._draggingFrame.panel(),e.DOCK.STACKED,a,{tabOrientation:y._draggingFrame._tabOrientation})}var h=a._parent;h&&h.instanceOf("wcFrame")&&(h.pos(i.x,i.y+y._ghost.__rect().h/2-10,!0),h._size.x=y._ghost.__rect().w,h._size.y=y._ghost.__rect().h),h.__update(),y.__focus(h)}else if(y._creatingPanel){var _=e.DOCK.FLOAT,u=null;r&&(_=r.loc,u=r.item?r.item._parent:r.panel),y.addPanel(y._creatingPanel,_,u,y._ghost.rect())}y._ghost.destroy(),y._ghost=null,y.trigger(e.EVENT.END_DOCK),y.__update()}return y._draggingSplitter&&(y._draggingSplitter.$pane[0].removeClass("wcResizing"),y._draggingSplitter.$pane[1].removeClass("wcResizing")),y._creatingPanel=!1,y._draggingSplitter=null,y._draggingFrame=null,y._draggingFrameSizer=null,y._draggingFrameTab=null,y._draggingFrameTopper=!1,y._draggingCustomTabFrame=null,y._removingPanel=null,!0}function n(t){C=t;var e=y.__mouse(t);if(!(3!==e.which&&(y._draggingSplitter||y._draggingFrameSizer||y._draggingCustomTabFrame||y._ghost||y._draggingFrame||y._draggingFrameTab)))return!0;var i=(new Date).getTime();if(i-T<y._options.responseRate)return E||(E=setTimeout(function(){T=0,E=0,n(C)},y._options.responseRate)),!0;if(T=(new Date).getTime(),y._draggingSplitter)y._draggingSplitter.__moveBar(e);else if(y._draggingFrameSizer){var r=y.$container.offset();e.x+=r.left,e.y+=r.top,y._draggingFrame.__resize(y._draggingFrameSizer,e),y._draggingFrame.__update()}else if(y._draggingCustomTabFrame){if(y._draggingCustomTabFrame.moveable()){var s=$(t.target).hasClass("wcPanelTab")?$(t.target):$(t.target).parents(".wcPanelTab");y._draggingFrameTab&&s&&s.length&&y._draggingFrameTab!==t.target&&(y._draggingFrameTab=y._draggingCustomTabFrame.moveTab(parseInt($(y._draggingFrameTab).attr("id")),parseInt(s.attr("id"))))}}else if(y._ghost)if(y._draggingFrame){y._ghost.__move(e);var a=!(y._draggingFrame._isFloating||1===e.which);if(y._draggingFrame.__checkAnchorDrop(e,!0,y._ghost,y._draggingFrame._panelList.length>1&&y._draggingFrameTab,y._draggingFrameTopper,!y.__isLastFrame(y._draggingFrame))){y._draggingFrame.__shadow(!1);var o=$(document.elementFromPoint(e.x,e.y)),s=o.hasClass("wcPanelTab")?o:o.parents(".wcPanelTab");y._draggingFrameTab&&s.length&&y._draggingFrameTab!==s[0]&&(y._draggingFrameTab=y._draggingFrame.__tabMove(parseInt($(y._draggingFrameTab).attr("id")),parseInt(s.attr("id"))))}else{if((new Date).getTime()-x<y._options.moveStartDelay)return;if(y._draggingFrame.__shadow(!0),y.__focus(),!a)for(var h=0;h<y._frameList.length;++h)if(y._frameList[h]!==y._draggingFrame&&y._frameList[h].__checkAnchorDrop(e,!1,y._ghost,!0,y._draggingFrameTopper,!y.__isLastFrame(y._draggingFrame)))return void y._draggingFrame.__shadow(!0);y._draggingFrame.panel().detachable()&&y._ghost.anchor(e,null)}}else y._creatingPanel&&y._ghost.update(e,!y._creatingPanelNoFloating);else y._draggingFrame&&!y._draggingFrameTab&&(y._draggingFrame.__move(e),y._draggingFrame.__update());return!0}function r(){return!1}function s(){y._ghost&&y._ghost.$ghost.stop().fadeIn(200)}function a(){y._ghost&&y._ghost.$ghost.stop().fadeOut(200)}function o(t){y._modalList.length&&y._modalList[y._modalList.length-1].__focus(!0)}function h(t){t.preventDefault(),t.returnValue=!1}function l(){$("body").addClass("wcDisableSelection")}function c(t){$("body").removeClass("wcDisableSelection");for(var e=0;e<y._tabList.length;++e){var i=y._tabList[e];if(i.$close[0]===this){var n=i.tab();return i.removeTab(n),void t.stopPropagation()}if(i.$tabLeft[0]===this)return i._tabScrollPos-=i.$tabBar.width()/2,i._tabScrollPos<0&&(i._tabScrollPos=0),i.__updateTabs(),void t.stopPropagation();if(i.$tabRight[0]===this)return i._tabScrollPos+=i.$tabBar.width()/2,i.__updateTabs(),void t.stopPropagation()}}function _(){$("body").removeClass("wcDisableSelection");for(var t=0;t<y._frameList.length;++t){var i=y._frameList[t];if(i.$close[0]===this)return void y.__closePanel(i.panel());if(i.$collapse[0]===this){var n=i.$collapse.children("div"),r=e.DOCK.BOTTOM;if(n.hasClass("wcCollapseLeft")?r=e.DOCK.LEFT:n.hasClass("wcCollapseRight")&&(r=e.DOCK.RIGHT),i.isCollapser()){var s={};switch(r){case e.DOCK.LEFT:s.w=i.$frame.width();break;case e.DOCK.RIGHT:s.w=i.$frame.width();break;case e.DOCK.BOTTOM:s.h=i.$frame.height()}var a=y._collapser[e.DOCK.LEFT]._parent.right();i.collapse(!0),y.movePanel(i.panel(),r,a,s)}else y.movePanel(i.panel(),r,e.COLLAPSED);return void y.__update()}if(i.$tabLeft[0]===this)return i._tabScrollPos-=i.$tabBar.width()/2,i._tabScrollPos<0&&(i._tabScrollPos=0),void i.__updateTabs();if(i.$tabRight[0]===this)return i._tabScrollPos+=i.$tabBar.width()/2,void i.__updateTabs();for(var o=0;o<i._buttonList.length;++o)if(i._buttonList[o][0]===this){var h=i._buttonList[o],l={name:h.data("name"),isToggled:!1};h.hasClass("wcFrameButtonToggler")&&(h.toggleClass("wcFrameButtonToggled"),h.hasClass("wcFrameButtonToggled")&&(l.isToggled=!0));var c=i.panel();return c.buttonState(l.name,l.isToggled),void c.__trigger(e.EVENT.BUTTON,l)}}}function u(t){var e=y.__mouse(t);if(2===e.which)for(var i=parseInt($(this).attr("id")),n=0;n<y._frameList.length;++n){var r=y._frameList[n];if(r.$tabBar[0]===$(this).parents(".wcFrameTitleBar")[0]){var s=r._panelList[i];return void(y._removingPanel===s&&(y.removePanel(s),y.__update()))}}}function f(t){var e=y.__mouse(t);if(1!==e.which)return!0;$("body").addClass("wcDisableSelection");for(var i=0;i<y._splitterList.length;++i)if(y._splitterList[i].$bar[0]===this){y._draggingSplitter=y._splitterList[i],y._draggingSplitter.$pane[0].addClass("wcResizing"),y._draggingSplitter.$pane[1].addClass("wcResizing"),t.preventDefault();break}return!0}function p(t){var i=y.__mouse(t);if(3===i.which)return!0;if($(t.target).hasClass("wcFrameButton")||$(t.target).parents(".wcFrameButton").length)return!0;x=(new Date).getTime(),$("body").addClass("wcDisableSelection");for(var n=0;n<y._frameList.length;++n)if(y._frameList[n].$titleBar[0]==this||y._frameList[n].$tabBar[0]==this){y._draggingFrame=y._frameList[n],y._draggingFrame.__anchorMove(i);var r=$(t.target).hasClass("wcPanelTab")?$(t.target):$(t.target).parents(".wcPanelTab");if(r&&r.length){var s=parseInt(r.attr("id"));y._draggingFrame.panel(s,!0),y._draggingFrameTab=r[0],$(window).focus()}var a=!0;if(y._draggingFrameTab?r.hasClass("wcNotMoveable")&&(a=!1):y._draggingFrame._isFloating&&1===i.which&&(a=!1),a){!y._draggingFrameTab&&y._draggingFrame.isCollapser()&&(y._draggingFrameTab=y._draggingFrame.panel()),y._draggingFrameTopper=$(t.target).parents(".wcFrameTopper").length>0;var o=y._draggingFrame.__rect();y._ghost=new(y.__getClass("wcGhost"))(o,i,y),y._draggingFrame.__checkAnchorDrop(i,!0,y._ghost,!0,y._draggingFrameTopper,!y.__isLastFrame(y._draggingFrame)),y.trigger(e.EVENT.BEGIN_DOCK)}break}for(var n=0;n<y._tabList.length;++n)if(y._tabList[n].$tabBar[0]==this){y._draggingCustomTabFrame=y._tabList[n];var r=$(t.target).hasClass("wcPanelTab")?$(t.target):$(t.target).parents(".wcPanelTab");if(r&&r.length){var s=parseInt(r.attr("id"));y._draggingCustomTabFrame.tab(s,!0),y._draggingFrameTab=r[0]}break}return y._draggingFrame&&y.__focus(y._draggingFrame),!0}function d(t){var e=y.__mouse(t);if(3===e.which)return!0;for(var i=0;i<y._frameList.length;++i)if(y._frameList[i].panel()&&y._frameList[i].panel().layout().scene()[0]==this){setTimeout(function(){y.__focus(y._frameList[i])},10);break}return!0}function g(t){var e=y.__mouse(t);if(3===e.which)return!0;$("body").addClass("wcDisableSelection");for(var i=0;i<y._frameList.length;++i)if(y._frameList[i]._isFloating){if(y._frameList[i].$top[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["top"];break}if(y._frameList[i].$bottom[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["bottom"];break}if(y._frameList[i].$left[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["left"];break}if(y._frameList[i].$right[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["right"];break}if(y._frameList[i].$corner1[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["top","left"];break}if(y._frameList[i].$corner2[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["top","right"];break}if(y._frameList[i].$corner3[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["bottom","right"];break}if(y._frameList[i].$corner4[0]==this){y._draggingFrame=y._frameList[i],y._draggingFrameSizer=["bottom","left"];break}}return y._draggingFrame&&y.__focus(y._draggingFrame),!0}function v(t){var i=y.__mouse(t);return 1!==i.which?!0:void(y.__timeout=setTimeout(function(){y.__timeout=null;var t=$(this).data("panel"),n=y.panelTypeInfo(t);if(n){var r={x:i.x-250,y:i.y,w:500,h:500};$("body").addClass("wcDisableSelection"),y._ghost=new(y.__getClass("wcGhost"))(r,i,y),y._ghost.update(i),y._ghost.anchor(i,y._ghost.anchor()),y._creatingPanel=t,y._creatingPanelNoFloating=!$(this).data("nofloating"),y.__focus(),y.trigger(e.EVENT.BEGIN_DOCK)}}.bind(this),200))}function m(t){return y.__timeout&&(clearTimeout(y.__timeout),y.__timeout=null),!0}function b(t){var e=y.__mouse(t);if(2!==e.which)return!0;for(var i=parseInt($(this).attr("id")),n=0;n<y._frameList.length;++n){var r=y._frameList[n];if(r.$tabBar[0]===$(this).parents(".wcFrameTitleBar")[0]){var s=r._panelList[i];return s&&s.closeable()&&(y._removingPanel=r._panelList[i]),!0}}return!0}function w(t){27==t.keyCode&&y._ghost&&(y._ghost.destroy(),y._ghost=!1,y.trigger(e.EVENT.END_DOCK),y._draggingFrame&&y._draggingFrame.__shadow(!1),y._creatingPanel=!1,y._draggingSplitter=null,y._draggingFrame=null,y._draggingFrameSizer=null,y._draggingFrameTab=null,y._draggingFrameTopper=!1,y._draggingCustomTabFrame=null,y._removingPanel=null)}var y=this;this.__compatibilityCheck(),this._root=null,this.__addPlaceholder(null,this._options.placeholderHtml),this._options.allowContextMenu&&this.menu(".wcFrame",[],!0),this.theme(this._options.theme),this._updateId=setInterval(function(){if(y._dirty){y._dirty=!1,y._root&&y._root.__update(y._dirtyDontMove);for(var t=0;t<y._floatingList.length;++t)y._floatingList[t].__update()}},this._options.responseRate),$(window).resize(this.__resize.bind(this)),$("body").on("contextmenu",".wcSplitterBar",r),$("body").on("mouseenter",".wcMenuCreatePanel",s),$("body").on("mouseleave",".wcMenuCreatePanel",a),$("body").on("mousemove",n),$("body").on("touchmove",n),$("body").on("mousedown",t),$("body").on("touchstart",t),$("body").on("mousedown",".wcModalBlocker",o),$("body").on("touchstart",".wcModalBlocker",o),$("body").on("mousedown",".wcPanelTab",h),$("body").on("touchstart",".wcPanelTab",h),$("body").on("mousedown",".wcFrameButtonBar > .wcFrameButton",l),$("body").on("touchstart",".wcFrameButtonBar > .wcFrameButton",l),$("body").on("mousedown",".wcFrameTitleBar",p),$("body").on("touchstart",".wcFrameTitleBar",p),$("body").on("mousedown",".wcSplitterBar",f),$("body").on("touchstart",".wcSplitterBar",f),$("body").on("mousedown",".wcPanelTab",b),$("body").on("touchstart",".wcPanelTab",b),$("body").on("mouseup",".wcPanelTab",u),$("body").on("touchend",".wcPanelTab",u),$("body").on("mousedown",".wcLayout",d),$("body").on("touchstart",".wcLayout",d),$("body").on("mousedown",".wcFrameEdge",g),$("body").on("touchstart",".wcFrameEdge",g),$("body").on("mousedown",".wcCreatePanel",v),$("body").on("touchstart",".wcCreatePanel",v),$("body").on("mouseup",".wcCreatePanel",m),$("body").on("touchend",".wcCreatePanel",m),$("body").on("mouseup",i),$("body").on("touchend",i),$("body").on("click",".wcCustomTab .wcFrameButton",c),$("body").on("click",".wcFrameButtonBar > .wcFrameButton",_),$("body").on("keyup",w);var T=(new Date).getTime(),C=null,E=0,x=0},__testLoadFinished:function(){for(var t=0;t<this._frameList.length;++t)for(var i=this._frameList[t],n=0;n<i._panelList.length;++n){var r=i._panelList[n];if(r._isVisible&&!r._initialized)return;if(r.$loading)return}var s=this;setTimeout(function(){s.trigger(e.EVENT.LOADED),s.off(e.EVENT.LOADED);for(var t=0;t<s._frameList.length;++t)for(var i=s._frameList[t],n=0;n<i._panelList.length;++n){var r=i._panelList[n];r.off(e.EVENT.LOADED)}},0)},__compatibilityCheck:function(){function t(){for(var t="transform WebkitTransform MozTransform OTransform msTransform".split(" "),e=document.createElement("div"),i=0;i<t.length;i++)if(e&&void 0!==e.style[t[i]])return!0;return!1}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return-1});var e=function(){for(var t=3,e=document.createElement("div"),i=e.getElementsByTagName("i");e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:void 0}();9>e?this._canOrientTabs=!1:this._canOrientTabs=t();var i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);$("body").addClass(i?"wcMobile":"wcDesktop")},__findInner:function(){function t(t){return!!(t&&t.instanceOf("wcFrame")&&t.panel()&&!t.panel().moveable()||t.instanceOf("wcCollapser"))}for(var e=this._root;e&&e.instanceOf("wcSplitter");){var i=t(e._pane[0]),n=t(e._pane[1]);if(i&&!n)e=e._pane[1];else if(n&&!i)e=e._pane[0];else if(!i&&!n)break}return e},__initCollapsers:function(){function t(t){this._collapser[t]=this.__addCollapser(t,i),i=this._collapser[t]._parent,this._frameList.push(this._collapser[t]._drawer._frame)}if(this.isCollapseEnabled()&&$.isEmptyObject(this._collapser)){var i=this.__findInner();t.call(this,e.DOCK.LEFT),t.call(this,e.DOCK.RIGHT),t.call(this,e.DOCK.BOTTOM);var n=this;setTimeout(function(){n.__update()})}},__update:function(t){this._dirty=!0,this._dirtyDontMove=t},__forceUpdate:function(t){this._dirty=!1,this._root&&this._root.__update(t);for(var e=0;e<this._floatingList.length;++e)this._floatingList[e].__update()},__orderPanels:function(){if(0!==this._floatingList.length){var t=this._floatingList.indexOf(this._focusFrame),i=this._floatingList.length-1;this._floatingList.splice(i,0,this._floatingList.splice(t,1)[0]);for(var n,r=(this._floatingList.length,10),s=5,a=0;a<this._floatingList.length;++a)if(n=this._floatingList[a]){var o=r+a*s;n.$frame.css("z-index",o),n.__trigger(e.EVENT.ORDER_CHANGED,o)}}},__mouse:function(t){if(t.originalEvent&&(t.originalEvent.touches||t.originalEvent.changedTouches)){var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];
return{x:e.clientX,y:e.clientY,which:1}}return{x:t.clientX||t.pageX,y:t.clientY||t.pageY,which:t.which||1}},__resize:function(t){this._resizeData.time=new Date,this._resizeData.timeout||(this._resizeData.timeout=!0,setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta),this.__trigger(e.EVENT.RESIZE_STARTED)),this.__trigger(e.EVENT.RESIZED),this.__update(!1)},__resizeEnd:function(){new Date-this._resizeData.time<this._resizeData.delta?setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta):(this._resizeData.timeout=!1,this.__trigger(e.EVENT.RESIZE_ENDED))},__focus:function(t,i){var n=this._focusFrame!=t;if(this._focusFrame){this._focusFrame._isFloating&&this._focusFrame.$frame.removeClass("wcFloatingFocus");var r=this._focusFrame;this._focusFrame=null,r.__trigger(e.EVENT.LOST_FOCUS),r.isCollapser()&&n&&(r.collapse(),r.panel(-1))}this._focusFrame=t,this._focusFrame&&(this._focusFrame._isFloating&&(this._focusFrame.$frame.addClass("wcFloatingFocus"),n&&$("body").append(this._focusFrame.$frame)),this._focusFrame.__focus(i),this._focusFrame.__trigger(e.EVENT.GAIN_FOCUS)),this.__orderPanels()},__trigger:function(t,e){if(t){var i=[];if(this._events[t])for(var n=this._events[t].slice(0),r=0;r<n.length;++r)i.push(n[r].call(this,e));return i}},__isLastPanel:function(t){for(var e=0;e<this._frameList.length;++e){var i=this._frameList[e];if(!i._isFloating&&!i.isCollapser())for(var n=0;n<i._panelList.length;++n){var r=i._panelList[n];if(r!==t&&r.moveable())return!1}}return!0},__isLastFrame:function(t){for(var e=0;e<this._frameList.length;++e){var i=this._frameList[e];if(!i._isFloating&&i!==t&&!i.isCollapser())for(var n=0;n<i._panelList.length;++n){var r=i._panelList[n];if(r.moveable())return!1}}return!0},__create:function(t,i,n){switch(t.type){case"wcSplitter":var r=new(this.__getClass("wcSplitter"))(n,i,t.horizontal);return r.scrollable(0,!1,!1),r.scrollable(1,!1,!1),r;case"wcFrame":var s=new(this.__getClass("wcFrame"))(n,i,t.floating);return this._frameList.push(s),t.floating&&this._floatingList.push(s),s;case"wcPanel":if(t.panelType===e.PANEL_PLACEHOLDER)return this._placeholderPanel||(this._placeholderPanel=new(this.__getClass("wcPanel"))(i,e.PANEL_PLACEHOLDER,{}),this._placeholderPanel._isPlaceholder=!0,this._placeholderPanel.__container(this.$transition),this._placeholderPanel._panelObject=new function(t){t.title(!1),t.closeable(!1),t.layout().addItem($('<div style="text-align: center;">'+i._parent._options.placeholderHtml+"</div>"))}(this._placeholderPanel),this._placeholderPanel.__container(n)),this._placeholderPanel;for(var a=0;a<this._dockPanelTypeList.length;++a)if(this._dockPanelTypeList[a].name===t.panelType){var o=new(this.__getClass("wcPanel"))(i,t.panelType,this._dockPanelTypeList[a].options);o.__container(this.$transition);var h=this._dockPanelTypeList[a].options&&this._dockPanelTypeList[a].options.options||{};o._panelObject=new this._dockPanelTypeList[a].options.onCreate(o,h),o.__container(n);break}return o}return null},__addPanelGrouped:function(t,i,n){var r=i;return r&&r.instanceOf("wcPanel")&&(r=i._parent),r&&r.instanceOf("wcFrame")?(n&&n.tabOrientation&&r.tabOrientation(n.tabOrientation),void r.addPanel(t)):void this.__addPanelAlone(t,e.DOCK.LEFT,i,n)},__addPanelAlone:function(t,i,n,r){if(n&&n._shift){var s=n;n=n._shift,s._shift=void 0}if(r){var a=this.$container.width(),o=this.$container.height();r.hasOwnProperty("x")&&(r.x=this.__stringToPixel(r.x,a)),r.hasOwnProperty("y")&&(r.y=this.__stringToPixel(r.y,o)),r.hasOwnProperty("w")||(r.w=t.initSize().x),r.hasOwnProperty("h")||(r.h=t.initSize().y),r.w=this.__stringToPixel(r.w,a),r.h=this.__stringToPixel(r.h,o),t._size.x=r.w,t._size.y=r.h}if(n===e.COLLAPSED){if(this.__initCollapsers(),this._collapser[i]){n=this._collapser[i]._drawer._frame.addPanel(t);var h=this;return setTimeout(function(){h.__update()}),t}return console.log('ERROR: Attempted to collapse panel "'+t._type+'" to invalid location: '+i),!1}if(i===e.DOCK.FLOAT||i===e.DOCK.MODAL){var l=new(this.__getClass("wcFrame"))(this.$container,this,!0);if(r&&r.tabOrientation&&l.tabOrientation(r.tabOrientation),this._frameList.push(l),this._floatingList.push(l),this.__focus(l),l.addPanel(t),l.pos(t._pos.x,t._pos.y,!1),i===e.DOCK.MODAL&&(l.$modalBlocker=$('<div class="wcModalBlocker"></div>'),l.$frame.prepend(l.$modalBlocker),t.moveable(!1),l.$frame.addClass("wcModal"),this._modalList.push(l)),r){var c=l.pos(void 0,void 0,!0);r.hasOwnProperty("x")&&(c.x=r.x+r.w/2),r.hasOwnProperty("y")&&(c.y=r.y+r.h/2),l.pos(c.x,c.y,!0),l._size={x:r.w,y:r.h}}return void this.__orderPanels()}if(n){for(var _=n._parent,u=n;_&&!_.instanceOf("wcSplitter")&&!_.instanceOf("wcDocker");)u=_,_=_._parent;if(_&&_.instanceOf("wcSplitter")){var f,p=_.pane(0),d=(_.pane(1),{x:-1,y:-1});if(p===u?(f=new(this.__getClass("wcSplitter"))(this.$transition,_,i!==e.DOCK.BOTTOM&&i!==e.DOCK.TOP),d.x=_.$pane[0].width(),d.y=_.$pane[0].height(),_.pane(0,f)):(f=new(this.__getClass("wcSplitter"))(this.$transition,_,i!==e.DOCK.BOTTOM&&i!==e.DOCK.TOP),d.x=_.$pane[1].width(),d.y=_.$pane[1].height(),_.pane(1,f)),f){if(f.scrollable(0,!1,!1),f.scrollable(1,!1,!1),r||(r={w:t._size.x,h:t._size.y}),r)switch(r.w<0&&(r.w=d.x/2),r.h<0&&(r.h=d.y/2),i){case e.DOCK.LEFT:f.pos(r.w/d.x);break;case e.DOCK.RIGHT:f.pos(1-r.w/d.x);break;case e.DOCK.TOP:f.pos(r.h/d.y);break;case e.DOCK.BOTTOM:f.pos(1-r.h/d.y)}else f.pos(.5);l=new(this.__getClass("wcFrame"))(this.$transition,f,!1),this._frameList.push(l),i===e.DOCK.LEFT||i===e.DOCK.TOP?(f.pane(0,l),f.pane(1,u)):(f.pane(0,u),f.pane(1,l)),l.addPanel(t)}return}}var g=this,v=this.$container,l=new(this.__getClass("wcFrame"))(this.$transition,g,!1);if(this._frameList.push(l),g._root){var f=new(this.__getClass("wcSplitter"))(v,g,i!==e.DOCK.BOTTOM&&i!==e.DOCK.TOP);if(f){l._parent=f,f.scrollable(0,!1,!1),f.scrollable(1,!1,!1);var d={x:v.width(),y:v.height()};if(r)switch(r.w<0&&(r.w=d.x/2),r.h<0&&(r.h=d.y/2),i){case e.DOCK.LEFT:f.pos(r.w/d.x);break;case e.DOCK.RIGHT:f.pos(1-r.w/d.x);break;case e.DOCK.TOP:f.pos(r.h/d.y);break;case e.DOCK.BOTTOM:f.pos(1-r.h/d.y)}else f.__findBestPos();i===e.DOCK.LEFT||i===e.DOCK.TOP?(f.pane(0,l),f.pane(1,g._root)):(f.pane(0,g._root),f.pane(1,l)),g._root=f}}else g._root=l,l.__container(v);l.addPanel(t)},__addCollapser:function(t,i){var n=null;if(i){for(var r=i._parent,s=i;r&&!r.instanceOf("wcSplitter")&&!r.instanceOf("wcDocker");)s=r,r=r._parent;var a=new(this.__getClass("wcSplitter"))(this.$transition,r,t!==e.DOCK.BOTTOM&&t!==e.DOCK.TOP);if(r&&r.instanceOf("wcDocker")&&(this._root=a,a.__container(this.$container)),r&&r.instanceOf("wcSplitter")){var o=r.left(),h=(r.right(),{x:-1,y:-1});o===s?(h.x=r.$pane[0].width(),h.y=r.$pane[0].height(),r.pane(0,a)):(a=new(this.__getClass("wcSplitter"))(this.$transition,r,t!==e.DOCK.BOTTOM&&t!==e.DOCK.TOP),h.x=r.$pane[1].width(),h.y=r.$pane[1].height(),r.pane(1,a))}if(a){switch(a.scrollable(0,!1,!1),a.scrollable(1,!1,!1),n=new(this.__getClass("wcCollapser"))(this.$transition,a,t),t){case e.DOCK.TOP:case e.DOCK.LEFT:a.pos(0);break;case e.DOCK.BOTTOM:case e.DOCK.RIGHT:a.pos(1)}t===e.DOCK.LEFT||t===e.DOCK.TOP?(a.pane(0,n),a.pane(1,s)):(a.pane(0,s),a.pane(1,n))}}return n},__addPlaceholder:function(t,i){this._placeholderPanel&&console.log("WARNING: wcDocker creating placeholder panel when one already exists"),this._placeholderPanel=new(this.__getClass("wcPanel"))(this,e.PANEL_PLACEHOLDER,{}),this._placeholderPanel._isPlaceholder=!0,this._placeholderPanel.__container(this.$transition),this._placeholderPanel._panelObject=new function(t){t.title(!1),t.closeable(!1),i&&t.layout().addItem($('<div style="text-align: center;">'+i+"</div>"))}(this._placeholderPanel),t?this.__addPanelGrouped(this._placeholderPanel,t):this.__addPanelAlone(this._placeholderPanel,e.DOCK.TOP),this.__update()},__closePanel:function(t){var e=!1,i=this.panelTypeInfo(t._type);i&&i.isPersistent&&(e=!0,this._persistentList.push(t)),this.removePanel(t,e),this.__update()},__stringToPercent:function(t,e){if("string"==typeof t){if(-1!==t.indexOf("%",t.length-1))return parseFloat(t)/100;if(-1!==t.indexOf("px",t.length-2))return parseFloat(t)/e}return parseFloat(t)},__stringToPixel:function(t,e){if("string"==typeof t){if(-1!==t.indexOf("%",t.length-1))return parseFloat(t)/100*e;if(-1!==t.indexOf("px",t.length-2))return parseFloat(t)}return parseFloat(t)}});for(var d in e)p[d]=e[d];return p.defaultClasses=f,p}),i("wcDocker/iframe",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcIFrame",constructor:function(t,e){this._panel=e,this._layout=e.layout(),this.$container=$(t),this.$frame=null,this.$focus=null,this.$iFrame=null,this._window=null,this._isDocking=!1,this._isHovering=!1,this._boundEvents=[],this._onLoadFuncs=[],this._onClosedFuncs=[],this.__init()},openURL:function(t){this.__clearFrame(),this.$iFrame=$("<iframe>iFrames not supported on your device!</iframe>"),this.$frame.prepend(this.$iFrame),this.__onMoved(),this._window=this.$iFrame[0].contentWindow||this.$iFrame[0],this.__updateFrame(),this._window.location.replace(t),this.$iFrame[0].focus(),this.$iFrame.hover(this.__onHoverEnter.bind(this),this.__onHoverExit.bind(this));var e=this;this.$iFrame.load(function(){for(var t=0;t<e._onLoadFuncs.length;++t)e._onLoadFuncs[t]();e._onLoadFuncs=[]})},openHTML:function(t){this.__clearFrame(),this.$iFrame=$("<iframe>iFrames not supported on your device!</iframe>"),this.$frame.prepend(this.$iFrame),this.__onMoved(),this._window=this.$iFrame[0].contentWindow||this.$iFrame[0],this.__updateFrame(),this._window.document.open(),this._window.document.write(t),this._window.document.close(),this.$iFrame[0].focus(),this.$iFrame.hover(this.__onHoverEnter.bind(this),this.__onHoverExit.bind(this));var e=this;this.$iFrame.load(function(){for(var t=0;t<e._onLoadFuncs.length;++t)e._onLoadFuncs[t]();e._onLoadFuncs=[]})},openSRC:function(t){this.__clearFrame(),this.$iFrame=$("<iframe>iFrames not supported on your device!</iframe>"),this.$frame.prepend(this.$iFrame),this.__onMoved(),this._window=this.$iFrame[0].contentWindow||this.$iFrame[0],this.__updateFrame(),this.$iFrame[0].srcdoc=t,this.$iFrame[0].focus(),this.$iFrame.hover(this.__onHoverEnter.bind(this),this.__onHoverExit.bind(this));var e=this;this.$iFrame.load(function(){for(var t=0;t<e._onLoadFuncs.length;++t)e._onLoadFuncs[t]();e._onLoadFuncs=[]})},onLoaded:function(t){this._onLoadFuncs.push(t)},onClosed:function(t){this._onClosedFuncs.push(t)},show:function(){this.$frame&&this.$frame.removeClass("wcIFrameHidden")},hide:function(){this.$frame&&this.$frame.addClass("wcIFrameHidden")},window:function(){return this._window},destroy:function(){for(;this._boundEvents.length;)this._panel.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this.__clearFrame(),this._panel=null,this._layout=null,this.$container=null,this.$frame.remove(),this.$frame=null,this.$focus=null},__init:function(){this.$frame=$('<div class="wcIFrame">'),this.$focus=$('<div class="wcIFrameFocus">'),this._panel.docker().$container.append(this.$frame),this.$frame.append(this.$focus),this._boundEvents.push({event:e.EVENT.VISIBILITY_CHANGED,handler:this.__onVisibilityChanged.bind(this)}),this._boundEvents.push({event:e.EVENT.BEGIN_DOCK,handler:this.__onBeginDock.bind(this)}),this._boundEvents.push({event:e.EVENT.END_DOCK,handler:this.__onEndDock.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVE_STARTED,handler:this.__onMoveStarted.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZE_STARTED,handler:this.__onMoveStarted.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVE_ENDED,handler:this.__onMoveFinished.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZE_ENDED,handler:this.__onMoveFinished.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVED,handler:this.__onMoved.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZED,handler:this.__onMoved.bind(this)}),this._boundEvents.push({event:e.EVENT.ATTACHED,handler:this.__onAttached.bind(this)}),this._boundEvents.push({event:e.EVENT.DETACHED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.GAIN_FOCUS,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.LOST_FOCUS,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.PERSISTENT_OPENED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.PERSISTENT_CLOSED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.__onClosed.bind(this)}),this._boundEvents.push({event:e.EVENT.ORDER_CHANGED,handler:this.__onOrderChanged.bind(this)});for(var t=0;t<this._boundEvents.length;++t)this._panel.on(this._boundEvents[t].event,this._boundEvents[t].handler);$(window).blur(this.__onBlur.bind(this))},__clearFrame:function(){if(this.$iFrame){for(var t=0;t<this._onClosedFuncs.length;++t)this._onClosedFuncs[t]();this._onClosedFuncs=[],this.$iFrame[0].srcdoc="",this.$iFrame.remove(),this.$iFrame=null,this._window=null}},__updateFrame:function(){if(this.$frame&&this._panel){var t=this._panel.isFloating();this.$frame.toggleClass("wcIFrameFloating",t),t?this.$frame.toggleClass("wcIFrameFloatingFocus",focus):this.$frame.removeClass("wcIFrameFloatingFocus"),this.$frame.toggleClass("wcIFramePanelHidden",!this._panel.isVisible()),this._panel&&this._panel._parent&&this._panel._parent.instanceOf("wcFrame")&&this.$frame.toggleClass("wcDrawer",this._panel._parent.isCollapser())}},__focusFix:function(){this.$frame.css("left",parseInt(this.$frame.css("left"))+1),this.$frame.css("left",parseInt(this.$frame.css("left"))-1)},__onHoverEnter:function(){this._isHovering=!0},__onHoverExit:function(){this._isHovering=!1},__onBlur:function(){this._isHovering&&this.__onFocus()},__onFocus:function(){this._panel&&this.docker(this._panel).__focus(this._panel._parent)},__onVisibilityChanged:function(){this.__updateFrame(),this._panel.isVisible()&&this.__onMoved()},__onBeginDock:function(){this.$frame&&(this._isDocking=!0,this.$frame.addClass("wcIFrameMoving"))},__onEndDock:function(){this.$frame&&(this._isDocking=!1,this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onAttached:function(){this.$frame.css("z-index",""),this.__updateFrame()},__onMoveStarted:function(){this.$frame&&!this._isDocking&&this.$frame.addClass("wcIFrameMoving")},__onMoveFinished:function(){this.$frame&&!this._isDocking&&(this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onMoved:function(){if(this.$frame&&this._panel){var t=this.docker(this._panel);if(t){var e=t.$container.offset(),i=this.$container.offset(),n=this.$container.width(),r=this.$container.height();this.$frame.css("top",i.top-e.top),this.$frame.css("left",i.left-e.left),this.$frame.css("width",n),this.$frame.css("height",r)}else console.error("have no docker")}},__onOrderChanged:function(t){this.$frame.css("z-index",t+1)},__onClosed:function(){this.destroy()}});return n}),i("wcDocker/webview",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcIFrame",constructor:function(t,e){this._panel=e,this._layout=e.layout(),this.$container=$(t),this.$frame=null,this.$focus=null,this.$webView=null,this._window=null,this._isDocking=!1,this._isHovering=!1,this._boundEvents=[],this._onBeforeAppendFuncs=[],this._onLoadFuncs=[],this._onClosedFuncs=[],this.__init()},openURL:function(t,e){var i=this;e=e||[],this.__clearFrame(),this.$webView=$('<webview style="height: 100%; width: 100%"></webview>'),this.$webView[0].src=t;var n=["partition","preload","webpreferences","allowpopups","blinkfeatures","disableblinkfeatures","guestinstance","disableguestresize"];n.forEach(function(t){e[t]&&(i.$webView[0][t]=e[t])});for(var r=0;r<i._onBeforeAppendFuncs.length;++r)i._onBeforeAppendFuncs[r](i,e);this.$frame.prepend(this.$webView),this.__onMoved(),this._window=this.$webView[0],this.__updateFrame(),this.$webView[0].focus(),this.$webView.hover(this.__onHoverEnter.bind(this),this.__onHoverExit.bind(this)),this.$webView.on("did-finish-load",function(){for(var t=0;t<i._onLoadFuncs.length;++t)i._onLoadFuncs[t](i)})},onBeforeAppend:function(t){this._onBeforeAppendFuncs.push(t)},onLoaded:function(t){this._onLoadFuncs.push(t)},onClosed:function(t){this._onClosedFuncs.push(t)},show:function(){this.$frame&&this.$frame.removeClass("wcIFrameHidden")},hide:function(){this.$frame&&this.$frame.addClass("wcIFrameHidden")},window:function(){return this._window},destroy:function(){for(;this._boundEvents.length;)this._panel.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this.__clearFrame(),this._panel=null,this._layout=null,this.$container=null,this.$frame.remove(),this.$frame=null,this.$focus=null},__init:function(){this.$frame=$('<div class="wcIFrame">'),this.$focus=$('<div class="wcIFrameFocus">'),this._panel.docker().$container.append(this.$frame),this.$frame.append(this.$focus),this._boundEvents.push({event:e.EVENT.VISIBILITY_CHANGED,handler:this.__onVisibilityChanged.bind(this)}),this._boundEvents.push({event:e.EVENT.BEGIN_DOCK,handler:this.__onBeginDock.bind(this)}),this._boundEvents.push({event:e.EVENT.END_DOCK,handler:this.__onEndDock.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVE_STARTED,handler:this.__onMoveStarted.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZE_STARTED,handler:this.__onMoveStarted.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVE_ENDED,handler:this.__onMoveFinished.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZE_ENDED,handler:this.__onMoveFinished.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVED,handler:this.__onMoved.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZED,handler:this.__onMoved.bind(this)}),this._boundEvents.push({event:e.EVENT.ATTACHED,handler:this.__onAttached.bind(this)}),this._boundEvents.push({event:e.EVENT.DETACHED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.GAIN_FOCUS,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.LOST_FOCUS,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.PERSISTENT_OPENED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.PERSISTENT_CLOSED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.__onClosed.bind(this)}),this._boundEvents.push({event:e.EVENT.ORDER_CHANGED,handler:this.__onOrderChanged.bind(this)});for(var t=0;t<this._boundEvents.length;++t)this._panel.on(this._boundEvents[t].event,this._boundEvents[t].handler);$(window).blur(this.__onBlur.bind(this))},__clearFrame:function(){if(this.$webView){for(var t=0;t<this._onClosedFuncs.length;++t)this._onClosedFuncs[t]();this._onClosedFuncs=[],this.$webView[0].srcdoc="",this.$webView.remove(),this.$webView=null,this._window=null}},__updateFrame:function(){if(this.$frame&&this._panel){var t=this._panel.isFloating();this.$frame.toggleClass("wcIFrameFloating",t),t?this.$frame.toggleClass("wcIFrameFloatingFocus",focus):this.$frame.removeClass("wcIFrameFloatingFocus"),this.$frame.toggleClass("wcIFramePanelHidden",!this._panel.isVisible()),this._panel&&this._panel._parent&&this._panel._parent.instanceOf("wcFrame")&&this.$frame.toggleClass("wcDrawer",this._panel._parent.isCollapser())}},__focusFix:function(){this.$frame.css("left",parseInt(this.$frame.css("left"))+1),this.$frame.css("left",parseInt(this.$frame.css("left"))-1)},__onHoverEnter:function(){this._isHovering=!0},__onHoverExit:function(){this._isHovering=!1},__onBlur:function(){this._isHovering&&this.__onFocus()},__onFocus:function(){this._panel&&this.docker(this._panel).__focus(this._panel._parent)},__onVisibilityChanged:function(){this.__updateFrame(),this._panel.isVisible()&&this.__onMoved()},__onBeginDock:function(){this.$frame&&(this._isDocking=!0,this.$frame.addClass("wcIFrameMoving"))},__onEndDock:function(){this.$frame&&(this._isDocking=!1,this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onAttached:function(){this.$frame.css("z-index",""),this.__updateFrame()},__onMoveStarted:function(){this.$frame&&!this._isDocking&&this.$frame.addClass("wcIFrameMoving")},__onMoveFinished:function(){this.$frame&&!this._isDocking&&(this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onMoved:function(){if(this.$frame&&this._panel){var t=this.docker(this._panel);if(t){var e=t.$container.offset(),i=this.$container.offset(),n=this.$container.width(),r=this.$container.height();this.$frame.css("top",i.top-e.top),this.$frame.css("left",i.left-e.left),this.$frame.css("width",n),this.$frame.css("height",r)}else console.error("have no docker")}},__onOrderChanged:function(t){this.$frame.css("z-index",t+1)},__onClosed:function(){this.destroy()}});return n}),i("wcDocker/absolute",["dcl/dcl","./types","./base"],function(t,e,i){var n=t(i,{declaredClass:"wcIFrame",constructor:function(t,e){this._panel=e,this._layout=e.layout(),this.$container=$(t),this.$frame=null,this.$focus=null,this._isDocking=!1,this._isHovering=!1,this._boundEvents=[],this._onClosedFuncs=[],this.__init()},setContent:function(t,e){e=e||[],this.__clearFrame(),this.$content=$(t),this.$frame.prepend(this.$content),this.__onMoved(),this.__updateFrame(),this.$content.hover(this.__onHoverEnter.bind(this),this.__onHoverExit.bind(this))},onClosed:function(t){this._onClosedFuncs.push(t)},show:function(){this.$frame&&this.$frame.removeClass("wcIFrameHidden")},hide:function(){this.$frame&&this.$frame.addClass("wcIFrameHidden")},destroy:function(){for(;this._boundEvents.length;)this._panel.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this.__clearFrame(),this._panel=null,this._layout=null,this.$container=null,this.$frame.remove(),this.$frame=null,this.$focus=null},__init:function(){this.$frame=$('<div class="wcIFrame">'),this.$focus=$('<div class="wcIFrameFocus">'),this._panel.docker().$container.append(this.$frame),this.$frame.append(this.$focus),this._boundEvents.push({event:e.EVENT.VISIBILITY_CHANGED,handler:this.__onVisibilityChanged.bind(this)}),this._boundEvents.push({event:e.EVENT.BEGIN_DOCK,handler:this.__onBeginDock.bind(this)}),this._boundEvents.push({event:e.EVENT.END_DOCK,handler:this.__onEndDock.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVE_STARTED,handler:this.__onMoveStarted.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZE_STARTED,handler:this.__onMoveStarted.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVE_ENDED,handler:this.__onMoveFinished.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZE_ENDED,handler:this.__onMoveFinished.bind(this)}),this._boundEvents.push({event:e.EVENT.MOVED,handler:this.__onMoved.bind(this)}),this._boundEvents.push({event:e.EVENT.RESIZED,handler:this.__onMoved.bind(this)}),this._boundEvents.push({event:e.EVENT.ATTACHED,handler:this.__onAttached.bind(this)}),this._boundEvents.push({event:e.EVENT.DETACHED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.GAIN_FOCUS,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.LOST_FOCUS,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.PERSISTENT_OPENED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.PERSISTENT_CLOSED,handler:this.__updateFrame.bind(this)}),this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.__onClosed.bind(this)}),this._boundEvents.push({event:e.EVENT.ORDER_CHANGED,handler:this.__onOrderChanged.bind(this)});for(var t=0;t<this._boundEvents.length;++t)this._panel.on(this._boundEvents[t].event,this._boundEvents[t].handler);$(window).blur(this.__onBlur.bind(this))},__clearFrame:function(){if(this.$content){for(var t=0;t<this._onClosedFuncs.length;++t)this._onClosedFuncs[t]();this._onClosedFuncs=[]}},__updateFrame:function(){if(this.$frame&&this._panel){var t=this._panel.isFloating();this.$frame.toggleClass("wcIFrameFloating",t),t?this.$frame.toggleClass("wcIFrameFloatingFocus",focus):this.$frame.removeClass("wcIFrameFloatingFocus"),this.$frame.toggleClass("wcIFramePanelHidden",!this._panel.isVisible()),this._panel&&this._panel._parent&&this._panel._parent.instanceOf("wcFrame")&&this.$frame.toggleClass("wcDrawer",this._panel._parent.isCollapser())}},__focusFix:function(){this.$frame.css("left",parseInt(this.$frame.css("left"))+1),this.$frame.css("left",parseInt(this.$frame.css("left"))-1)},__onHoverEnter:function(){this._isHovering=!0},__onHoverExit:function(){this._isHovering=!1},__onBlur:function(){this._isHovering&&this.__onFocus()},__onFocus:function(){this._panel&&this.docker(this._panel).__focus(this._panel._parent)},__onVisibilityChanged:function(){this.__updateFrame(),this._panel.isVisible()&&this.__onMoved()},__onBeginDock:function(){this.$frame&&(this._isDocking=!0,this.$frame.addClass("wcIFrameMoving"))},__onEndDock:function(){this.$frame&&(this._isDocking=!1,this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onAttached:function(){this.$frame.css("z-index",""),this.__updateFrame()},__onMoveStarted:function(){this.$frame&&!this._isDocking&&this.$frame.addClass("wcIFrameMoving")},__onMoveFinished:function(){this.$frame&&!this._isDocking&&(this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onMoved:function(){if(this.$frame&&this._panel){var t=this.docker(this._panel);if(t){var e=t.$container.offset(),i=this.$container.offset(),n=this.$container.width(),r=this.$container.height();this.$frame.css("top",i.top-e.top),this.$frame.css("left",i.left-e.left),this.$frame.css("width",n),this.$frame.css("height",r)}else console.error("have no docker")}},__onOrderChanged:function(t){this.$frame.css("z-index",t+1)},__onClosed:function(){this.destroy()}});return n}),e.config({baseUrl:"./bower_components",shim:{lodash:{exports:"_"}},packages:[{name:"dcl",location:"./dcl"},{name:"wcDocker",location:"../Code"},{name:"lodash",location:"./lodash-compat"}]}),e.config({config:{}}),e(["wcDocker/docker","wcDocker/splitter","wcDocker/tabframe","wcDocker/iframe","wcDocker/webview","wcDocker/absolute"],function(t,e,i,n,r,s){window.wcDocker=t,window.wcSplitter=e,window.wcTabFrame=i,window.wcIFrame=n,window.wcWebView=r,window.wcAbsolute=s,console.log("exported wcDocker")},void 0,!0),i("wcDockerLibrary",function(){})}();